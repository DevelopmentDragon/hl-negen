; Listing generated by Microsoft (R) Optimizing Compiler Version 19.37.32705.0 

	TITLE	D:\DevDragon\XashFE\dev\src\temp\engine\!debug\gl_beams.obj
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB MSVCRTD
INCLUDELIB OLDNAMES

PUBLIC	_cl_viewbeams
_DATA	SEGMENT
COMM	_pglGetError:DWORD
COMM	_pglGetString:DWORD
COMM	_pglAccum:DWORD
COMM	_pglAlphaFunc:DWORD
COMM	_pglArrayElement:DWORD
COMM	_pglBegin:DWORD
COMM	_pglBindTexture:DWORD
COMM	_pglBitmap:DWORD
COMM	_pglBlendFunc:DWORD
COMM	_pglCallList:DWORD
COMM	_pglCallLists:DWORD
COMM	_pglClear:DWORD
COMM	_pglClearAccum:DWORD
COMM	_pglClearColor:DWORD
COMM	_pglClearDepth:DWORD
COMM	_pglClearIndex:DWORD
COMM	_pglClearStencil:DWORD
COMM	_pglIsEnabled:DWORD
COMM	_pglIsList:DWORD
COMM	_pglIsTexture:DWORD
COMM	_pglClipPlane:DWORD
COMM	_pglColor3b:DWORD
COMM	_pglColor3bv:DWORD
COMM	_pglColor3d:DWORD
COMM	_pglColor3dv:DWORD
COMM	_pglColor3f:DWORD
COMM	_pglColor3fv:DWORD
COMM	_pglColor3i:DWORD
COMM	_pglColor3iv:DWORD
COMM	_pglColor3s:DWORD
COMM	_pglColor3sv:DWORD
COMM	_pglColor3ub:DWORD
COMM	_pglColor3ubv:DWORD
COMM	_pglColor3ui:DWORD
COMM	_pglColor3uiv:DWORD
COMM	_pglColor3us:DWORD
COMM	_pglColor3usv:DWORD
COMM	_pglColor4b:DWORD
COMM	_pglColor4bv:DWORD
COMM	_pglColor4d:DWORD
COMM	_pglColor4dv:DWORD
COMM	_pglColor4f:DWORD
COMM	_pglColor4fv:DWORD
COMM	_pglColor4i:DWORD
COMM	_pglColor4iv:DWORD
COMM	_pglColor4s:DWORD
COMM	_pglColor4sv:DWORD
COMM	_pglColor4ub:DWORD
COMM	_pglColor4ubv:DWORD
COMM	_pglColor4ui:DWORD
COMM	_pglColor4uiv:DWORD
COMM	_pglColor4us:DWORD
COMM	_pglColor4usv:DWORD
COMM	_pglColorMask:DWORD
COMM	_pglColorMaterial:DWORD
COMM	_pglColorPointer:DWORD
COMM	_pglCopyPixels:DWORD
COMM	_pglCopyTexImage1D:DWORD
COMM	_pglCopyTexImage2D:DWORD
COMM	_pglCopyTexSubImage1D:DWORD
COMM	_pglCopyTexSubImage2D:DWORD
COMM	_pglCullFace:DWORD
COMM	_pglDeleteLists:DWORD
COMM	_pglDeleteTextures:DWORD
COMM	_pglDepthFunc:DWORD
COMM	_pglDepthMask:DWORD
COMM	_pglDepthRange:DWORD
COMM	_pglDisable:DWORD
COMM	_pglDisableClientState:DWORD
COMM	_pglDrawArrays:DWORD
COMM	_pglDrawBuffer:DWORD
COMM	_pglDrawElements:DWORD
COMM	_pglDrawPixels:DWORD
COMM	_pglEdgeFlag:DWORD
COMM	_pglEdgeFlagPointer:DWORD
COMM	_pglEdgeFlagv:DWORD
COMM	_pglEnable:DWORD
COMM	_pglEnableClientState:DWORD
COMM	_pglEnd:DWORD
COMM	_pglEndList:DWORD
COMM	_pglEvalCoord1d:DWORD
COMM	_pglEvalCoord1dv:DWORD
COMM	_pglEvalCoord1f:DWORD
COMM	_pglEvalCoord1fv:DWORD
COMM	_pglEvalCoord2d:DWORD
COMM	_pglEvalCoord2dv:DWORD
COMM	_pglEvalCoord2f:DWORD
COMM	_pglEvalCoord2fv:DWORD
COMM	_pglEvalMesh1:DWORD
COMM	_pglEvalMesh2:DWORD
COMM	_pglEvalPoint1:DWORD
COMM	_pglEvalPoint2:DWORD
COMM	_pglFeedbackBuffer:DWORD
COMM	_pglFinish:DWORD
COMM	_pglFlush:DWORD
COMM	_pglFogf:DWORD
COMM	_pglFogfv:DWORD
COMM	_pglFogi:DWORD
COMM	_pglFogiv:DWORD
COMM	_pglFrontFace:DWORD
COMM	_pglFrustum:DWORD
COMM	_pglGenTextures:DWORD
COMM	_pglGetBooleanv:DWORD
COMM	_pglGetClipPlane:DWORD
COMM	_pglGetDoublev:DWORD
COMM	_pglGetFloatv:DWORD
COMM	_pglGetIntegerv:DWORD
COMM	_pglGetLightfv:DWORD
COMM	_pglGetLightiv:DWORD
COMM	_pglGetMapdv:DWORD
COMM	_pglGetMapfv:DWORD
COMM	_pglGetMapiv:DWORD
COMM	_pglGetMaterialfv:DWORD
COMM	_pglGetMaterialiv:DWORD
COMM	_pglGetPixelMapfv:DWORD
COMM	_pglGetPixelMapuiv:DWORD
COMM	_pglGetPixelMapusv:DWORD
COMM	_pglGetPointerv:DWORD
COMM	_pglGetPolygonStipple:DWORD
COMM	_pglGetTexEnvfv:DWORD
COMM	_pglGetTexEnviv:DWORD
COMM	_pglGetTexGendv:DWORD
COMM	_pglGetTexGenfv:DWORD
COMM	_pglGetTexGeniv:DWORD
COMM	_pglGetTexImage:DWORD
COMM	_pglGetTexLevelParameterfv:DWORD
COMM	_pglGetTexLevelParameteriv:DWORD
COMM	_pglGetTexParameterfv:DWORD
COMM	_pglGetTexParameteriv:DWORD
COMM	_pglHint:DWORD
COMM	_pglIndexMask:DWORD
COMM	_pglIndexPointer:DWORD
COMM	_pglIndexd:DWORD
COMM	_pglIndexdv:DWORD
COMM	_pglIndexf:DWORD
COMM	_pglIndexfv:DWORD
COMM	_pglIndexi:DWORD
COMM	_pglIndexiv:DWORD
COMM	_pglIndexs:DWORD
COMM	_pglIndexsv:DWORD
COMM	_pglIndexub:DWORD
COMM	_pglIndexubv:DWORD
COMM	_pglInitNames:DWORD
COMM	_pglInterleavedArrays:DWORD
COMM	_pglLightModelf:DWORD
COMM	_pglLightModelfv:DWORD
COMM	_pglLightModeli:DWORD
COMM	_pglLightModeliv:DWORD
COMM	_pglLightf:DWORD
COMM	_pglLightfv:DWORD
COMM	_pglLighti:DWORD
COMM	_pglLightiv:DWORD
COMM	_pglLineStipple:DWORD
COMM	_pglLineWidth:DWORD
COMM	_pglListBase:DWORD
COMM	_pglLoadIdentity:DWORD
COMM	_pglLoadMatrixd:DWORD
COMM	_pglLoadMatrixf:DWORD
COMM	_pglLoadName:DWORD
COMM	_pglLogicOp:DWORD
COMM	_pglMap1d:DWORD
COMM	_pglMap1f:DWORD
COMM	_pglMap2d:DWORD
COMM	_pglMap2f:DWORD
COMM	_pglMapGrid1d:DWORD
COMM	_pglMapGrid1f:DWORD
COMM	_pglMapGrid2d:DWORD
COMM	_pglMapGrid2f:DWORD
COMM	_pglMaterialf:DWORD
COMM	_pglMaterialfv:DWORD
COMM	_pglMateriali:DWORD
COMM	_pglMaterialiv:DWORD
COMM	_pglMatrixMode:DWORD
COMM	_pglMultMatrixd:DWORD
COMM	_pglMultMatrixf:DWORD
COMM	_pglNewList:DWORD
COMM	_pglNormal3b:DWORD
COMM	_pglNormal3bv:DWORD
COMM	_pglNormal3d:DWORD
COMM	_pglNormal3dv:DWORD
COMM	_pglNormal3f:DWORD
COMM	_pglNormal3fv:DWORD
COMM	_pglNormal3i:DWORD
COMM	_pglNormal3iv:DWORD
COMM	_pglNormal3s:DWORD
COMM	_pglNormal3sv:DWORD
COMM	_pglNormalPointer:DWORD
COMM	_pglOrtho:DWORD
COMM	_pglPassThrough:DWORD
COMM	_pglPixelMapfv:DWORD
COMM	_pglPixelMapuiv:DWORD
COMM	_pglPixelMapusv:DWORD
COMM	_pglPixelStoref:DWORD
COMM	_pglPixelStorei:DWORD
COMM	_pglPixelTransferf:DWORD
COMM	_pglPixelTransferi:DWORD
COMM	_pglPixelZoom:DWORD
COMM	_pglPointSize:DWORD
COMM	_pglPolygonMode:DWORD
COMM	_pglPolygonOffset:DWORD
COMM	_pglPolygonStipple:DWORD
COMM	_pglPopAttrib:DWORD
COMM	_pglPopClientAttrib:DWORD
COMM	_pglPopMatrix:DWORD
COMM	_pglPopName:DWORD
COMM	_pglPushAttrib:DWORD
COMM	_pglPushClientAttrib:DWORD
COMM	_pglPushMatrix:DWORD
COMM	_pglPushName:DWORD
COMM	_pglRasterPos2d:DWORD
COMM	_pglRasterPos2dv:DWORD
COMM	_pglRasterPos2f:DWORD
COMM	_pglRasterPos2fv:DWORD
COMM	_pglRasterPos2i:DWORD
COMM	_pglRasterPos2iv:DWORD
COMM	_pglRasterPos2s:DWORD
COMM	_pglRasterPos2sv:DWORD
COMM	_pglRasterPos3d:DWORD
COMM	_pglRasterPos3dv:DWORD
COMM	_pglRasterPos3f:DWORD
COMM	_pglRasterPos3fv:DWORD
COMM	_pglRasterPos3i:DWORD
COMM	_pglRasterPos3iv:DWORD
COMM	_pglRasterPos3s:DWORD
COMM	_pglRasterPos3sv:DWORD
COMM	_pglRasterPos4d:DWORD
COMM	_pglRasterPos4dv:DWORD
COMM	_pglRasterPos4f:DWORD
COMM	_pglRasterPos4fv:DWORD
COMM	_pglRasterPos4i:DWORD
COMM	_pglRasterPos4iv:DWORD
COMM	_pglRasterPos4s:DWORD
COMM	_pglRasterPos4sv:DWORD
COMM	_pglReadBuffer:DWORD
COMM	_pglReadPixels:DWORD
COMM	_pglRectd:DWORD
COMM	_pglRectdv:DWORD
COMM	_pglRectf:DWORD
COMM	_pglRectfv:DWORD
COMM	_pglRecti:DWORD
COMM	_pglRectiv:DWORD
COMM	_pglRects:DWORD
COMM	_pglRectsv:DWORD
COMM	_pglRotated:DWORD
COMM	_pglRotatef:DWORD
COMM	_pglScaled:DWORD
COMM	_pglScalef:DWORD
COMM	_pglScissor:DWORD
COMM	_pglSelectBuffer:DWORD
COMM	_pglShadeModel:DWORD
COMM	_pglStencilFunc:DWORD
COMM	_pglStencilMask:DWORD
COMM	_pglStencilOp:DWORD
COMM	_pglTexCoord1d:DWORD
COMM	_pglTexCoord1dv:DWORD
COMM	_pglTexCoord1f:DWORD
COMM	_pglTexCoord1fv:DWORD
COMM	_pglTexCoord1i:DWORD
COMM	_pglTexCoord1iv:DWORD
COMM	_pglTexCoord1s:DWORD
COMM	_pglTexCoord1sv:DWORD
COMM	_pglTexCoord2d:DWORD
COMM	_pglTexCoord2dv:DWORD
COMM	_pglTexCoord2f:DWORD
COMM	_pglTexCoord2fv:DWORD
COMM	_pglTexCoord2i:DWORD
COMM	_pglTexCoord2iv:DWORD
COMM	_pglTexCoord2s:DWORD
COMM	_pglTexCoord2sv:DWORD
COMM	_pglTexCoord3d:DWORD
COMM	_pglTexCoord3dv:DWORD
COMM	_pglTexCoord3f:DWORD
COMM	_pglTexCoord3fv:DWORD
COMM	_pglTexCoord3i:DWORD
COMM	_pglTexCoord3iv:DWORD
COMM	_pglTexCoord3s:DWORD
COMM	_pglTexCoord3sv:DWORD
COMM	_pglTexCoord4d:DWORD
COMM	_pglTexCoord4dv:DWORD
COMM	_pglTexCoord4f:DWORD
COMM	_pglTexCoord4fv:DWORD
COMM	_pglTexCoord4i:DWORD
COMM	_pglTexCoord4iv:DWORD
COMM	_pglTexCoord4s:DWORD
COMM	_pglTexCoord4sv:DWORD
COMM	_pglTexCoordPointer:DWORD
COMM	_pglTexEnvf:DWORD
COMM	_pglTexEnvfv:DWORD
COMM	_pglTexEnvi:DWORD
COMM	_pglTexEnviv:DWORD
COMM	_pglTexGend:DWORD
COMM	_pglTexGendv:DWORD
COMM	_pglTexGenf:DWORD
COMM	_pglTexGenfv:DWORD
COMM	_pglTexGeni:DWORD
COMM	_pglTexGeniv:DWORD
COMM	_pglTexImage1D:DWORD
COMM	_pglTexImage2D:DWORD
COMM	_pglTexParameterf:DWORD
COMM	_pglTexParameterfv:DWORD
COMM	_pglTexParameteri:DWORD
COMM	_pglTexParameteriv:DWORD
COMM	_pglTexSubImage1D:DWORD
COMM	_pglTexSubImage2D:DWORD
COMM	_pglTranslated:DWORD
COMM	_pglTranslatef:DWORD
COMM	_pglVertex2d:DWORD
COMM	_pglVertex2dv:DWORD
COMM	_pglVertex2f:DWORD
COMM	_pglVertex2fv:DWORD
COMM	_pglVertex2i:DWORD
COMM	_pglVertex2iv:DWORD
COMM	_pglVertex2s:DWORD
COMM	_pglVertex2sv:DWORD
COMM	_pglVertex3d:DWORD
COMM	_pglVertex3dv:DWORD
COMM	_pglVertex3f:DWORD
COMM	_pglVertex3fv:DWORD
COMM	_pglVertex3i:DWORD
COMM	_pglVertex3iv:DWORD
COMM	_pglVertex3s:DWORD
COMM	_pglVertex3sv:DWORD
COMM	_pglVertex4d:DWORD
COMM	_pglVertex4dv:DWORD
COMM	_pglVertex4f:DWORD
COMM	_pglVertex4fv:DWORD
COMM	_pglVertex4i:DWORD
COMM	_pglVertex4iv:DWORD
COMM	_pglVertex4s:DWORD
COMM	_pglVertex4sv:DWORD
COMM	_pglVertexPointer:DWORD
COMM	_pglViewport:DWORD
COMM	_pglPointParameterfEXT:DWORD
COMM	_pglPointParameterfvEXT:DWORD
COMM	_pglLockArraysEXT:DWORD
COMM	_pglUnlockArraysEXT:DWORD
COMM	_pglActiveTextureARB:DWORD
COMM	_pglClientActiveTextureARB:DWORD
COMM	_pglGetCompressedTexImage:DWORD
COMM	_pglDrawRangeElements:DWORD
COMM	_pglDrawRangeElementsEXT:DWORD
COMM	_pglMultiTexCoord1f:DWORD
COMM	_pglMultiTexCoord2f:DWORD
COMM	_pglMultiTexCoord3f:DWORD
COMM	_pglMultiTexCoord4f:DWORD
COMM	_pglActiveTexture:DWORD
COMM	_pglClientActiveTexture:DWORD
COMM	_pglCompressedTexImage3DARB:DWORD
COMM	_pglCompressedTexImage2DARB:DWORD
COMM	_pglCompressedTexImage1DARB:DWORD
COMM	_pglCompressedTexSubImage3DARB:DWORD
COMM	_pglCompressedTexSubImage2DARB:DWORD
COMM	_pglCompressedTexSubImage1DARB:DWORD
COMM	_pglDeleteObjectARB:DWORD
COMM	_pglGetHandleARB:DWORD
COMM	_pglDetachObjectARB:DWORD
COMM	_pglCreateShaderObjectARB:DWORD
COMM	_pglShaderSourceARB:DWORD
COMM	_pglCompileShaderARB:DWORD
COMM	_pglCreateProgramObjectARB:DWORD
COMM	_pglAttachObjectARB:DWORD
COMM	_pglLinkProgramARB:DWORD
COMM	_pglUseProgramObjectARB:DWORD
COMM	_pglValidateProgramARB:DWORD
COMM	_pglBindProgramARB:DWORD
COMM	_pglDeleteProgramsARB:DWORD
COMM	_pglGenProgramsARB:DWORD
COMM	_pglProgramStringARB:DWORD
COMM	_pglProgramEnvParameter4fARB:DWORD
COMM	_pglProgramLocalParameter4fARB:DWORD
COMM	_pglUniform1fARB:DWORD
COMM	_pglUniform2fARB:DWORD
COMM	_pglUniform3fARB:DWORD
COMM	_pglUniform4fARB:DWORD
COMM	_pglUniform1iARB:DWORD
COMM	_pglUniform2iARB:DWORD
COMM	_pglUniform3iARB:DWORD
COMM	_pglUniform4iARB:DWORD
COMM	_pglUniform1fvARB:DWORD
COMM	_pglUniform2fvARB:DWORD
COMM	_pglUniform3fvARB:DWORD
COMM	_pglUniform4fvARB:DWORD
COMM	_pglUniform1ivARB:DWORD
COMM	_pglUniform2ivARB:DWORD
COMM	_pglUniform3ivARB:DWORD
COMM	_pglUniform4ivARB:DWORD
COMM	_pglUniformMatrix2fvARB:DWORD
COMM	_pglUniformMatrix3fvARB:DWORD
COMM	_pglUniformMatrix4fvARB:DWORD
COMM	_pglGetObjectParameterfvARB:DWORD
COMM	_pglGetObjectParameterivARB:DWORD
COMM	_pglGetInfoLogARB:DWORD
COMM	_pglGetAttachedObjectsARB:DWORD
COMM	_pglGetUniformLocationARB:DWORD
COMM	_pglGetActiveUniformARB:DWORD
COMM	_pglGetUniformfvARB:DWORD
COMM	_pglGetUniformivARB:DWORD
COMM	_pglGetShaderSourceARB:DWORD
COMM	_pglTexImage3D:DWORD
COMM	_pglTexSubImage3D:DWORD
COMM	_pglCopyTexSubImage3D:DWORD
COMM	_pglBlendEquationEXT:DWORD
COMM	_pglStencilOpSeparate:DWORD
COMM	_pglStencilFuncSeparate:DWORD
COMM	_pglActiveStencilFaceEXT:DWORD
COMM	_pglVertexAttribPointerARB:DWORD
COMM	_pglEnableVertexAttribArrayARB:DWORD
COMM	_pglDisableVertexAttribArrayARB:DWORD
COMM	_pglBindAttribLocationARB:DWORD
COMM	_pglGetActiveAttribARB:DWORD
COMM	_pglGetAttribLocationARB:DWORD
COMM	_pglBindFragDataLocation:DWORD
COMM	_pglVertexAttrib2fARB:DWORD
COMM	_pglVertexAttrib2fvARB:DWORD
COMM	_pglVertexAttrib3fvARB:DWORD
COMM	_pglBindBufferARB:DWORD
COMM	_pglDeleteBuffersARB:DWORD
COMM	_pglGenBuffersARB:DWORD
COMM	_pglIsBufferARB:DWORD
COMM	_pglMapBufferARB:DWORD
COMM	_pglUnmapBufferARB:DWORD
COMM	_pglBufferDataARB:DWORD
COMM	_pglBufferSubDataARB:DWORD
COMM	_pglGenQueriesARB:DWORD
COMM	_pglDeleteQueriesARB:DWORD
COMM	_pglIsQueryARB:DWORD
COMM	_pglBeginQueryARB:DWORD
COMM	_pglEndQueryARB:DWORD
COMM	_pglGetQueryivARB:DWORD
COMM	_pglGetQueryObjectivARB:DWORD
COMM	_pglGetQueryObjectuivARB:DWORD
COMM	_pglDebugMessageControlARB:DWORD
COMM	_pglDebugMessageInsertARB:DWORD
COMM	_pglDebugMessageCallbackARB:DWORD
COMM	_pglGetDebugMessageLogARB:DWORD
COMM	_pglIsRenderbuffer:DWORD
COMM	_pglBindRenderbuffer:DWORD
COMM	_pglDeleteRenderbuffers:DWORD
COMM	_pglGenRenderbuffers:DWORD
COMM	_pglRenderbufferStorage:DWORD
COMM	_pglRenderbufferStorageMultisample:DWORD
COMM	_pglGetRenderbufferParameteriv:DWORD
COMM	_pglIsFramebuffer:DWORD
COMM	_pglBindFramebuffer:DWORD
COMM	_pglDeleteFramebuffers:DWORD
COMM	_pglGenFramebuffers:DWORD
COMM	_pglCheckFramebufferStatus:DWORD
COMM	_pglFramebufferTexture1D:DWORD
COMM	_pglFramebufferTexture2D:DWORD
COMM	_pglFramebufferTexture3D:DWORD
COMM	_pglFramebufferTextureLayer:DWORD
COMM	_pglFramebufferRenderbuffer:DWORD
COMM	_pglGetFramebufferAttachmentParameteriv:DWORD
COMM	_pglBlitFramebuffer:DWORD
COMM	_pglDrawBuffersARB:DWORD
COMM	_pglGenerateMipmap:DWORD
COMM	_pglBindVertexArray:DWORD
COMM	_pglDeleteVertexArrays:DWORD
COMM	_pglGenVertexArrays:DWORD
COMM	_pglIsVertexArray:DWORD
COMM	_pglSwapInterval:DWORD
COMM	_pwglSwapBuffers:DWORD
COMM	_pwglCopyContext:DWORD
COMM	_pwglCreateContext:DWORD
COMM	_pwglCreateLayerContext:DWORD
COMM	_pwglDeleteContext:DWORD
COMM	_pwglGetCurrentContext:DWORD
COMM	_pwglGetProcAddress:DWORD
COMM	_pwglMakeCurrent:DWORD
COMM	_pwglShareLists:DWORD
COMM	_pwglUseFontBitmaps:DWORD
COMM	_pwglUseFontOutlines:DWORD
COMM	_pwglDescribeLayerPlane:DWORD
COMM	_pwglSetLayerPaletteEntries:DWORD
COMM	_pwglGetLayerPaletteEntries:DWORD
COMM	_pwglRealizeLayerPalette:DWORD
COMM	_pwglSwapLayerBuffers:DWORD
COMM	_pwglSwapIntervalEXT:DWORD
COMM	_pwglCreateContextAttribsARB:DWORD
COMM	_pwglGetPixelFormatAttribiv:DWORD
COMM	_pwglChoosePixelFormat:DWORD
COMM	_pwglGetExtensionsStringEXT:DWORD
COMM	_cl_active_beams:DWORD
COMM	_cl_free_beams:DWORD
_DATA	ENDS
_BSS	SEGMENT
_cl_viewbeams DD 01H DUP (?)
_BSS	ENDS
PUBLIC	_CL_InitViewBeams
PUBLIC	_CL_ClearViewBeams
PUBLIC	_CL_FreeViewBeams
PUBLIC	_CL_DrawBeams
PUBLIC	_CL_AddCustomBeam
PUBLIC	_CL_KillDeadBeams
PUBLIC	_CL_ParseViewBeam
PUBLIC	_CL_ReadLineFile_f
PUBLIC	_R_BeamLightning
PUBLIC	_R_BeamEnts
PUBLIC	_R_BeamPoints
PUBLIC	_R_BeamCirclePoints
PUBLIC	_R_BeamEntPoint
PUBLIC	_R_BeamRing
PUBLIC	_R_BeamFollow
PUBLIC	_R_BeamKill
PUBLIC	_R_BeamAlloc
PUBLIC	_R_BeamFree
PUBLIC	_R_BeamSetup
PUBLIC	_R_BeamSetAttributes
PUBLIC	_R_BeamRecomputeEndpoints
PUBLIC	_R_BeamCull
PUBLIC	_R_DrawTorus
PUBLIC	_R_DrawDisk
PUBLIC	_R_DrawCylinder
PUBLIC	_R_DrawBeamFollow
PUBLIC	_R_DrawRing
PUBLIC	_R_BeamDraw
PUBLIC	_R_BeamDrawCustomEntity
PUBLIC	_CL_BeamAttemptToDie
PUBLIC	_R_BeamSprite
PUBLIC	??_C@_0DC@BCGAOLBG@?$FO1Error?3?$FO7?5R_BeamComputePoint?3?5@ ; `string'
PUBLIC	?__LINE__Var@?0??R_DrawSegs@@9@9		; `R_DrawSegs'::`1'::__LINE__Var
PUBLIC	??_C@_0DF@KGKEPMBF@D?3?2DevDragon?2XashFE?2dev?2src?2eng@ ; `string'
PUBLIC	??_C@_0CH@DNMOKALN@noiseIndex?5?$DM?5?$CI?5NOISE_DIVISIONS?5@ ; `string'
PUBLIC	?__LINE__Var@?0??CL_InitViewBeams@@9@9		; `CL_InitViewBeams'::`1'::__LINE__Var
PUBLIC	?__LINE__Var@?0??CL_FreeViewBeams@@9@9		; `CL_FreeViewBeams'::`1'::__LINE__Var
PUBLIC	??_C@_0BP@BMKJIJGA@?$FO1Error?3?$FO7?5Too?5many?5beams?5?$CFd?$CB?6@ ; `string'
PUBLIC	?__LINE__Var@?0??CL_BeamAttemptToDie@@9@9	; `CL_BeamAttemptToDie'::`1'::__LINE__Var
PUBLIC	??_C@_0O@FLCBIAGH@pBeam?5?$CB?$DN?5NULL@	; `string'
PUBLIC	?__LINE__Var@?0??CL_ReadLineFile_f@@9@9		; `CL_ReadLineFile_f'::`1'::__LINE__Var
PUBLIC	??_C@_0M@BPPGBBPA@maps?1?$CFs?4lin@		; `string'
PUBLIC	??_C@_0BN@JCJEHCDP@?$FO1Error?3?$FO7?5couldn?8t?5open?5?$CFs?6@ ; `string'
PUBLIC	??_C@_0P@DNKMKNEK@Reading?5?$CFs?4?4?4?6@	; `string'
PUBLIC	??_C@_0BG@LKPONKLB@sprites?1laserbeam?4spr@	; `string'
PUBLIC	??_C@_0BM@DOBMGBFD@?$FO1Error?3?$FO7?5?$CFs?5is?5corrupted?6@ ; `string'
PUBLIC	??_C@_0CB@CHKJIBFJ@?$FO1Error?3?$FO7?5failed?5to?5load?5?$CC?$CFs?$CC?$CB@ ; `string'
PUBLIC	??_C@_0CD@HADFGEIM@?$FO1Error?3?$FO7?5not?5enough?5free?5beam@ ; `string'
PUBLIC	??_C@_0P@BBHBNOIF@?$CFi?5lines?5read?6@		; `string'
PUBLIC	??_C@_0BG@IBGKBEMO@map?5?$CFs?5has?5no?5leaks?$CB?6@ ; `string'
PUBLIC	__real@00000000
PUBLIC	__real@3b808081
PUBLIC	__real@3c23d70a
PUBLIC	__real@3dcccccd
PUBLIC	__real@3e000000
PUBLIC	__real@3e7ad7f2a0000000
PUBLIC	__real@3eb33333
PUBLIC	__real@3ecccccd
PUBLIC	__real@3f000000
PUBLIC	__real@3f19999a
PUBLIC	__real@3f27ae14
PUBLIC	__real@3f800000
PUBLIC	__real@3f847ae140000000
PUBLIC	__real@3f847ae147ae147b
PUBLIC	__real@3fb3333340000000
PUBLIC	__real@3fb4fdf4
PUBLIC	__real@3fb99999a0000000
PUBLIC	__real@3fd0000000000000
PUBLIC	__real@3fe0000000000000
PUBLIC	__real@3ff0000000000000
PUBLIC	__real@40000000
PUBLIC	__real@4000000000000000
PUBLIC	__real@4008000000000000
PUBLIC	__real@400921fb60000000
PUBLIC	__real@4024000000000000
PUBLIC	__real@40400000
PUBLIC	__real@40490fdb
PUBLIC	__real@40600000
PUBLIC	__real@40a00000
PUBLIC	__real@40c90fdb
PUBLIC	__real@41000000
PUBLIC	__real@41c00000
PUBLIC	__real@41f00000
PUBLIC	__real@42000000
PUBLIC	__real@427c0000
PUBLIC	__real@42800000
PUBLIC	__real@42c80000
PUBLIC	__real@437f0000
PUBLIC	__real@47800000
PUBLIC	__real@be000000
PUBLIC	__xmm@80000000800000008000000080000000
EXTRN	_memset:PROC
EXTRN	_Q_atof:PROC
EXTRN	_Q_snprintf:PROC
EXTRN	__Mem_Alloc:PROC
EXTRN	__Mem_Free:PROC
EXTRN	_DBG_AssertFunction:PROC
EXTRN	_FS_LoadFile:PROC
EXTRN	_Con_DPrintf:PROC
EXTRN	_Con_Printf:PROC
EXTRN	_COM_ParseFile:PROC
EXTRN	_CL_GetEntityByIndex:PROC
EXTRN	_COM_RandomFloat:PROC
EXTRN	_cos:PROC
EXTRN	_fmod:PROC
EXTRN	_pow:PROC
EXTRN	_sin:PROC
EXTRN	_sqrt:PROC
EXTRN	_rsqrt:PROC
EXTRN	_SinCos:PROC
EXTRN	_Mod_BoxVisible:PROC
EXTRN	_MSG_ReadByte:PROC
EXTRN	_MSG_ReadShort:PROC
EXTRN	_MSG_ReadCoord:PROC
EXTRN	_CL_ModelHandle:PROC
EXTRN	_CL_LoadModel:PROC
EXTRN	_R_FreeDeadParticles:PROC
EXTRN	_CL_FxBlend:PROC
EXTRN	_R_TempSprite:PROC
EXTRN	_TriBegin:PROC
EXTRN	_TriTexCoord2f:PROC
EXTRN	_TriVertex3fv:PROC
EXTRN	_TriColor4f:PROC
EXTRN	_TriSpriteTexture:PROC
EXTRN	_TriWorldToScreen:PROC
EXTRN	_TriBrightness:PROC
EXTRN	_TriRenderMode:PROC
EXTRN	_TriEnd:PROC
EXTRN	_GL_Cull:PROC
EXTRN	_R_CullBox:PROC
EXTRN	_Mod_GetCurrentVis:PROC
EXTRN	@__security_check_cookie@4:PROC
EXTRN	_SI:BYTE
EXTRN	_vec3_origin:BYTE
EXTRN	_cl:BYTE
EXTRN	_cls:BYTE
EXTRN	_clgame:BYTE
EXTRN	_cl_draw_beams:DWORD
EXTRN	_r_stats:BYTE
EXTRN	_RI:BYTE
EXTRN	_tr:BYTE
EXTRN	_cl_free_particles:DWORD
EXTRN	___security_cookie:DWORD
EXTRN	__fltused:DWORD
_BSS	SEGMENT
_rgNoise DD	041H DUP (?)
_BSS	ENDS
;	COMDAT __xmm@80000000800000008000000080000000
CONST	SEGMENT
__xmm@80000000800000008000000080000000 DB 00H, 00H, 00H, 080H, 00H, 00H, 00H
	DB	080H, 00H, 00H, 00H, 080H, 00H, 00H, 00H, 080H
CONST	ENDS
;	COMDAT __real@be000000
CONST	SEGMENT
__real@be000000 DD 0be000000r			; -0.125
CONST	ENDS
;	COMDAT __real@47800000
CONST	SEGMENT
__real@47800000 DD 047800000r			; 65536
CONST	ENDS
;	COMDAT __real@437f0000
CONST	SEGMENT
__real@437f0000 DD 0437f0000r			; 255
CONST	ENDS
;	COMDAT __real@42c80000
CONST	SEGMENT
__real@42c80000 DD 042c80000r			; 100
CONST	ENDS
;	COMDAT __real@42800000
CONST	SEGMENT
__real@42800000 DD 042800000r			; 64
CONST	ENDS
;	COMDAT __real@427c0000
CONST	SEGMENT
__real@427c0000 DD 0427c0000r			; 63
CONST	ENDS
;	COMDAT __real@42000000
CONST	SEGMENT
__real@42000000 DD 042000000r			; 32
CONST	ENDS
;	COMDAT __real@41f00000
CONST	SEGMENT
__real@41f00000 DD 041f00000r			; 30
CONST	ENDS
;	COMDAT __real@41c00000
CONST	SEGMENT
__real@41c00000 DD 041c00000r			; 24
CONST	ENDS
;	COMDAT __real@41000000
CONST	SEGMENT
__real@41000000 DD 041000000r			; 8
CONST	ENDS
;	COMDAT __real@40c90fdb
CONST	SEGMENT
__real@40c90fdb DD 040c90fdbr			; 6.28319
CONST	ENDS
;	COMDAT __real@40a00000
CONST	SEGMENT
__real@40a00000 DD 040a00000r			; 5
CONST	ENDS
;	COMDAT __real@40600000
CONST	SEGMENT
__real@40600000 DD 040600000r			; 3.5
CONST	ENDS
;	COMDAT __real@40490fdb
CONST	SEGMENT
__real@40490fdb DD 040490fdbr			; 3.14159
CONST	ENDS
;	COMDAT __real@40400000
CONST	SEGMENT
__real@40400000 DD 040400000r			; 3
CONST	ENDS
;	COMDAT __real@4024000000000000
CONST	SEGMENT
__real@4024000000000000 DQ 04024000000000000r	; 10
CONST	ENDS
;	COMDAT __real@400921fb60000000
CONST	SEGMENT
__real@400921fb60000000 DQ 0400921fb60000000r	; 3.14159
CONST	ENDS
;	COMDAT __real@4008000000000000
CONST	SEGMENT
__real@4008000000000000 DQ 04008000000000000r	; 3
CONST	ENDS
;	COMDAT __real@4000000000000000
CONST	SEGMENT
__real@4000000000000000 DQ 04000000000000000r	; 2
CONST	ENDS
;	COMDAT __real@40000000
CONST	SEGMENT
__real@40000000 DD 040000000r			; 2
CONST	ENDS
;	COMDAT __real@3ff0000000000000
CONST	SEGMENT
__real@3ff0000000000000 DQ 03ff0000000000000r	; 1
CONST	ENDS
;	COMDAT __real@3fe0000000000000
CONST	SEGMENT
__real@3fe0000000000000 DQ 03fe0000000000000r	; 0.5
CONST	ENDS
;	COMDAT __real@3fd0000000000000
CONST	SEGMENT
__real@3fd0000000000000 DQ 03fd0000000000000r	; 0.25
CONST	ENDS
;	COMDAT __real@3fb99999a0000000
CONST	SEGMENT
__real@3fb99999a0000000 DQ 03fb99999a0000000r	; 0.1
CONST	ENDS
;	COMDAT __real@3fb4fdf4
CONST	SEGMENT
__real@3fb4fdf4 DD 03fb4fdf4r			; 1.414
CONST	ENDS
;	COMDAT __real@3fb3333340000000
CONST	SEGMENT
__real@3fb3333340000000 DQ 03fb3333340000000r	; 0.075
CONST	ENDS
;	COMDAT __real@3f847ae147ae147b
CONST	SEGMENT
__real@3f847ae147ae147b DQ 03f847ae147ae147br	; 0.01
CONST	ENDS
;	COMDAT __real@3f847ae140000000
CONST	SEGMENT
__real@3f847ae140000000 DQ 03f847ae140000000r	; 0.01
CONST	ENDS
;	COMDAT __real@3f800000
CONST	SEGMENT
__real@3f800000 DD 03f800000r			; 1
CONST	ENDS
;	COMDAT __real@3f27ae14
CONST	SEGMENT
__real@3f27ae14 DD 03f27ae14r			; 0.655
CONST	ENDS
;	COMDAT __real@3f19999a
CONST	SEGMENT
__real@3f19999a DD 03f19999ar			; 0.6
CONST	ENDS
;	COMDAT __real@3f000000
CONST	SEGMENT
__real@3f000000 DD 03f000000r			; 0.5
CONST	ENDS
;	COMDAT __real@3ecccccd
CONST	SEGMENT
__real@3ecccccd DD 03ecccccdr			; 0.4
CONST	ENDS
;	COMDAT __real@3eb33333
CONST	SEGMENT
__real@3eb33333 DD 03eb33333r			; 0.35
CONST	ENDS
;	COMDAT __real@3e7ad7f2a0000000
CONST	SEGMENT
__real@3e7ad7f2a0000000 DQ 03e7ad7f2a0000000r	; 1e-07
CONST	ENDS
;	COMDAT __real@3e000000
CONST	SEGMENT
__real@3e000000 DD 03e000000r			; 0.125
CONST	ENDS
;	COMDAT __real@3dcccccd
CONST	SEGMENT
__real@3dcccccd DD 03dcccccdr			; 0.1
CONST	ENDS
;	COMDAT __real@3c23d70a
CONST	SEGMENT
__real@3c23d70a DD 03c23d70ar			; 0.01
CONST	ENDS
;	COMDAT __real@3b808081
CONST	SEGMENT
__real@3b808081 DD 03b808081r			; 0.00392157
CONST	ENDS
;	COMDAT __real@00000000
CONST	SEGMENT
__real@00000000 DD 000000000r			; 0
CONST	ENDS
;	COMDAT ??_C@_0BG@IBGKBEMO@map?5?$CFs?5has?5no?5leaks?$CB?6@
CONST	SEGMENT
??_C@_0BG@IBGKBEMO@map?5?$CFs?5has?5no?5leaks?$CB?6@ DB 'map %s has no le'
	DB	'aks!', 0aH, 00H				; `string'
CONST	ENDS
;	COMDAT ??_C@_0P@BBHBNOIF@?$CFi?5lines?5read?6@
CONST	SEGMENT
??_C@_0P@BBHBNOIF@?$CFi?5lines?5read?6@ DB '%i lines read', 0aH, 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0CD@HADFGEIM@?$FO1Error?3?$FO7?5not?5enough?5free?5beam@
CONST	SEGMENT
??_C@_0CD@HADFGEIM@?$FO1Error?3?$FO7?5not?5enough?5free?5beam@ DB '^1Erro'
	DB	'r:^7 not enough free beams!', 0aH, 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0CB@CHKJIBFJ@?$FO1Error?3?$FO7?5failed?5to?5load?5?$CC?$CFs?$CC?$CB@
CONST	SEGMENT
??_C@_0CB@CHKJIBFJ@?$FO1Error?3?$FO7?5failed?5to?5load?5?$CC?$CFs?$CC?$CB@ DB '^'
	DB	'1Error:^7 failed to load "%s"!', 0aH, 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0BM@DOBMGBFD@?$FO1Error?3?$FO7?5?$CFs?5is?5corrupted?6@
CONST	SEGMENT
??_C@_0BM@DOBMGBFD@?$FO1Error?3?$FO7?5?$CFs?5is?5corrupted?6@ DB '^1Error'
	DB	':^7 %s is corrupted', 0aH, 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0BG@LKPONKLB@sprites?1laserbeam?4spr@
CONST	SEGMENT
??_C@_0BG@LKPONKLB@sprites?1laserbeam?4spr@ DB 'sprites/laserbeam.spr', 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0P@DNKMKNEK@Reading?5?$CFs?4?4?4?6@
CONST	SEGMENT
??_C@_0P@DNKMKNEK@Reading?5?$CFs?4?4?4?6@ DB 'Reading %s...', 0aH, 00H ; `string'
CONST	ENDS
;	COMDAT ??_C@_0BN@JCJEHCDP@?$FO1Error?3?$FO7?5couldn?8t?5open?5?$CFs?6@
CONST	SEGMENT
??_C@_0BN@JCJEHCDP@?$FO1Error?3?$FO7?5couldn?8t?5open?5?$CFs?6@ DB '^1Err'
	DB	'or:^7 couldn''t open %s', 0aH, 00H		; `string'
CONST	ENDS
;	COMDAT ??_C@_0M@BPPGBBPA@maps?1?$CFs?4lin@
CONST	SEGMENT
??_C@_0M@BPPGBBPA@maps?1?$CFs?4lin@ DB 'maps/%s.lin', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??CL_ReadLineFile_f@@9@9
_DATA	SEGMENT
?__LINE__Var@?0??CL_ReadLineFile_f@@9@9 DD 07a6H	; `CL_ReadLineFile_f'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0O@FLCBIAGH@pBeam?5?$CB?$DN?5NULL@
CONST	SEGMENT
??_C@_0O@FLCBIAGH@pBeam?5?$CB?$DN?5NULL@ DB 'pBeam != NULL', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??CL_BeamAttemptToDie@@9@9
_DATA	SEGMENT
?__LINE__Var@?0??CL_BeamAttemptToDie@@9@9 DD 05bcH	; `CL_BeamAttemptToDie'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0BP@BMKJIJGA@?$FO1Error?3?$FO7?5Too?5many?5beams?5?$CFd?$CB?6@
CONST	SEGMENT
??_C@_0BP@BMKJIJGA@?$FO1Error?3?$FO7?5Too?5many?5beams?5?$CFd?$CB?6@ DB '^'
	DB	'1Error:^7 Too many beams %d!', 0aH, 00H	; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??CL_FreeViewBeams@@9@9
_DATA	SEGMENT
?__LINE__Var@?0??CL_FreeViewBeams@@9@9 DD 0559H		; `CL_FreeViewBeams'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ?__LINE__Var@?0??CL_InitViewBeams@@9@9
_DATA	SEGMENT
?__LINE__Var@?0??CL_InitViewBeams@@9@9 DD 0538H		; `CL_InitViewBeams'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0CH@DNMOKALN@noiseIndex?5?$DM?5?$CI?5NOISE_DIVISIONS?5@
CONST	SEGMENT
??_C@_0CH@DNMOKALN@noiseIndex?5?$DM?5?$CI?5NOISE_DIVISIONS?5@ DB 'noiseIn'
	DB	'dex < ( NOISE_DIVISIONS << 16 )', 00H	; `string'
CONST	ENDS
;	COMDAT ??_C@_0DF@KGKEPMBF@D?3?2DevDragon?2XashFE?2dev?2src?2eng@
CONST	SEGMENT
??_C@_0DF@KGKEPMBF@D?3?2DevDragon?2XashFE?2dev?2src?2eng@ DB 'D:\DevDrago'
	DB	'n\XashFE\dev\src\engine\client\gl_beams.c', 00H ; `string'
CONST	ENDS
;	COMDAT ?__LINE__Var@?0??R_DrawSegs@@9@9
_DATA	SEGMENT
?__LINE__Var@?0??R_DrawSegs@@9@9 DD 0197H		; `R_DrawSegs'::`1'::__LINE__Var
_DATA	ENDS
;	COMDAT ??_C@_0DC@BCGAOLBG@?$FO1Error?3?$FO7?5R_BeamComputePoint?3?5@
CONST	SEGMENT
??_C@_0DC@BCGAOLBG@?$FO1Error?3?$FO7?5R_BeamComputePoint?3?5@ DB '^1Error'
	DB	':^7 R_BeamComputePoint: invalid entity %i', 0aH, 00H ; `string'
CONST	ENDS
;	COMDAT voltbl
voltbl	SEGMENT
_volmd	DW	010H
	DW	02a7H
voltbl	ENDS
;	COMDAT voltbl
voltbl	SEGMENT
_volmd	DW	010H
	DW	0f6bH
voltbl	ENDS
;	COMDAT voltbl
voltbl	SEGMENT
_volmd	DW	010H
	DW	01059H
voltbl	ENDS
;	COMDAT voltbl
voltbl	SEGMENT
_volmd	DW	010H
	DW	0f1cH
voltbl	ENDS
;	COMDAT voltbl
voltbl	SEGMENT
_volmd	DW	0dH
	DW	0356H
voltbl	ENDS
;	COMDAT voltbl
voltbl	SEGMENT
_volmd	DW	0dH
	DW	0325H
voltbl	ENDS
;	COMDAT voltbl
voltbl	SEGMENT
_volmd	DW	010H
	DW	0979H
voltbl	ENDS
;	COMDAT voltbl
voltbl	SEGMENT
_volmd	DW	010H
	DW	0e40H
voltbl	ENDS
;	COMDAT voltbl
voltbl	SEGMENT
_volmd	DW	0dH
	DW	0155H
voltbl	ENDS
;	COMDAT voltbl
voltbl	SEGMENT
_volmd	DW	0dH
	DW	0305H
voltbl	ENDS
;	COMDAT voltbl
voltbl	SEGMENT
_volmd	DW	0dH
	DW	0321H
voltbl	ENDS
;	COMDAT voltbl
voltbl	SEGMENT
_volmd	DW	010H
	DW	0350H
voltbl	ENDS
;	COMDAT voltbl
voltbl	SEGMENT
_volmd	DW	010H
	DW	0d49H
voltbl	ENDS
; Function compile flags: /Odtp /ZI
; File D:\DevDragon\XashFE\dev\src\engine\client\gl_beams.c
;	COMDAT _R_BeamSprite
_TEXT	SEGMENT
_start$ = 8						; size = 4
_end$ = 12						; size = 4
_beamIndex$ = 16					; size = 4
_spriteIndex$ = 20					; size = 4
_R_BeamSprite PROC					; COMDAT

; 1789 : {

	push	ebp
	mov	ebp, esp
	sub	esp, 64					; 00000040H
	push	ebx
	push	esi
	push	edi

; 1790 : 	R_BeamPoints( start, end, beamIndex, 0.01f, 0.4f, 0, COM_RandomFloat( 0.5f, 0.655f ), 5.0f, 0.0f, 0.0f, 1.0f, 0.0f, 0.0f );

	push	ecx
	xorps	xmm0, xmm0
	movss	DWORD PTR [esp], xmm0
	push	ecx
	xorps	xmm0, xmm0
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR __real@3f800000
	movss	DWORD PTR [esp], xmm0
	push	ecx
	xorps	xmm0, xmm0
	movss	DWORD PTR [esp], xmm0
	push	0
	push	ecx
	movss	xmm0, DWORD PTR __real@40a00000
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR __real@3f27ae14
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR __real@3f000000
	movss	DWORD PTR [esp], xmm0
	call	_COM_RandomFloat
	add	esp, 4
	fstp	DWORD PTR [esp]
	push	ecx
	xorps	xmm0, xmm0
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR __real@3ecccccd
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR __real@3c23d70a
	movss	DWORD PTR [esp], xmm0
	mov	eax, DWORD PTR _beamIndex$[ebp]
	push	eax
	mov	ecx, DWORD PTR _end$[ebp]
	push	ecx
	mov	edx, DWORD PTR _start$[ebp]
	push	edx
	call	_R_BeamPoints
	add	esp, 52					; 00000034H

; 1791 : 	R_TempSprite( end, vec3_origin, 0.1f, spriteIndex, kRenderTransAdd, kRenderFxNone, 0.35f, 0.01f, 0.0f );

	push	0
	push	ecx
	movss	xmm0, DWORD PTR __real@3c23d70a
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR __real@3eb33333
	movss	DWORD PTR [esp], xmm0
	push	0
	push	5
	mov	eax, DWORD PTR _spriteIndex$[ebp]
	push	eax
	push	ecx
	movss	xmm0, DWORD PTR __real@3dcccccd
	movss	DWORD PTR [esp], xmm0
	push	OFFSET _vec3_origin
	mov	ecx, DWORD PTR _end$[ebp]
	push	ecx
	call	_R_TempSprite
	add	esp, 36					; 00000024H

; 1792 : }

	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
_R_BeamSprite ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File D:\DevDragon\XashFE\dev\src\engine\client\gl_beams.c
;	COMDAT _CL_BeamAttemptToDie
_TEXT	SEGMENT
tv70 = -68						; size = 4
_pBeam$ = 8						; size = 4
_CL_BeamAttemptToDie PROC				; COMDAT

; 1468 : {

	push	ebp
	mov	ebp, esp
	sub	esp, 68					; 00000044H
	push	ebx
	push	esi
	push	edi

; 1469 : 	Assert( pBeam != NULL );

	cmp	DWORD PTR _pBeam$[ebp], 0
	je	SHORT $LN6@CL_BeamAtt
	mov	DWORD PTR tv70[ebp], 1
	jmp	SHORT $LN7@CL_BeamAtt
$LN6@CL_BeamAtt:
	mov	DWORD PTR tv70[ebp], 0
$LN7@CL_BeamAtt:
	push	0
	mov	eax, DWORD PTR ?__LINE__Var@?0??CL_BeamAttemptToDie@@9@9
	add	eax, 1
	push	eax
	push	OFFSET ??_C@_0DF@KGKEPMBF@D?3?2DevDragon?2XashFE?2dev?2src?2eng@
	push	OFFSET ??_C@_0O@FLCBIAGH@pBeam?5?$CB?$DN?5NULL@
	mov	ecx, DWORD PTR tv70[ebp]
	push	ecx
	call	_DBG_AssertFunction
	add	esp, 20					; 00000014H

; 1470 : 
; 1471 : 	// premanent beams never die automatically
; 1472 : 	if( FBitSet( pBeam->flags, FBEAM_FOREVER ))

	mov	eax, DWORD PTR _pBeam$[ebp]
	mov	ecx, DWORD PTR [eax+8]
	and	ecx, -2147483648			; 80000000H
	je	SHORT $LN2@CL_BeamAtt

; 1473 : 		return false;

	xor	eax, eax
	jmp	SHORT $LN1@CL_BeamAtt
$LN2@CL_BeamAtt:

; 1474 : 
; 1475 : 	if( pBeam->type == TE_BEAMFOLLOW && pBeam->particles )

	mov	eax, DWORD PTR _pBeam$[ebp]
	cmp	DWORD PTR [eax+4], 22			; 00000016H
	jne	SHORT $LN3@CL_BeamAtt
	mov	eax, DWORD PTR _pBeam$[ebp]
	cmp	DWORD PTR [eax+120], 0
	je	SHORT $LN3@CL_BeamAtt

; 1476 : 	{
; 1477 : 		// wait for all trails are dead
; 1478 : 		return false;

	xor	eax, eax
	jmp	SHORT $LN1@CL_BeamAtt
$LN3@CL_BeamAtt:

; 1479 : 	}
; 1480 : 
; 1481 : 	// other beams
; 1482 : 	if( pBeam->die > cl.time )

	mov	eax, DWORD PTR _pBeam$[ebp]
	cvtss2sd xmm0, DWORD PTR [eax+56]
	comisd	xmm0, QWORD PTR _cl+2167640
	jbe	SHORT $LN4@CL_BeamAtt

; 1483 : 		return false;

	xor	eax, eax
	jmp	SHORT $LN1@CL_BeamAtt
$LN4@CL_BeamAtt:

; 1484 : 
; 1485 : 	return true;

	mov	eax, 1
$LN1@CL_BeamAtt:

; 1486 : }

	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
_CL_BeamAttemptToDie ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File D:\DevDragon\XashFE\dev\src\engine\client\gl_beams.c
;	COMDAT _R_BeamDrawCustomEntity
_TEXT	SEGMENT
tv140 = -220						; size = 4
_beamFlags$ = -152					; size = 4
_b$ = -148						; size = 4
_g$ = -144						; size = 4
_r$ = -140						; size = 4
_blend$ = -136						; size = 4
_amp$ = -132						; size = 4
_beam$ = -128						; size = 124
__$ArrayPad$ = -4					; size = 4
_ent$ = 8						; size = 4
_R_BeamDrawCustomEntity PROC				; COMDAT

; 1256 : {

	push	ebp
	mov	ebp, esp
	sub	esp, 220				; 000000dcH
	mov	eax, DWORD PTR ___security_cookie
	xor	eax, ebp
	mov	DWORD PTR __$ArrayPad$[ebp], eax
	push	ebx
	push	esi
	push	edi

; 1257 : 	BEAM	beam;
; 1258 : 	float	amp = ent->curstate.body / 100.0f;

	mov	eax, DWORD PTR _ent$[ebp]
	cvtsi2ss xmm0, DWORD PTR [eax+1032]
	divss	xmm0, DWORD PTR __real@42c80000
	movss	DWORD PTR _amp$[ebp], xmm0

; 1259 : 	float	blend = CL_FxBlend( ent ) / 255.0f;

	mov	eax, DWORD PTR _ent$[ebp]
	push	eax
	call	_CL_FxBlend
	add	esp, 4
	cvtsi2ss xmm0, eax
	divss	xmm0, DWORD PTR __real@437f0000
	movss	DWORD PTR _blend$[ebp], xmm0

; 1260 : 	float	r, g, b;
; 1261 : 	int	beamFlags;
; 1262 : 
; 1263 : 	r = ent->curstate.rendercolor.r / 255.0f;

	mov	eax, DWORD PTR _ent$[ebp]
	movzx	ecx, BYTE PTR [eax+992]
	cvtsi2ss xmm0, ecx
	divss	xmm0, DWORD PTR __real@437f0000
	movss	DWORD PTR _r$[ebp], xmm0

; 1264 : 	g = ent->curstate.rendercolor.g / 255.0f;

	mov	eax, DWORD PTR _ent$[ebp]
	movzx	ecx, BYTE PTR [eax+993]
	cvtsi2ss xmm0, ecx
	divss	xmm0, DWORD PTR __real@437f0000
	movss	DWORD PTR _g$[ebp], xmm0

; 1265 : 	b = ent->curstate.rendercolor.b / 255.0f;

	mov	eax, DWORD PTR _ent$[ebp]
	movzx	ecx, BYTE PTR [eax+994]
	cvtsi2ss xmm0, ecx
	divss	xmm0, DWORD PTR __real@437f0000
	movss	DWORD PTR _b$[ebp], xmm0

; 1266 : 
; 1267 : 	R_BeamSetup( &beam, ent->origin, ent->angles, ent->curstate.modelindex, 0, ent->curstate.scale, amp, blend, ent->curstate.animtime );

	mov	eax, DWORD PTR _ent$[ebp]
	push	ecx
	movss	xmm0, DWORD PTR [eax+1004]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _blend$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _amp$[ebp]
	movss	DWORD PTR [esp], xmm0
	mov	ecx, DWORD PTR _ent$[ebp]
	push	ecx
	movss	xmm0, DWORD PTR [ecx+976]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	xorps	xmm0, xmm0
	movss	DWORD PTR [esp], xmm0
	mov	edx, DWORD PTR _ent$[ebp]
	mov	eax, DWORD PTR [edx+952]
	push	eax
	mov	ecx, DWORD PTR _ent$[ebp]
	add	ecx, 3236				; 00000ca4H
	push	ecx
	mov	edx, DWORD PTR _ent$[ebp]
	add	edx, 3224				; 00000c98H
	push	edx
	lea	eax, DWORD PTR _beam$[ebp]
	push	eax
	call	_R_BeamSetup
	add	esp, 36					; 00000024H

; 1268 : 	R_BeamSetAttributes( &beam, r, g, b, ent->curstate.framerate, ent->curstate.frame );

	mov	eax, DWORD PTR _ent$[ebp]
	cvttss2si ecx, DWORD PTR [eax+960]
	push	ecx
	mov	edx, DWORD PTR _ent$[ebp]
	push	ecx
	movss	xmm0, DWORD PTR [edx+1008]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _b$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _g$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _r$[ebp]
	movss	DWORD PTR [esp], xmm0
	lea	eax, DWORD PTR _beam$[ebp]
	push	eax
	call	_R_BeamSetAttributes
	add	esp, 24					; 00000018H

; 1269 : 	beam.pFollowModel = NULL;

	mov	DWORD PTR _beam$[ebp+116], 0

; 1270 : 
; 1271 : 	switch( ent->curstate.rendermode & 0x0F )

	mov	eax, DWORD PTR _ent$[ebp]
	mov	ecx, DWORD PTR [eax+984]
	and	ecx, 15					; 0000000fH
	mov	DWORD PTR tv140[ebp], ecx
	cmp	DWORD PTR tv140[ebp], 1
	je	SHORT $LN4@R_BeamDraw
	cmp	DWORD PTR tv140[ebp], 2
	je	SHORT $LN7@R_BeamDraw
	cmp	DWORD PTR tv140[ebp], 3
	je	SHORT $LN8@R_BeamDraw
	jmp	SHORT $LN2@R_BeamDraw
$LN4@R_BeamDraw:

; 1272 : 	{
; 1273 : 	case BEAM_ENTPOINT:
; 1274 : 		beam.type	= TE_BEAMPOINTS;

	mov	DWORD PTR _beam$[ebp+4], 0

; 1275 : 		if( ent->curstate.sequence )

	mov	eax, DWORD PTR _ent$[ebp]
	cmp	DWORD PTR [eax+956], 0
	je	SHORT $LN5@R_BeamDraw

; 1276 : 		{
; 1277 : 			SetBits( beam.flags, FBEAM_STARTENTITY );

	mov	eax, DWORD PTR _beam$[ebp+8]
	or	eax, 1
	mov	DWORD PTR _beam$[ebp+8], eax

; 1278 : 			beam.startEntity = ent->curstate.sequence;

	mov	eax, DWORD PTR _ent$[ebp]
	mov	ecx, DWORD PTR [eax+956]
	mov	DWORD PTR _beam$[ebp+100], ecx
$LN5@R_BeamDraw:

; 1279 : 		}
; 1280 : 		if( ent->curstate.skin )

	mov	eax, DWORD PTR _ent$[ebp]
	cmp	DWORD PTR [eax+1048], 0
	je	SHORT $LN6@R_BeamDraw

; 1281 : 		{
; 1282 : 			SetBits( beam.flags, FBEAM_ENDENTITY );

	mov	eax, DWORD PTR _beam$[ebp+8]
	or	eax, 2
	mov	DWORD PTR _beam$[ebp+8], eax

; 1283 : 			beam.endEntity = ent->curstate.skin;

	mov	eax, DWORD PTR _ent$[ebp]
	mov	ecx, DWORD PTR [eax+1048]
	mov	DWORD PTR _beam$[ebp+104], ecx
$LN6@R_BeamDraw:

; 1284 : 		}
; 1285 : 		break;

	jmp	SHORT $LN2@R_BeamDraw
$LN7@R_BeamDraw:

; 1286 : 	case BEAM_ENTS:
; 1287 : 		beam.type	= TE_BEAMPOINTS;

	mov	DWORD PTR _beam$[ebp+4], 0

; 1288 : 		SetBits( beam.flags, FBEAM_STARTENTITY | FBEAM_ENDENTITY );

	mov	eax, DWORD PTR _beam$[ebp+8]
	or	eax, 3
	mov	DWORD PTR _beam$[ebp+8], eax

; 1289 : 		beam.startEntity = ent->curstate.sequence;

	mov	eax, DWORD PTR _ent$[ebp]
	mov	ecx, DWORD PTR [eax+956]
	mov	DWORD PTR _beam$[ebp+100], ecx

; 1290 : 		beam.endEntity = ent->curstate.skin;

	mov	eax, DWORD PTR _ent$[ebp]
	mov	ecx, DWORD PTR [eax+1048]
	mov	DWORD PTR _beam$[ebp+104], ecx

; 1291 : 		break;

	jmp	SHORT $LN2@R_BeamDraw
$LN8@R_BeamDraw:

; 1292 : 	case BEAM_HOSE:
; 1293 : 		beam.type	= TE_BEAMHOSE;

	mov	DWORD PTR _beam$[ebp+4], 26		; 0000001aH
$LN2@R_BeamDraw:

; 1294 : 		break;
; 1295 : 	case BEAM_POINTS:
; 1296 : 		// already set up
; 1297 : 		break;
; 1298 : 	}
; 1299 : 
; 1300 : 	beamFlags = ( ent->curstate.rendermode & 0xF0 );

	mov	eax, DWORD PTR _ent$[ebp]
	mov	ecx, DWORD PTR [eax+984]
	and	ecx, 240				; 000000f0H
	mov	DWORD PTR _beamFlags$[ebp], ecx

; 1301 : 
; 1302 : 	if( FBitSet( beamFlags, BEAM_FSINE ))

	mov	eax, DWORD PTR _beamFlags$[ebp]
	and	eax, 16					; 00000010H
	je	SHORT $LN10@R_BeamDraw

; 1303 : 		SetBits( beam.flags, FBEAM_SINENOISE );

	mov	eax, DWORD PTR _beam$[ebp+8]
	or	eax, 16					; 00000010H
	mov	DWORD PTR _beam$[ebp+8], eax
$LN10@R_BeamDraw:

; 1304 : 
; 1305 : 	if( FBitSet( beamFlags, BEAM_FSOLID ))

	mov	eax, DWORD PTR _beamFlags$[ebp]
	and	eax, 32					; 00000020H
	je	SHORT $LN11@R_BeamDraw

; 1306 : 		SetBits( beam.flags, FBEAM_SOLID );

	mov	eax, DWORD PTR _beam$[ebp+8]
	or	eax, 32					; 00000020H
	mov	DWORD PTR _beam$[ebp+8], eax
$LN11@R_BeamDraw:

; 1307 : 
; 1308 : 	if( FBitSet( beamFlags, BEAM_FSHADEIN ))

	mov	eax, DWORD PTR _beamFlags$[ebp]
	and	eax, 64					; 00000040H
	je	SHORT $LN12@R_BeamDraw

; 1309 : 		SetBits( beam.flags, FBEAM_SHADEIN );

	mov	eax, DWORD PTR _beam$[ebp+8]
	or	eax, 64					; 00000040H
	mov	DWORD PTR _beam$[ebp+8], eax
$LN12@R_BeamDraw:

; 1310 : 
; 1311 : 	if( FBitSet( beamFlags, BEAM_FSHADEOUT ))

	mov	eax, DWORD PTR _beamFlags$[ebp]
	and	eax, 128				; 00000080H
	je	SHORT $LN13@R_BeamDraw

; 1312 : 		SetBits( beam.flags, FBEAM_SHADEOUT );

	mov	eax, DWORD PTR _beam$[ebp+8]
	or	eax, 128				; 00000080H
	mov	DWORD PTR _beam$[ebp+8], eax
$LN13@R_BeamDraw:

; 1313 : 
; 1314 : 	// draw it
; 1315 : 	R_BeamDraw( &beam, tr.frametime );

	cvtsd2ss xmm0, QWORD PTR _tr+87584
	push	ecx
	movss	DWORD PTR [esp], xmm0
	lea	eax, DWORD PTR _beam$[ebp]
	push	eax
	call	_R_BeamDraw
	add	esp, 8

; 1316 : }

	pop	edi
	pop	esi
	pop	ebx
	mov	ecx, DWORD PTR __$ArrayPad$[ebp]
	xor	ecx, ebp
	call	@__security_check_cookie@4
	mov	esp, ebp
	pop	ebp
	ret	0
_R_BeamDrawCustomEntity ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File D:\DevDragon\XashFE\dev\src\engine\client\gl_beams.c
;	COMDAT _R_BeamDraw
_TEXT	SEGMENT
tv1047 = -148						; size = 8
tv888 = -148						; size = 8
tv857 = -148						; size = 8
tv835 = -148						; size = 8
tv800 = -148						; size = 8
tv623 = -144						; size = 4
tv554 = -144						; size = 4
tv509 = -144						; size = 4
tv488 = -144						; size = 4
tv455 = -144						; size = 4
tv368 = -144						; size = 4
tv163 = -144						; size = 4
_pStart$1 = -76						; size = 4
_flDistance$2 = -72					; size = 4
_tmp$3 = -68						; size = 12
_vecProjection$4 = -56					; size = 12
_localDir$5 = -44					; size = 12
_flFade$6 = -32						; size = 4
_ilength$7 = -28					; size = 4
_flDot$8 = -24						; size = 4
_delta$ = -20						; size = 12
_model$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_pbeam$ = 8						; size = 4
_frametime$ = 12					; size = 4
_R_BeamDraw PROC					; COMDAT

; 1068 : {

	push	ebp
	mov	ebp, esp
	sub	esp, 148				; 00000094H
	mov	eax, DWORD PTR ___security_cookie
	xor	eax, ebp
	mov	DWORD PTR __$ArrayPad$[ebp], eax
	push	ebx
	push	esi
	push	edi

; 1069 : 	model_t	*model;
; 1070 : 	vec3_t	delta;
; 1071 : 
; 1072 : 	model = CL_ModelHandle( pbeam->modelIndex );

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+108]
	push	ecx
	call	_CL_ModelHandle
	add	esp, 4
	mov	DWORD PTR _model$[ebp], eax

; 1073 : 	SetBits( pbeam->flags, FBEAM_ISACTIVE );

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+8]
	or	ecx, 1073741824				; 40000000H
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	DWORD PTR [edx+8], ecx

; 1074 : 
; 1075 : 	if( !model || model->type != mod_sprite )

	cmp	DWORD PTR _model$[ebp], 0
	je	SHORT $LN5@R_BeamDraw
	mov	eax, DWORD PTR _model$[ebp]
	cmp	DWORD PTR [eax+68], 1
	je	SHORT $LN4@R_BeamDraw
$LN5@R_BeamDraw:

; 1076 : 	{
; 1077 : 		pbeam->flags &= ~FBEAM_ISACTIVE; // force to ignore

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+8]
	and	ecx, -1073741825			; bfffffffH
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	DWORD PTR [edx+8], ecx

; 1078 : 		pbeam->die = cl.time;

	cvtsd2ss xmm0, QWORD PTR _cl+2167640
	mov	eax, DWORD PTR _pbeam$[ebp]
	movss	DWORD PTR [eax+56], xmm0

; 1079 : 		return;

	jmp	$LN1@R_BeamDraw
$LN4@R_BeamDraw:

; 1080 : 	}
; 1081 : 
; 1082 : 	// update frequency
; 1083 : 	pbeam->freq += frametime;

	mov	eax, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR [eax+52]
	addss	xmm0, DWORD PTR _frametime$[ebp]
	mov	ecx, DWORD PTR _pbeam$[ebp]
	movss	DWORD PTR [ecx+52], xmm0

; 1084 : 
; 1085 : 	// generate fractal noise
; 1086 : 	if( frametime != 0.0f )

	movss	xmm0, DWORD PTR _frametime$[ebp]
	ucomiss	xmm0, DWORD PTR __real@00000000
	lahf
	test	ah, 68					; 00000044H
	jnp	SHORT $LN6@R_BeamDraw

; 1087 : 	{
; 1088 : 		rgNoise[0] = 0;

	mov	eax, 4
	imul	ecx, eax, 0
	xorps	xmm0, xmm0
	movss	DWORD PTR _rgNoise[ecx], xmm0

; 1089 : 		rgNoise[NOISE_DIVISIONS] = 0;

	mov	eax, 4
	shl	eax, 6
	xorps	xmm0, xmm0
	movss	DWORD PTR _rgNoise[eax], xmm0
$LN6@R_BeamDraw:

; 1090 : 	}
; 1091 : 
; 1092 : 	if( pbeam->amplitude != 0 && frametime != 0.0f )

	mov	eax, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR [eax+64]
	ucomiss	xmm0, DWORD PTR __real@00000000
	lahf
	test	ah, 68					; 00000044H
	jnp	SHORT $LN9@R_BeamDraw
	movss	xmm0, DWORD PTR _frametime$[ebp]
	ucomiss	xmm0, DWORD PTR __real@00000000
	lahf
	test	ah, 68					; 00000044H
	jnp	SHORT $LN9@R_BeamDraw

; 1093 : 	{
; 1094 : 		if( FBitSet( pbeam->flags, FBEAM_SINENOISE ))

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+8]
	and	ecx, 16					; 00000010H
	je	SHORT $LN8@R_BeamDraw

; 1095 : 			SineNoise( rgNoise, NOISE_DIVISIONS );

	push	64					; 00000040H
	push	OFFSET _rgNoise
	call	_SineNoise
	add	esp, 8
	jmp	SHORT $LN9@R_BeamDraw
$LN8@R_BeamDraw:

; 1096 : 		else FracNoise( rgNoise, NOISE_DIVISIONS );

	push	64					; 00000040H
	push	OFFSET _rgNoise
	call	_FracNoise
	add	esp, 8
$LN9@R_BeamDraw:

; 1097 : 	}
; 1098 : 
; 1099 : 	// update end points
; 1100 : 	if( FBitSet( pbeam->flags, FBEAM_STARTENTITY|FBEAM_ENDENTITY ))

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+8]
	and	ecx, 3
	je	$LN14@R_BeamDraw

; 1101 : 	{
; 1102 : 		// makes sure attachment[0] + attachment[1] are valid
; 1103 : 		if( !R_BeamRecomputeEndpoints( pbeam ))

	mov	eax, DWORD PTR _pbeam$[ebp]
	push	eax
	call	_R_BeamRecomputeEndpoints
	add	esp, 4
	test	eax, eax
	jne	SHORT $LN11@R_BeamDraw

; 1104 : 		{
; 1105 : 			ClearBits( pbeam->flags, FBEAM_ISACTIVE ); // force to ignore

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+8]
	and	ecx, -1073741825			; bfffffffH
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	DWORD PTR [edx+8], ecx

; 1106 : 			return;

	jmp	$LN1@R_BeamDraw
$LN11@R_BeamDraw:

; 1107 : 		}
; 1108 : 
; 1109 : 		// compute segments from the new endpoints
; 1110 : 		VectorSubtract( pbeam->target, pbeam->source, delta );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	esi, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR [edx+ecx+24]
	subss	xmm0, DWORD PTR [esi+eax+12]
	mov	eax, 4
	imul	ecx, eax, 0
	movss	DWORD PTR _delta$[ebp+ecx], xmm0
	mov	edx, 4
	shl	edx, 0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, DWORD PTR _pbeam$[ebp]
	mov	esi, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR [ecx+edx+24]
	subss	xmm0, DWORD PTR [esi+eax+12]
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _delta$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	esi, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR [edx+eax+24]
	subss	xmm0, DWORD PTR [esi+ecx+12]
	movss	DWORD PTR tv163[ebp], xmm0
	mov	eax, 4
	shl	eax, 1
	movss	xmm0, DWORD PTR tv163[ebp]
	movss	DWORD PTR _delta$[ebp+eax], xmm0

; 1111 : 		VectorClear( pbeam->delta );

	mov	eax, 4
	shl	eax, 1
	mov	ecx, DWORD PTR _pbeam$[ebp]
	xorps	xmm0, xmm0
	movss	DWORD PTR [ecx+eax+36], xmm0
	mov	edx, 4
	shl	edx, 0
	mov	eax, DWORD PTR _pbeam$[ebp]
	xorps	xmm0, xmm0
	movss	DWORD PTR [eax+edx+36], xmm0
	mov	ecx, 4
	imul	edx, ecx, 0
	mov	eax, DWORD PTR _pbeam$[ebp]
	xorps	xmm0, xmm0
	movss	DWORD PTR [eax+edx+36], xmm0

; 1112 : 
; 1113 : 		if( VectorLength( delta ) > 0.0000001f )

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	movss	xmm0, DWORD PTR _delta$[ebp+ecx]
	mulss	xmm0, DWORD PTR _delta$[ebp+eax]
	mov	ecx, 4
	shl	ecx, 0
	mov	edx, 4
	shl	edx, 0
	movss	xmm1, DWORD PTR _delta$[ebp+ecx]
	mulss	xmm1, DWORD PTR _delta$[ebp+edx]
	addss	xmm0, xmm1
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	movss	xmm1, DWORD PTR _delta$[ebp+eax]
	mulss	xmm1, DWORD PTR _delta$[ebp+ecx]
	addss	xmm0, xmm1
	cvtss2sd xmm0, xmm0
	sub	esp, 8
	movsd	QWORD PTR [esp], xmm0
	call	_sqrt
	add	esp, 8
	fstp	QWORD PTR tv800[ebp]
	movsd	xmm0, QWORD PTR tv800[ebp]
	comisd	xmm0, QWORD PTR __real@3e7ad7f2a0000000
	jbe	SHORT $LN12@R_BeamDraw

; 1114 : 			VectorCopy( delta, pbeam->delta );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR _delta$[ebp+ecx]
	mov	DWORD PTR [edx+eax+36], ecx
	mov	edx, 4
	shl	edx, 0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, DWORD PTR _pbeam$[ebp]
	mov	edx, DWORD PTR _delta$[ebp+edx]
	mov	DWORD PTR [ecx+eax+36], edx
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	eax, DWORD PTR _delta$[ebp+eax]
	mov	DWORD PTR [edx+ecx+36], eax
$LN12@R_BeamDraw:

; 1115 : 
; 1116 : 		if( pbeam->amplitude >= 0.50f )

	mov	eax, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR [eax+64]
	comiss	xmm0, DWORD PTR __real@3f000000
	jb	$LN13@R_BeamDraw

; 1117 : 			pbeam->segments = VectorLength( pbeam->delta ) * 0.25f + 3.0f; // one per 4 pixels

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	esi, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR [edx+ecx+36]
	mulss	xmm0, DWORD PTR [esi+eax+36]
	mov	eax, 4
	shl	eax, 0
	mov	ecx, 4
	shl	ecx, 0
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	esi, DWORD PTR _pbeam$[ebp]
	movss	xmm1, DWORD PTR [edx+eax+36]
	mulss	xmm1, DWORD PTR [esi+ecx+36]
	addss	xmm0, xmm1
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	esi, DWORD PTR _pbeam$[ebp]
	movss	xmm1, DWORD PTR [edx+eax+36]
	mulss	xmm1, DWORD PTR [esi+ecx+36]
	addss	xmm0, xmm1
	cvtss2sd xmm0, xmm0
	sub	esp, 8
	movsd	QWORD PTR [esp], xmm0
	call	_sqrt
	add	esp, 8
	fstp	QWORD PTR tv835[ebp]
	movsd	xmm0, QWORD PTR tv835[ebp]
	mulsd	xmm0, QWORD PTR __real@3fd0000000000000
	addsd	xmm0, QWORD PTR __real@4008000000000000
	cvttsd2si eax, xmm0
	mov	ecx, DWORD PTR _pbeam$[ebp]
	mov	DWORD PTR [ecx+96], eax
	jmp	$LN14@R_BeamDraw
$LN13@R_BeamDraw:

; 1118 : 		else pbeam->segments = VectorLength( pbeam->delta ) * 0.075f + 3.0f; // one per 16 pixels

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	esi, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR [edx+ecx+36]
	mulss	xmm0, DWORD PTR [esi+eax+36]
	mov	eax, 4
	shl	eax, 0
	mov	ecx, 4
	shl	ecx, 0
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	esi, DWORD PTR _pbeam$[ebp]
	movss	xmm1, DWORD PTR [edx+eax+36]
	mulss	xmm1, DWORD PTR [esi+ecx+36]
	addss	xmm0, xmm1
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	esi, DWORD PTR _pbeam$[ebp]
	movss	xmm1, DWORD PTR [edx+eax+36]
	mulss	xmm1, DWORD PTR [esi+ecx+36]
	addss	xmm0, xmm1
	cvtss2sd xmm0, xmm0
	sub	esp, 8
	movsd	QWORD PTR [esp], xmm0
	call	_sqrt
	add	esp, 8
	fstp	QWORD PTR tv857[ebp]
	movsd	xmm0, QWORD PTR tv857[ebp]
	mulsd	xmm0, QWORD PTR __real@3fb3333340000000
	addsd	xmm0, QWORD PTR __real@4008000000000000
	cvttsd2si eax, xmm0
	mov	ecx, DWORD PTR _pbeam$[ebp]
	mov	DWORD PTR [ecx+96], eax
$LN14@R_BeamDraw:

; 1119 : 	}
; 1120 : 
; 1121 : 	if( pbeam->type == TE_BEAMPOINTS && R_BeamCull( pbeam->source, pbeam->target, 0 ))

	mov	eax, DWORD PTR _pbeam$[ebp]
	cmp	DWORD PTR [eax+4], 0
	jne	SHORT $LN15@R_BeamDraw
	push	0
	mov	eax, DWORD PTR _pbeam$[ebp]
	add	eax, 24					; 00000018H
	push	eax
	mov	ecx, DWORD PTR _pbeam$[ebp]
	add	ecx, 12					; 0000000cH
	push	ecx
	call	_R_BeamCull
	add	esp, 12					; 0000000cH
	test	eax, eax
	je	SHORT $LN15@R_BeamDraw

; 1122 : 	{
; 1123 : 		ClearBits( pbeam->flags, FBEAM_ISACTIVE );

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+8]
	and	ecx, -1073741825			; bfffffffH
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	DWORD PTR [edx+8], ecx

; 1124 : 		return;

	jmp	$LN1@R_BeamDraw
$LN15@R_BeamDraw:

; 1125 : 	}
; 1126 : 
; 1127 : 	// don't draw really short or inactive beams
; 1128 : 	if( !FBitSet( pbeam->flags, FBEAM_ISACTIVE ) || VectorLength( pbeam->delta ) < 0.1f )

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+8]
	and	ecx, 1073741824				; 40000000H
	je	$LN17@R_BeamDraw
	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	esi, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR [edx+ecx+36]
	mulss	xmm0, DWORD PTR [esi+eax+36]
	mov	eax, 4
	shl	eax, 0
	mov	ecx, 4
	shl	ecx, 0
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	esi, DWORD PTR _pbeam$[ebp]
	movss	xmm1, DWORD PTR [edx+eax+36]
	mulss	xmm1, DWORD PTR [esi+ecx+36]
	addss	xmm0, xmm1
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	esi, DWORD PTR _pbeam$[ebp]
	movss	xmm1, DWORD PTR [edx+eax+36]
	mulss	xmm1, DWORD PTR [esi+ecx+36]
	addss	xmm0, xmm1
	cvtss2sd xmm0, xmm0
	sub	esp, 8
	movsd	QWORD PTR [esp], xmm0
	call	_sqrt
	add	esp, 8
	fstp	QWORD PTR tv888[ebp]
	movsd	xmm0, QWORD PTR __real@3fb99999a0000000
	comisd	xmm0, QWORD PTR tv888[ebp]
	jbe	SHORT $LN16@R_BeamDraw
$LN17@R_BeamDraw:

; 1129 : 	{
; 1130 : 		return;

	jmp	$LN1@R_BeamDraw
$LN16@R_BeamDraw:

; 1131 : 	}
; 1132 : 
; 1133 : 	if( pbeam->flags & ( FBEAM_FADEIN|FBEAM_FADEOUT ))

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+8]
	and	ecx, 12					; 0000000cH
	je	SHORT $LN19@R_BeamDraw

; 1134 : 	{
; 1135 : 		// update life cycle
; 1136 : 		pbeam->t = pbeam->freq + ( pbeam->die - cl.time );

	mov	eax, DWORD PTR _pbeam$[ebp]
	cvtss2sd xmm0, DWORD PTR [eax+52]
	mov	ecx, DWORD PTR _pbeam$[ebp]
	cvtss2sd xmm1, DWORD PTR [ecx+56]
	subsd	xmm1, QWORD PTR _cl+2167640
	addsd	xmm0, xmm1
	cvtsd2ss xmm0, xmm0
	mov	edx, DWORD PTR _pbeam$[ebp]
	movss	DWORD PTR [edx+48], xmm0

; 1137 : 		if( pbeam->t != 0.0f ) pbeam->t = 1.0f - pbeam->freq / pbeam->t;

	mov	eax, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR [eax+48]
	ucomiss	xmm0, DWORD PTR __real@00000000
	lahf
	test	ah, 68					; 00000044H
	jnp	SHORT $LN19@R_BeamDraw
	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR [eax+52]
	divss	xmm0, DWORD PTR [ecx+48]
	movss	xmm1, DWORD PTR __real@3f800000
	subss	xmm1, xmm0
	mov	edx, DWORD PTR _pbeam$[ebp]
	movss	DWORD PTR [edx+48], xmm1
$LN19@R_BeamDraw:

; 1138 : 	}
; 1139 : 
; 1140 : 	if( pbeam->type == TE_BEAMHOSE )

	mov	eax, DWORD PTR _pbeam$[ebp]
	cmp	DWORD PTR [eax+4], 26			; 0000001aH
	jne	$LN23@R_BeamDraw

; 1141 : 	{
; 1142 : 		float	flDot;
; 1143 : 
; 1144 : 		VectorSubtract( pbeam->target, pbeam->source, delta );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	esi, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR [edx+ecx+24]
	subss	xmm0, DWORD PTR [esi+eax+12]
	mov	eax, 4
	imul	ecx, eax, 0
	movss	DWORD PTR _delta$[ebp+ecx], xmm0
	mov	edx, 4
	shl	edx, 0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, DWORD PTR _pbeam$[ebp]
	mov	esi, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR [ecx+edx+24]
	subss	xmm0, DWORD PTR [esi+eax+12]
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _delta$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	esi, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR [edx+eax+24]
	subss	xmm0, DWORD PTR [esi+ecx+12]
	movss	DWORD PTR tv368[ebp], xmm0
	mov	eax, 4
	shl	eax, 1
	movss	xmm0, DWORD PTR tv368[ebp]
	movss	DWORD PTR _delta$[ebp+eax], xmm0

; 1145 : 		VectorNormalize( delta );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	movss	xmm0, DWORD PTR _delta$[ebp+ecx]
	mulss	xmm0, DWORD PTR _delta$[ebp+eax]
	mov	ecx, 4
	shl	ecx, 0
	mov	edx, 4
	shl	edx, 0
	movss	xmm1, DWORD PTR _delta$[ebp+ecx]
	mulss	xmm1, DWORD PTR _delta$[ebp+edx]
	addss	xmm0, xmm1
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	movss	xmm1, DWORD PTR _delta$[ebp+eax]
	mulss	xmm1, DWORD PTR _delta$[ebp+ecx]
	addss	xmm0, xmm1
	cvtss2sd xmm0, xmm0
	sub	esp, 8
	movsd	QWORD PTR [esp], xmm0
	call	_sqrt
	add	esp, 8
	fstp	DWORD PTR _ilength$7[ebp]
	movss	xmm0, DWORD PTR _ilength$7[ebp]
	ucomiss	xmm0, DWORD PTR __real@00000000
	lahf
	test	ah, 68					; 00000044H
	jnp	SHORT $LN21@R_BeamDraw
	movss	xmm0, DWORD PTR __real@3f800000
	divss	xmm0, DWORD PTR _ilength$7[ebp]
	movss	DWORD PTR _ilength$7[ebp], xmm0
$LN21@R_BeamDraw:
	mov	eax, 4
	imul	ecx, eax, 0
	movss	xmm0, DWORD PTR _delta$[ebp+ecx]
	mulss	xmm0, DWORD PTR _ilength$7[ebp]
	mov	edx, 4
	imul	eax, edx, 0
	movss	DWORD PTR _delta$[ebp+eax], xmm0
	mov	eax, 4
	shl	eax, 0
	movss	xmm0, DWORD PTR _delta$[ebp+eax]
	mulss	xmm0, DWORD PTR _ilength$7[ebp]
	mov	ecx, 4
	shl	ecx, 0
	movss	DWORD PTR _delta$[ebp+ecx], xmm0
	mov	eax, 4
	shl	eax, 1
	movss	xmm0, DWORD PTR _delta$[ebp+eax]
	mulss	xmm0, DWORD PTR _ilength$7[ebp]
	mov	ecx, 4
	shl	ecx, 1
	movss	DWORD PTR _delta$[ebp+ecx], xmm0

; 1146 : 
; 1147 : 		flDot = DotProduct( delta, RI.vforward );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	movss	xmm0, DWORD PTR _delta$[ebp+ecx]
	mulss	xmm0, DWORD PTR _RI[eax+224]
	mov	ecx, 4
	shl	ecx, 0
	mov	edx, 4
	shl	edx, 0
	movss	xmm1, DWORD PTR _delta$[ebp+ecx]
	mulss	xmm1, DWORD PTR _RI[edx+224]
	addss	xmm0, xmm1
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	movss	xmm1, DWORD PTR _delta$[ebp+eax]
	mulss	xmm1, DWORD PTR _RI[ecx+224]
	addss	xmm0, xmm1
	movss	DWORD PTR _flDot$8[ebp], xmm0

; 1148 : 
; 1149 : 		// abort if the player's looking along it away from the source
; 1150 : 		if( flDot > 0 )

	movss	xmm0, DWORD PTR _flDot$8[ebp]
	comiss	xmm0, DWORD PTR __real@00000000
	jbe	SHORT $LN22@R_BeamDraw

; 1151 : 		{
; 1152 : 			return;

	jmp	$LN1@R_BeamDraw

; 1153 : 		}

	jmp	$LN23@R_BeamDraw
$LN22@R_BeamDraw:

; 1154 : 		else
; 1155 : 		{
; 1156 : 			float	flFade = pow( flDot, 10 );

	sub	esp, 8
	movsd	xmm0, QWORD PTR __real@4024000000000000
	movsd	QWORD PTR [esp], xmm0
	cvtss2sd xmm0, DWORD PTR _flDot$8[ebp]
	sub	esp, 8
	movsd	QWORD PTR [esp], xmm0
	call	_pow
	add	esp, 16					; 00000010H
	fstp	DWORD PTR _flFade$6[ebp]

; 1157 : 			vec3_t	localDir, vecProjection, tmp;
; 1158 : 			float	flDistance;
; 1159 : 
; 1160 : 			// fade the beam if the player's not looking at the source
; 1161 : 			VectorSubtract( RI.vieworg, pbeam->source, localDir );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	mov	edx, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR _RI[ecx+200]
	subss	xmm0, DWORD PTR [edx+eax+12]
	mov	eax, 4
	imul	ecx, eax, 0
	movss	DWORD PTR _localDir$5[ebp+ecx], xmm0
	mov	edx, 4
	shl	edx, 0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR _RI[edx+200]
	subss	xmm0, DWORD PTR [ecx+eax+12]
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _localDir$5[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	mov	edx, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR _RI[eax+200]
	subss	xmm0, DWORD PTR [edx+ecx+12]
	movss	DWORD PTR tv455[ebp], xmm0
	mov	eax, 4
	shl	eax, 1
	movss	xmm0, DWORD PTR tv455[ebp]
	movss	DWORD PTR _localDir$5[ebp+eax], xmm0

; 1162 : 			flDot = DotProduct( delta, localDir );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	movss	xmm0, DWORD PTR _delta$[ebp+ecx]
	mulss	xmm0, DWORD PTR _localDir$5[ebp+eax]
	mov	ecx, 4
	shl	ecx, 0
	mov	edx, 4
	shl	edx, 0
	movss	xmm1, DWORD PTR _delta$[ebp+ecx]
	mulss	xmm1, DWORD PTR _localDir$5[ebp+edx]
	addss	xmm0, xmm1
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	movss	xmm1, DWORD PTR _delta$[ebp+eax]
	mulss	xmm1, DWORD PTR _localDir$5[ebp+ecx]
	addss	xmm0, xmm1
	movss	DWORD PTR _flDot$8[ebp], xmm0

; 1163 : 			VectorScale( delta, flDot, vecProjection );

	mov	eax, 4
	imul	ecx, eax, 0
	movss	xmm0, DWORD PTR _delta$[ebp+ecx]
	mulss	xmm0, DWORD PTR _flDot$8[ebp]
	mov	edx, 4
	imul	eax, edx, 0
	movss	DWORD PTR _vecProjection$4[ebp+eax], xmm0
	mov	ecx, 4
	shl	ecx, 0
	movss	xmm0, DWORD PTR _delta$[ebp+ecx]
	mulss	xmm0, DWORD PTR _flDot$8[ebp]
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _vecProjection$4[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	movss	xmm0, DWORD PTR _delta$[ebp+eax]
	mulss	xmm0, DWORD PTR _flDot$8[ebp]
	movss	DWORD PTR tv488[ebp], xmm0
	mov	ecx, 4
	shl	ecx, 1
	movss	xmm0, DWORD PTR tv488[ebp]
	movss	DWORD PTR _vecProjection$4[ebp+ecx], xmm0

; 1164 : 			VectorSubtract( localDir, vecProjection, tmp );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	movss	xmm0, DWORD PTR _localDir$5[ebp+ecx]
	subss	xmm0, DWORD PTR _vecProjection$4[ebp+eax]
	mov	ecx, 4
	imul	edx, ecx, 0
	movss	DWORD PTR _tmp$3[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, 4
	shl	ecx, 0
	movss	xmm0, DWORD PTR _localDir$5[ebp+eax]
	subss	xmm0, DWORD PTR _vecProjection$4[ebp+ecx]
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _tmp$3[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	movss	xmm0, DWORD PTR _localDir$5[ebp+eax]
	subss	xmm0, DWORD PTR _vecProjection$4[ebp+ecx]
	movss	DWORD PTR tv509[ebp], xmm0
	mov	edx, 4
	shl	edx, 1
	movss	xmm0, DWORD PTR tv509[ebp]
	movss	DWORD PTR _tmp$3[ebp+edx], xmm0

; 1165 : 			flDistance = VectorLength( tmp );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	movss	xmm0, DWORD PTR _tmp$3[ebp+ecx]
	mulss	xmm0, DWORD PTR _tmp$3[ebp+eax]
	mov	ecx, 4
	shl	ecx, 0
	mov	edx, 4
	shl	edx, 0
	movss	xmm1, DWORD PTR _tmp$3[ebp+ecx]
	mulss	xmm1, DWORD PTR _tmp$3[ebp+edx]
	addss	xmm0, xmm1
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	movss	xmm1, DWORD PTR _tmp$3[ebp+eax]
	mulss	xmm1, DWORD PTR _tmp$3[ebp+ecx]
	addss	xmm0, xmm1
	cvtss2sd xmm0, xmm0
	sub	esp, 8
	movsd	QWORD PTR [esp], xmm0
	call	_sqrt
	add	esp, 8
	fstp	DWORD PTR _flDistance$2[ebp]

; 1166 : 
; 1167 : 			if( flDistance > 30 )

	movss	xmm0, DWORD PTR _flDistance$2[ebp]
	comiss	xmm0, DWORD PTR __real@41f00000
	jbe	SHORT $LN26@R_BeamDraw

; 1168 : 			{
; 1169 : 				flDistance = 1.0f - (( flDistance - 30.0f ) / 64.0f );

	movss	xmm0, DWORD PTR _flDistance$2[ebp]
	subss	xmm0, DWORD PTR __real@41f00000
	divss	xmm0, DWORD PTR __real@42800000
	movss	xmm1, DWORD PTR __real@3f800000
	subss	xmm1, xmm0
	movss	DWORD PTR _flDistance$2[ebp], xmm1

; 1170 : 				if( flDistance <= 0 ) flFade = 0;

	xorps	xmm0, xmm0
	comiss	xmm0, DWORD PTR _flDistance$2[ebp]
	jb	SHORT $LN25@R_BeamDraw
	xorps	xmm0, xmm0
	movss	DWORD PTR _flFade$6[ebp], xmm0
	jmp	SHORT $LN26@R_BeamDraw
$LN25@R_BeamDraw:

; 1171 : 				else flFade *= pow( flDistance, 3 );

	sub	esp, 8
	movsd	xmm0, QWORD PTR __real@4008000000000000
	movsd	QWORD PTR [esp], xmm0
	cvtss2sd xmm0, DWORD PTR _flDistance$2[ebp]
	sub	esp, 8
	movsd	QWORD PTR [esp], xmm0
	call	_pow
	add	esp, 16					; 00000010H
	fstp	QWORD PTR tv1047[ebp]
	cvtss2sd xmm0, DWORD PTR _flFade$6[ebp]
	mulsd	xmm0, QWORD PTR tv1047[ebp]
	cvtsd2ss xmm0, xmm0
	movss	DWORD PTR _flFade$6[ebp], xmm0
$LN26@R_BeamDraw:

; 1172 : 			}
; 1173 : 
; 1174 : 			if( flFade < ( 1.0f / 255.0f ))

	movss	xmm0, DWORD PTR __real@3b808081
	comiss	xmm0, DWORD PTR _flFade$6[ebp]
	jbe	SHORT $LN27@R_BeamDraw

; 1175 : 				return;

	jmp	$LN1@R_BeamDraw
$LN27@R_BeamDraw:

; 1176 : 
; 1177 : 			// FIXME: needs to be testing
; 1178 : 			pbeam->brightness *= flFade;

	mov	eax, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR [eax+80]
	mulss	xmm0, DWORD PTR _flFade$6[ebp]
	mov	ecx, DWORD PTR _pbeam$[ebp]
	movss	DWORD PTR [ecx+80], xmm0
$LN23@R_BeamDraw:

; 1179 : 		}
; 1180 : 	}
; 1181 : 
; 1182 : 	TriRenderMode( FBitSet( pbeam->flags, FBEAM_SOLID ) ? kRenderNormal : kRenderTransAdd );

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+8]
	and	ecx, 32					; 00000020H
	je	SHORT $LN43@R_BeamDraw
	mov	DWORD PTR tv554[ebp], 0
	jmp	SHORT $LN44@R_BeamDraw
$LN43@R_BeamDraw:
	mov	DWORD PTR tv554[ebp], 5
$LN44@R_BeamDraw:
	mov	edx, DWORD PTR tv554[ebp]
	push	edx
	call	_TriRenderMode
	add	esp, 4

; 1183 : 
; 1184 : 	if( !TriSpriteTexture( model, (int)(pbeam->frame + pbeam->frameRate * cl.time) % pbeam->frameCount ))

	mov	eax, DWORD PTR _pbeam$[ebp]
	cvtss2sd xmm0, DWORD PTR [eax+92]
	mov	ecx, DWORD PTR _pbeam$[ebp]
	cvtss2sd xmm1, DWORD PTR [ecx+88]
	mulsd	xmm1, QWORD PTR _cl+2167640
	addsd	xmm0, xmm1
	cvttsd2si eax, xmm0
	mov	ecx, DWORD PTR _pbeam$[ebp]
	cdq
	idiv	DWORD PTR [ecx+112]
	push	edx
	mov	edx, DWORD PTR _model$[ebp]
	push	edx
	call	_TriSpriteTexture
	add	esp, 8
	test	eax, eax
	jne	SHORT $LN28@R_BeamDraw

; 1185 : 	{
; 1186 : 		ClearBits( pbeam->flags, FBEAM_ISACTIVE );

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+8]
	and	ecx, -1073741825			; bfffffffH
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	DWORD PTR [edx+8], ecx

; 1187 : 		return;

	jmp	$LN1@R_BeamDraw
$LN28@R_BeamDraw:

; 1188 : 	}
; 1189 : 
; 1190 : 	if( pbeam->type == TE_BEAMFOLLOW )

	mov	eax, DWORD PTR _pbeam$[ebp]
	cmp	DWORD PTR [eax+4], 22			; 00000016H
	jne	SHORT $LN30@R_BeamDraw

; 1191 : 	{
; 1192 : 		cl_entity_t	*pStart;
; 1193 : 
; 1194 : 		// XASH SPECIFIC: get brightness from head entity
; 1195 : 		pStart = R_BeamGetEntity( pbeam->startEntity ); 

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+100]
	push	ecx
	call	_R_BeamGetEntity
	add	esp, 4
	mov	DWORD PTR _pStart$1[ebp], eax

; 1196 : 		if( pStart && pStart->curstate.rendermode != kRenderNormal )

	cmp	DWORD PTR _pStart$1[ebp], 0
	je	SHORT $LN30@R_BeamDraw
	mov	eax, DWORD PTR _pStart$1[ebp]
	cmp	DWORD PTR [eax+984], 0
	je	SHORT $LN30@R_BeamDraw

; 1197 : 			pbeam->brightness = CL_FxBlend( pStart ) / 255.0f;

	mov	eax, DWORD PTR _pStart$1[ebp]
	push	eax
	call	_CL_FxBlend
	add	esp, 4
	cvtsi2ss xmm0, eax
	divss	xmm0, DWORD PTR __real@437f0000
	mov	ecx, DWORD PTR _pbeam$[ebp]
	movss	DWORD PTR [ecx+80], xmm0
$LN30@R_BeamDraw:

; 1198 : 	}
; 1199 : 
; 1200 : 	if( FBitSet( pbeam->flags, FBEAM_FADEIN ))

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+8]
	and	ecx, 4
	je	SHORT $LN31@R_BeamDraw

; 1201 : 		TriColor4f( pbeam->r, pbeam->g, pbeam->b, pbeam->t * pbeam->brightness );

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR [eax+48]
	mulss	xmm0, DWORD PTR [ecx+80]
	push	ecx
	movss	DWORD PTR [esp], xmm0
	mov	edx, DWORD PTR _pbeam$[ebp]
	push	ecx
	movss	xmm0, DWORD PTR [edx+76]
	movss	DWORD PTR [esp], xmm0
	mov	eax, DWORD PTR _pbeam$[ebp]
	push	ecx
	movss	xmm0, DWORD PTR [eax+72]
	movss	DWORD PTR [esp], xmm0
	mov	ecx, DWORD PTR _pbeam$[ebp]
	push	ecx
	movss	xmm0, DWORD PTR [ecx+68]
	movss	DWORD PTR [esp], xmm0
	call	_TriColor4f
	add	esp, 16					; 00000010H
	jmp	$LN34@R_BeamDraw
$LN31@R_BeamDraw:

; 1202 : 	else if( FBitSet( pbeam->flags, FBEAM_FADEOUT ))

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+8]
	and	ecx, 8
	je	SHORT $LN33@R_BeamDraw

; 1203 : 		TriColor4f( pbeam->r, pbeam->g, pbeam->b, ( 1.0f - pbeam->t ) * pbeam->brightness );

	mov	eax, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR __real@3f800000
	subss	xmm0, DWORD PTR [eax+48]
	mov	ecx, DWORD PTR _pbeam$[ebp]
	mulss	xmm0, DWORD PTR [ecx+80]
	push	ecx
	movss	DWORD PTR [esp], xmm0
	mov	edx, DWORD PTR _pbeam$[ebp]
	push	ecx
	movss	xmm0, DWORD PTR [edx+76]
	movss	DWORD PTR [esp], xmm0
	mov	eax, DWORD PTR _pbeam$[ebp]
	push	ecx
	movss	xmm0, DWORD PTR [eax+72]
	movss	DWORD PTR [esp], xmm0
	mov	ecx, DWORD PTR _pbeam$[ebp]
	push	ecx
	movss	xmm0, DWORD PTR [ecx+68]
	movss	DWORD PTR [esp], xmm0
	call	_TriColor4f
	add	esp, 16					; 00000010H
	jmp	SHORT $LN34@R_BeamDraw
$LN33@R_BeamDraw:

; 1204 : 	else TriColor4f( pbeam->r, pbeam->g, pbeam->b, pbeam->brightness );

	mov	eax, DWORD PTR _pbeam$[ebp]
	push	ecx
	movss	xmm0, DWORD PTR [eax+80]
	movss	DWORD PTR [esp], xmm0
	mov	ecx, DWORD PTR _pbeam$[ebp]
	push	ecx
	movss	xmm0, DWORD PTR [ecx+76]
	movss	DWORD PTR [esp], xmm0
	mov	edx, DWORD PTR _pbeam$[ebp]
	push	ecx
	movss	xmm0, DWORD PTR [edx+72]
	movss	DWORD PTR [esp], xmm0
	mov	eax, DWORD PTR _pbeam$[ebp]
	push	ecx
	movss	xmm0, DWORD PTR [eax+68]
	movss	DWORD PTR [esp], xmm0
	call	_TriColor4f
	add	esp, 16					; 00000010H
$LN34@R_BeamDraw:

; 1205 : 
; 1206 : 	switch( pbeam->type )

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+4]
	mov	DWORD PTR tv623[ebp], ecx
	cmp	DWORD PTR tv623[ebp], 26		; 0000001aH
	ja	$LN2@R_BeamDraw
	mov	edx, DWORD PTR tv623[ebp]
	movzx	eax, BYTE PTR $LN45@R_BeamDraw[edx]
	jmp	DWORD PTR $LN46@R_BeamDraw[eax*4]
$LN35@R_BeamDraw:

; 1207 : 	{
; 1208 : 	case TE_BEAMTORUS:
; 1209 : 		GL_Cull( GL_NONE );

	push	0
	call	_GL_Cull
	add	esp, 4

; 1210 : 		TriBegin( TRI_TRIANGLE_STRIP );

	push	5
	call	_TriBegin
	add	esp, 4

; 1211 : 		R_DrawTorus( pbeam->source, pbeam->delta, pbeam->width, pbeam->amplitude, pbeam->freq, pbeam->speed, pbeam->segments );

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+96]
	push	ecx
	mov	edx, DWORD PTR _pbeam$[ebp]
	push	ecx
	movss	xmm0, DWORD PTR [edx+84]
	movss	DWORD PTR [esp], xmm0
	mov	eax, DWORD PTR _pbeam$[ebp]
	push	ecx
	movss	xmm0, DWORD PTR [eax+52]
	movss	DWORD PTR [esp], xmm0
	mov	ecx, DWORD PTR _pbeam$[ebp]
	push	ecx
	movss	xmm0, DWORD PTR [ecx+64]
	movss	DWORD PTR [esp], xmm0
	mov	edx, DWORD PTR _pbeam$[ebp]
	push	ecx
	movss	xmm0, DWORD PTR [edx+60]
	movss	DWORD PTR [esp], xmm0
	mov	eax, DWORD PTR _pbeam$[ebp]
	add	eax, 36					; 00000024H
	push	eax
	mov	ecx, DWORD PTR _pbeam$[ebp]
	add	ecx, 12					; 0000000cH
	push	ecx
	call	_R_DrawTorus
	add	esp, 28					; 0000001cH

; 1212 : 		TriEnd();

	call	_TriEnd

; 1213 : 		break;

	jmp	$LN2@R_BeamDraw
$LN36@R_BeamDraw:

; 1214 : 	case TE_BEAMDISK:
; 1215 : 		GL_Cull( GL_NONE );

	push	0
	call	_GL_Cull
	add	esp, 4

; 1216 : 		TriBegin( TRI_TRIANGLE_STRIP );

	push	5
	call	_TriBegin
	add	esp, 4

; 1217 : 		R_DrawDisk( pbeam->source, pbeam->delta, pbeam->width, pbeam->amplitude, pbeam->freq, pbeam->speed, pbeam->segments );

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+96]
	push	ecx
	mov	edx, DWORD PTR _pbeam$[ebp]
	push	ecx
	movss	xmm0, DWORD PTR [edx+84]
	movss	DWORD PTR [esp], xmm0
	mov	eax, DWORD PTR _pbeam$[ebp]
	push	ecx
	movss	xmm0, DWORD PTR [eax+52]
	movss	DWORD PTR [esp], xmm0
	mov	ecx, DWORD PTR _pbeam$[ebp]
	push	ecx
	movss	xmm0, DWORD PTR [ecx+64]
	movss	DWORD PTR [esp], xmm0
	mov	edx, DWORD PTR _pbeam$[ebp]
	push	ecx
	movss	xmm0, DWORD PTR [edx+60]
	movss	DWORD PTR [esp], xmm0
	mov	eax, DWORD PTR _pbeam$[ebp]
	add	eax, 36					; 00000024H
	push	eax
	mov	ecx, DWORD PTR _pbeam$[ebp]
	add	ecx, 12					; 0000000cH
	push	ecx
	call	_R_DrawDisk
	add	esp, 28					; 0000001cH

; 1218 : 		TriEnd();

	call	_TriEnd

; 1219 : 		break;

	jmp	$LN2@R_BeamDraw
$LN37@R_BeamDraw:

; 1220 : 	case TE_BEAMCYLINDER:
; 1221 : 		GL_Cull( GL_NONE );

	push	0
	call	_GL_Cull
	add	esp, 4

; 1222 : 		TriBegin( TRI_TRIANGLE_STRIP );

	push	5
	call	_TriBegin
	add	esp, 4

; 1223 : 		R_DrawCylinder( pbeam->source, pbeam->delta, pbeam->width, pbeam->amplitude, pbeam->freq, pbeam->speed, pbeam->segments );

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+96]
	push	ecx
	mov	edx, DWORD PTR _pbeam$[ebp]
	push	ecx
	movss	xmm0, DWORD PTR [edx+84]
	movss	DWORD PTR [esp], xmm0
	mov	eax, DWORD PTR _pbeam$[ebp]
	push	ecx
	movss	xmm0, DWORD PTR [eax+52]
	movss	DWORD PTR [esp], xmm0
	mov	ecx, DWORD PTR _pbeam$[ebp]
	push	ecx
	movss	xmm0, DWORD PTR [ecx+64]
	movss	DWORD PTR [esp], xmm0
	mov	edx, DWORD PTR _pbeam$[ebp]
	push	ecx
	movss	xmm0, DWORD PTR [edx+60]
	movss	DWORD PTR [esp], xmm0
	mov	eax, DWORD PTR _pbeam$[ebp]
	add	eax, 36					; 00000024H
	push	eax
	mov	ecx, DWORD PTR _pbeam$[ebp]
	add	ecx, 12					; 0000000cH
	push	ecx
	call	_R_DrawCylinder
	add	esp, 28					; 0000001cH

; 1224 : 		TriEnd();

	call	_TriEnd

; 1225 : 		break;

	jmp	$LN2@R_BeamDraw
$LN38@R_BeamDraw:

; 1226 : 	case TE_BEAMPOINTS:
; 1227 : 	case TE_BEAMHOSE:
; 1228 : 		TriBegin( TRI_TRIANGLE_STRIP );

	push	5
	call	_TriBegin
	add	esp, 4

; 1229 : 		R_DrawSegs( pbeam->source, pbeam->delta, pbeam->width, pbeam->amplitude, pbeam->freq, pbeam->speed, pbeam->segments, pbeam->flags );

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+8]
	push	ecx
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	eax, DWORD PTR [edx+96]
	push	eax
	mov	ecx, DWORD PTR _pbeam$[ebp]
	push	ecx
	movss	xmm0, DWORD PTR [ecx+84]
	movss	DWORD PTR [esp], xmm0
	mov	edx, DWORD PTR _pbeam$[ebp]
	push	ecx
	movss	xmm0, DWORD PTR [edx+52]
	movss	DWORD PTR [esp], xmm0
	mov	eax, DWORD PTR _pbeam$[ebp]
	push	ecx
	movss	xmm0, DWORD PTR [eax+64]
	movss	DWORD PTR [esp], xmm0
	mov	ecx, DWORD PTR _pbeam$[ebp]
	push	ecx
	movss	xmm0, DWORD PTR [ecx+60]
	movss	DWORD PTR [esp], xmm0
	mov	edx, DWORD PTR _pbeam$[ebp]
	add	edx, 36					; 00000024H
	push	edx
	mov	eax, DWORD PTR _pbeam$[ebp]
	add	eax, 12					; 0000000cH
	push	eax
	call	_R_DrawSegs
	add	esp, 32					; 00000020H

; 1230 : 		TriEnd();

	call	_TriEnd

; 1231 : 		break;

	jmp	$LN2@R_BeamDraw
$LN40@R_BeamDraw:

; 1232 : 	case TE_BEAMFOLLOW:
; 1233 : 		TriBegin( TRI_QUADS );

	push	2
	call	_TriBegin
	add	esp, 4

; 1234 : 		R_DrawBeamFollow( pbeam, frametime );

	push	ecx
	movss	xmm0, DWORD PTR _frametime$[ebp]
	movss	DWORD PTR [esp], xmm0
	mov	eax, DWORD PTR _pbeam$[ebp]
	push	eax
	call	_R_DrawBeamFollow
	add	esp, 8

; 1235 : 		TriEnd();

	call	_TriEnd

; 1236 : 		break;

	jmp	SHORT $LN2@R_BeamDraw
$LN41@R_BeamDraw:

; 1237 : 	case TE_BEAMRING:
; 1238 : 		GL_Cull( GL_NONE );

	push	0
	call	_GL_Cull
	add	esp, 4

; 1239 : 		TriBegin( TRI_TRIANGLE_STRIP );

	push	5
	call	_TriBegin
	add	esp, 4

; 1240 : 		R_DrawRing( pbeam->source, pbeam->delta, pbeam->width, pbeam->amplitude, pbeam->freq, pbeam->speed, pbeam->segments );

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+96]
	push	ecx
	mov	edx, DWORD PTR _pbeam$[ebp]
	push	ecx
	movss	xmm0, DWORD PTR [edx+84]
	movss	DWORD PTR [esp], xmm0
	mov	eax, DWORD PTR _pbeam$[ebp]
	push	ecx
	movss	xmm0, DWORD PTR [eax+52]
	movss	DWORD PTR [esp], xmm0
	mov	ecx, DWORD PTR _pbeam$[ebp]
	push	ecx
	movss	xmm0, DWORD PTR [ecx+64]
	movss	DWORD PTR [esp], xmm0
	mov	edx, DWORD PTR _pbeam$[ebp]
	push	ecx
	movss	xmm0, DWORD PTR [edx+60]
	movss	DWORD PTR [esp], xmm0
	mov	eax, DWORD PTR _pbeam$[ebp]
	add	eax, 36					; 00000024H
	push	eax
	mov	ecx, DWORD PTR _pbeam$[ebp]
	add	ecx, 12					; 0000000cH
	push	ecx
	call	_R_DrawRing
	add	esp, 28					; 0000001cH

; 1241 : 		TriEnd();

	call	_TriEnd
$LN2@R_BeamDraw:

; 1242 : 		break;
; 1243 : 	}
; 1244 : 
; 1245 : 	GL_Cull( GL_FRONT );

	push	1028					; 00000404H
	call	_GL_Cull
	add	esp, 4
$LN1@R_BeamDraw:

; 1246 : }

	pop	edi
	pop	esi
	pop	ebx
	mov	ecx, DWORD PTR __$ArrayPad$[ebp]
	xor	ecx, ebp
	call	@__security_check_cookie@4
	mov	esp, ebp
	pop	ebp
	ret	0
	npad	3
$LN46@R_BeamDraw:
	DD	$LN38@R_BeamDraw
	DD	$LN35@R_BeamDraw
	DD	$LN36@R_BeamDraw
	DD	$LN37@R_BeamDraw
	DD	$LN40@R_BeamDraw
	DD	$LN41@R_BeamDraw
	DD	$LN2@R_BeamDraw
$LN45@R_BeamDraw:
	DB	0
	DB	6
	DB	6
	DB	6
	DB	6
	DB	6
	DB	6
	DB	6
	DB	6
	DB	6
	DB	6
	DB	6
	DB	6
	DB	6
	DB	6
	DB	6
	DB	6
	DB	6
	DB	6
	DB	1
	DB	2
	DB	3
	DB	4
	DB	6
	DB	5
	DB	6
	DB	0
_R_BeamDraw ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File D:\DevDragon\XashFE\dev\src\engine\client\gl_beams.c
;	COMDAT _R_DrawRing
_TEXT	SEGMENT
tv970 = -260						; size = 8
tv738 = -260						; size = 8
tv671 = -256						; size = 4
tv641 = -256						; size = 4
tv617 = -256						; size = 4
tv584 = -256						; size = 4
tv487 = -256						; size = 4
tv463 = -256						; size = 4
tv425 = -256						; size = 4
tv396 = -256						; size = 4
tv347 = -256						; size = 4
tv269 = -256						; size = 4
tv248 = -256						; size = 4
tv186 = -256						; size = 4
tv165 = -256						; size = 4
_ilength$1 = -188					; size = 4
_ilength$2 = -184					; size = 4
_scale$ = -180						; size = 4
_y$ = -176						; size = 4
_x$ = -172						; size = 4
_radius$ = -168						; size = 4
_yaxis$ = -164						; size = 12
_xaxis$ = -152						; size = 12
_center$ = -140						; size = 12
_normal$ = -128						; size = 12
_tmp$ = -116						; size = 12
_screenLast$ = -104					; size = 12
_screen$ = -92						; size = 12
_point$ = -80						; size = 12
_last2$ = -68						; size = 12
_last1$ = -56						; size = 12
_vStep$ = -44						; size = 4
_vLast$ = -40						; size = 4
_factor$ = -36						; size = 4
_fraction$ = -32					; size = 4
_length$ = -28						; size = 4
_div$ = -24						; size = 4
_noiseStep$ = -20					; size = 4
_noiseIndex$ = -16					; size = 4
_j$ = -12						; size = 4
_i$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_source$ = 8						; size = 4
_delta$ = 12						; size = 4
_width$ = 16						; size = 4
_amplitude$ = 20					; size = 4
_freq$ = 24						; size = 4
_speed$ = 28						; size = 4
_segments$ = 32						; size = 4
_R_DrawRing PROC					; COMDAT

; 946  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 260				; 00000104H
	mov	eax, DWORD PTR ___security_cookie
	xor	eax, ebp
	mov	DWORD PTR __$ArrayPad$[ebp], eax
	push	ebx
	push	esi
	push	edi

; 947  : 	int	i, j, noiseIndex, noiseStep;
; 948  : 	float	div, length, fraction, factor, vLast, vStep;
; 949  : 	vec3_t	last1, last2, point, screen, screenLast;
; 950  : 	vec3_t	tmp, normal, center, xaxis, yaxis;
; 951  : 	float	radius, x, y, scale;
; 952  : 
; 953  : 	if( segments < 2 )

	cmp	DWORD PTR _segments$[ebp], 2
	jge	SHORT $LN5@R_DrawRing

; 954  : 		return;

	jmp	$LN3@R_DrawRing
$LN5@R_DrawRing:

; 955  : 
; 956  : 	VectorClear( screenLast );

	mov	eax, 4
	shl	eax, 1
	xorps	xmm0, xmm0
	movss	DWORD PTR _screenLast$[ebp+eax], xmm0
	mov	ecx, 4
	shl	ecx, 0
	xorps	xmm0, xmm0
	movss	DWORD PTR _screenLast$[ebp+ecx], xmm0
	mov	edx, 4
	imul	eax, edx, 0
	xorps	xmm0, xmm0
	movss	DWORD PTR _screenLast$[ebp+eax], xmm0

; 957  : 	segments = segments * M_PI;

	cvtsi2ss xmm0, DWORD PTR _segments$[ebp]
	mulss	xmm0, DWORD PTR __real@40490fdb
	cvttss2si eax, xmm0
	mov	DWORD PTR _segments$[ebp], eax

; 958  : 	
; 959  : 	if( segments > NOISE_DIVISIONS * 8 )

	cmp	DWORD PTR _segments$[ebp], 512		; 00000200H
	jle	SHORT $LN6@R_DrawRing

; 960  : 		segments = NOISE_DIVISIONS * 8;

	mov	DWORD PTR _segments$[ebp], 512		; 00000200H
$LN6@R_DrawRing:

; 961  : 
; 962  : 	length = VectorLength( delta ) * 0.01f * M_PI;

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	mov	edx, DWORD PTR _delta$[ebp]
	mov	esi, DWORD PTR _delta$[ebp]
	movss	xmm0, DWORD PTR [edx+ecx]
	mulss	xmm0, DWORD PTR [esi+eax]
	mov	eax, 4
	shl	eax, 0
	mov	ecx, 4
	shl	ecx, 0
	mov	edx, DWORD PTR _delta$[ebp]
	mov	esi, DWORD PTR _delta$[ebp]
	movss	xmm1, DWORD PTR [edx+eax]
	mulss	xmm1, DWORD PTR [esi+ecx]
	addss	xmm0, xmm1
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	mov	edx, DWORD PTR _delta$[ebp]
	mov	esi, DWORD PTR _delta$[ebp]
	movss	xmm1, DWORD PTR [edx+eax]
	mulss	xmm1, DWORD PTR [esi+ecx]
	addss	xmm0, xmm1
	cvtss2sd xmm0, xmm0
	sub	esp, 8
	movsd	QWORD PTR [esp], xmm0
	call	_sqrt
	add	esp, 8
	fstp	QWORD PTR tv738[ebp]
	movsd	xmm0, QWORD PTR tv738[ebp]
	mulsd	xmm0, QWORD PTR __real@3f847ae140000000
	mulsd	xmm0, QWORD PTR __real@400921fb60000000
	cvtsd2ss xmm0, xmm0
	movss	DWORD PTR _length$[ebp], xmm0

; 963  : 	if( length < 0.5f ) length = 0.5f;		// Don't lose all of the noise/texture on short beams

	movss	xmm0, DWORD PTR __real@3f000000
	comiss	xmm0, DWORD PTR _length$[ebp]
	jbe	SHORT $LN7@R_DrawRing
	movss	xmm0, DWORD PTR __real@3f000000
	movss	DWORD PTR _length$[ebp], xmm0
$LN7@R_DrawRing:

; 964  : 		
; 965  : 	div = 1.0f / ( segments - 1 );

	mov	eax, DWORD PTR _segments$[ebp]
	sub	eax, 1
	cvtsi2ss xmm0, eax
	movss	xmm1, DWORD PTR __real@3f800000
	divss	xmm1, xmm0
	movss	DWORD PTR _div$[ebp], xmm1

; 966  : 
; 967  : 	vStep = length * div / 8.0f;			// texture length texels per space pixel

	movss	xmm0, DWORD PTR _length$[ebp]
	mulss	xmm0, DWORD PTR _div$[ebp]
	divss	xmm0, DWORD PTR __real@41000000
	movss	DWORD PTR _vStep$[ebp], xmm0

; 968  : 
; 969  : 	// Scroll speed 3.5 -- initial texture position, scrolls 3.5/sec (1.0 is entire texture)
; 970  : 	vLast = fmod( freq * speed, 1.0f );

	sub	esp, 8
	movsd	xmm0, QWORD PTR __real@3ff0000000000000
	movsd	QWORD PTR [esp], xmm0
	movss	xmm0, DWORD PTR _freq$[ebp]
	mulss	xmm0, DWORD PTR _speed$[ebp]
	cvtss2sd xmm0, xmm0
	sub	esp, 8
	movsd	QWORD PTR [esp], xmm0
	call	_fmod
	add	esp, 16					; 00000010H
	fstp	DWORD PTR _vLast$[ebp]

; 971  : 	scale = amplitude * length / 8.0f;

	movss	xmm0, DWORD PTR _amplitude$[ebp]
	mulss	xmm0, DWORD PTR _length$[ebp]
	divss	xmm0, DWORD PTR __real@41000000
	movss	DWORD PTR _scale$[ebp], xmm0

; 972  : 
; 973  : 	// Iterator to resample noise waveform (it needs to be generated in powers of 2)
; 974  : 	noiseStep = (int)((float)( NOISE_DIVISIONS - 1 ) * div * 65536.0f ) * 8;

	movss	xmm0, DWORD PTR __real@427c0000
	mulss	xmm0, DWORD PTR _div$[ebp]
	mulss	xmm0, DWORD PTR __real@47800000
	cvttss2si eax, xmm0
	shl	eax, 3
	mov	DWORD PTR _noiseStep$[ebp], eax

; 975  : 	noiseIndex = 0;

	mov	DWORD PTR _noiseIndex$[ebp], 0

; 976  : 
; 977  : 	VectorScale( delta, 0.5f, delta );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, DWORD PTR _delta$[ebp]
	movss	xmm0, DWORD PTR [edx+ecx]
	mulss	xmm0, DWORD PTR __real@3f000000
	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, DWORD PTR _delta$[ebp]
	movss	DWORD PTR [edx+ecx], xmm0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, DWORD PTR _delta$[ebp]
	movss	xmm0, DWORD PTR [ecx+eax]
	mulss	xmm0, DWORD PTR __real@3f000000
	mov	edx, 4
	shl	edx, 0
	mov	eax, DWORD PTR _delta$[ebp]
	movss	DWORD PTR [eax+edx], xmm0
	mov	ecx, 4
	shl	ecx, 1
	mov	edx, DWORD PTR _delta$[ebp]
	movss	xmm0, DWORD PTR [edx+ecx]
	mulss	xmm0, DWORD PTR __real@3f000000
	movss	DWORD PTR tv165[ebp], xmm0
	mov	eax, 4
	shl	eax, 1
	mov	ecx, DWORD PTR _delta$[ebp]
	movss	xmm0, DWORD PTR tv165[ebp]
	movss	DWORD PTR [ecx+eax], xmm0

; 978  : 	VectorAdd( source, delta, center );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	mov	edx, DWORD PTR _source$[ebp]
	mov	esi, DWORD PTR _delta$[ebp]
	movss	xmm0, DWORD PTR [edx+ecx]
	addss	xmm0, DWORD PTR [esi+eax]
	mov	eax, 4
	imul	ecx, eax, 0
	movss	DWORD PTR _center$[ebp+ecx], xmm0
	mov	edx, 4
	shl	edx, 0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, DWORD PTR _source$[ebp]
	mov	esi, DWORD PTR _delta$[ebp]
	movss	xmm0, DWORD PTR [ecx+edx]
	addss	xmm0, DWORD PTR [esi+eax]
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _center$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	mov	edx, DWORD PTR _source$[ebp]
	mov	esi, DWORD PTR _delta$[ebp]
	movss	xmm0, DWORD PTR [edx+eax]
	addss	xmm0, DWORD PTR [esi+ecx]
	movss	DWORD PTR tv186[ebp], xmm0
	mov	eax, 4
	shl	eax, 1
	movss	xmm0, DWORD PTR tv186[ebp]
	movss	DWORD PTR _center$[ebp+eax], xmm0

; 979  : 
; 980  : 	VectorCopy( delta, xaxis );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	mov	edx, DWORD PTR _delta$[ebp]
	mov	ecx, DWORD PTR [edx+ecx]
	mov	DWORD PTR _xaxis$[ebp+eax], ecx
	mov	edx, 4
	shl	edx, 0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, DWORD PTR _delta$[ebp]
	mov	edx, DWORD PTR [ecx+edx]
	mov	DWORD PTR _xaxis$[ebp+eax], edx
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	mov	edx, DWORD PTR _delta$[ebp]
	mov	eax, DWORD PTR [edx+eax]
	mov	DWORD PTR _xaxis$[ebp+ecx], eax

; 981  : 	radius = VectorLength( xaxis );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	movss	xmm0, DWORD PTR _xaxis$[ebp+ecx]
	mulss	xmm0, DWORD PTR _xaxis$[ebp+eax]
	mov	ecx, 4
	shl	ecx, 0
	mov	edx, 4
	shl	edx, 0
	movss	xmm1, DWORD PTR _xaxis$[ebp+ecx]
	mulss	xmm1, DWORD PTR _xaxis$[ebp+edx]
	addss	xmm0, xmm1
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	movss	xmm1, DWORD PTR _xaxis$[ebp+eax]
	mulss	xmm1, DWORD PTR _xaxis$[ebp+ecx]
	addss	xmm0, xmm1
	cvtss2sd xmm0, xmm0
	sub	esp, 8
	movsd	QWORD PTR [esp], xmm0
	call	_sqrt
	add	esp, 8
	fstp	DWORD PTR _radius$[ebp]

; 982  : 	
; 983  : 	// cull beamring
; 984  : 	// --------------------------------
; 985  : 	// Compute box center +/- radius
; 986  : 	VectorSet( last1, radius, radius, scale );

	mov	eax, 4
	imul	ecx, eax, 0
	movss	xmm0, DWORD PTR _radius$[ebp]
	movss	DWORD PTR _last1$[ebp+ecx], xmm0
	mov	edx, 4
	shl	edx, 0
	movss	xmm0, DWORD PTR _radius$[ebp]
	movss	DWORD PTR _last1$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	movss	xmm0, DWORD PTR _scale$[ebp]
	movss	DWORD PTR _last1$[ebp+eax], xmm0

; 987  : 	VectorAdd( center, last1, tmp );		// maxs

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	movss	xmm0, DWORD PTR _center$[ebp+ecx]
	addss	xmm0, DWORD PTR _last1$[ebp+eax]
	mov	ecx, 4
	imul	edx, ecx, 0
	movss	DWORD PTR _tmp$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, 4
	shl	ecx, 0
	movss	xmm0, DWORD PTR _center$[ebp+eax]
	addss	xmm0, DWORD PTR _last1$[ebp+ecx]
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _tmp$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	movss	xmm0, DWORD PTR _center$[ebp+eax]
	addss	xmm0, DWORD PTR _last1$[ebp+ecx]
	movss	DWORD PTR tv248[ebp], xmm0
	mov	edx, 4
	shl	edx, 1
	movss	xmm0, DWORD PTR tv248[ebp]
	movss	DWORD PTR _tmp$[ebp+edx], xmm0

; 988  : 	VectorSubtract( center, last1, screen );	// mins

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	movss	xmm0, DWORD PTR _center$[ebp+ecx]
	subss	xmm0, DWORD PTR _last1$[ebp+eax]
	mov	ecx, 4
	imul	edx, ecx, 0
	movss	DWORD PTR _screen$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, 4
	shl	ecx, 0
	movss	xmm0, DWORD PTR _center$[ebp+eax]
	subss	xmm0, DWORD PTR _last1$[ebp+ecx]
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _screen$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	movss	xmm0, DWORD PTR _center$[ebp+eax]
	subss	xmm0, DWORD PTR _last1$[ebp+ecx]
	movss	DWORD PTR tv269[ebp], xmm0
	mov	edx, 4
	shl	edx, 1
	movss	xmm0, DWORD PTR tv269[ebp]
	movss	DWORD PTR _screen$[ebp+edx], xmm0

; 989  : 
; 990  : 	if( !cl.worldmodel )

	cmp	DWORD PTR _cl+4579004, 0
	jne	SHORT $LN8@R_DrawRing

; 991  : 		return;

	jmp	$LN3@R_DrawRing
$LN8@R_DrawRing:

; 992  : 
; 993  : 	// is that box in PVS && frustum?
; 994  : 	if( !Mod_BoxVisible( screen, tmp, Mod_GetCurrentVis( )) || R_CullBox( screen, tmp ))

	call	_Mod_GetCurrentVis
	push	eax
	lea	eax, DWORD PTR _tmp$[ebp]
	push	eax
	lea	ecx, DWORD PTR _screen$[ebp]
	push	ecx
	call	_Mod_BoxVisible
	add	esp, 12					; 0000000cH
	test	eax, eax
	je	SHORT $LN10@R_DrawRing
	lea	eax, DWORD PTR _tmp$[ebp]
	push	eax
	lea	ecx, DWORD PTR _screen$[ebp]
	push	ecx
	call	_R_CullBox
	add	esp, 8
	test	eax, eax
	je	SHORT $LN9@R_DrawRing
$LN10@R_DrawRing:

; 995  : 	{
; 996  : 		return;

	jmp	$LN3@R_DrawRing
$LN9@R_DrawRing:

; 997  : 	}
; 998  : 
; 999  : 	VectorSet( yaxis, xaxis[1], -xaxis[0], 0.0f ); 

	mov	eax, 4
	shl	eax, 0
	movss	xmm0, DWORD PTR _xaxis$[ebp+eax]
	mov	ecx, 4
	imul	edx, ecx, 0
	movss	DWORD PTR _yaxis$[ebp+edx], xmm0
	mov	eax, 4
	imul	ecx, eax, 0
	movss	xmm0, DWORD PTR _xaxis$[ebp+ecx]
	xorps	xmm0, DWORD PTR __xmm@80000000800000008000000080000000
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _yaxis$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	xorps	xmm0, xmm0
	movss	DWORD PTR _yaxis$[ebp+eax], xmm0

; 1000 : 	VectorNormalize( yaxis );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	movss	xmm0, DWORD PTR _yaxis$[ebp+ecx]
	mulss	xmm0, DWORD PTR _yaxis$[ebp+eax]
	mov	ecx, 4
	shl	ecx, 0
	mov	edx, 4
	shl	edx, 0
	movss	xmm1, DWORD PTR _yaxis$[ebp+ecx]
	mulss	xmm1, DWORD PTR _yaxis$[ebp+edx]
	addss	xmm0, xmm1
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	movss	xmm1, DWORD PTR _yaxis$[ebp+eax]
	mulss	xmm1, DWORD PTR _yaxis$[ebp+ecx]
	addss	xmm0, xmm1
	cvtss2sd xmm0, xmm0
	sub	esp, 8
	movsd	QWORD PTR [esp], xmm0
	call	_sqrt
	add	esp, 8
	fstp	DWORD PTR _ilength$2[ebp]
	movss	xmm0, DWORD PTR _ilength$2[ebp]
	ucomiss	xmm0, DWORD PTR __real@00000000
	lahf
	test	ah, 68					; 00000044H
	jnp	SHORT $LN11@R_DrawRing
	movss	xmm0, DWORD PTR __real@3f800000
	divss	xmm0, DWORD PTR _ilength$2[ebp]
	movss	DWORD PTR _ilength$2[ebp], xmm0
$LN11@R_DrawRing:
	mov	eax, 4
	imul	ecx, eax, 0
	movss	xmm0, DWORD PTR _yaxis$[ebp+ecx]
	mulss	xmm0, DWORD PTR _ilength$2[ebp]
	mov	edx, 4
	imul	eax, edx, 0
	movss	DWORD PTR _yaxis$[ebp+eax], xmm0
	mov	eax, 4
	shl	eax, 0
	movss	xmm0, DWORD PTR _yaxis$[ebp+eax]
	mulss	xmm0, DWORD PTR _ilength$2[ebp]
	mov	ecx, 4
	shl	ecx, 0
	movss	DWORD PTR _yaxis$[ebp+ecx], xmm0
	mov	eax, 4
	shl	eax, 1
	movss	xmm0, DWORD PTR _yaxis$[ebp+eax]
	mulss	xmm0, DWORD PTR _ilength$2[ebp]
	mov	ecx, 4
	shl	ecx, 1
	movss	DWORD PTR _yaxis$[ebp+ecx], xmm0

; 1001 : 	VectorScale( yaxis, radius, yaxis );

	mov	eax, 4
	imul	ecx, eax, 0
	movss	xmm0, DWORD PTR _yaxis$[ebp+ecx]
	mulss	xmm0, DWORD PTR _radius$[ebp]
	mov	edx, 4
	imul	eax, edx, 0
	movss	DWORD PTR _yaxis$[ebp+eax], xmm0
	mov	ecx, 4
	shl	ecx, 0
	movss	xmm0, DWORD PTR _yaxis$[ebp+ecx]
	mulss	xmm0, DWORD PTR _radius$[ebp]
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _yaxis$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	movss	xmm0, DWORD PTR _yaxis$[ebp+eax]
	mulss	xmm0, DWORD PTR _radius$[ebp]
	movss	DWORD PTR tv347[ebp], xmm0
	mov	ecx, 4
	shl	ecx, 1
	movss	xmm0, DWORD PTR tv347[ebp]
	movss	DWORD PTR _yaxis$[ebp+ecx], xmm0

; 1002 : 
; 1003 : 	j = segments / 8;

	mov	eax, DWORD PTR _segments$[ebp]
	cdq
	and	edx, 7
	add	eax, edx
	sar	eax, 3
	mov	DWORD PTR _j$[ebp], eax

; 1004 : 
; 1005 : 	for( i = 0; i < segments + 1; i++ )

	mov	DWORD PTR _i$[ebp], 0
	jmp	SHORT $LN4@R_DrawRing
$LN2@R_DrawRing:
	mov	eax, DWORD PTR _i$[ebp]
	add	eax, 1
	mov	DWORD PTR _i$[ebp], eax
$LN4@R_DrawRing:
	mov	eax, DWORD PTR _segments$[ebp]
	add	eax, 1
	cmp	DWORD PTR _i$[ebp], eax
	jge	$LN3@R_DrawRing

; 1006 : 	{
; 1007 : 		fraction = i * div;

	cvtsi2ss xmm0, DWORD PTR _i$[ebp]
	mulss	xmm0, DWORD PTR _div$[ebp]
	movss	DWORD PTR _fraction$[ebp], xmm0

; 1008 : 		SinCos( fraction * M_PI2, &x, &y );

	lea	eax, DWORD PTR _y$[ebp]
	push	eax
	lea	ecx, DWORD PTR _x$[ebp]
	push	ecx
	movss	xmm0, DWORD PTR _fraction$[ebp]
	mulss	xmm0, DWORD PTR __real@40c90fdb
	push	ecx
	movss	DWORD PTR [esp], xmm0
	call	_SinCos
	add	esp, 12					; 0000000cH

; 1009 : 
; 1010 : 		VectorMAMAM( x, xaxis, y, yaxis, 1.0f, center, point ); 

	mov	eax, 4
	imul	ecx, eax, 0
	movss	xmm0, DWORD PTR _x$[ebp]
	mulss	xmm0, DWORD PTR _xaxis$[ebp+ecx]
	mov	edx, 4
	imul	eax, edx, 0
	movss	xmm1, DWORD PTR _y$[ebp]
	mulss	xmm1, DWORD PTR _yaxis$[ebp+eax]
	addss	xmm0, xmm1
	mov	ecx, 4
	imul	edx, ecx, 0
	movss	xmm1, DWORD PTR __real@3f800000
	mulss	xmm1, DWORD PTR _center$[ebp+edx]
	addss	xmm0, xmm1
	mov	eax, 4
	imul	ecx, eax, 0
	movss	DWORD PTR _point$[ebp+ecx], xmm0
	mov	edx, 4
	shl	edx, 0
	movss	xmm0, DWORD PTR _x$[ebp]
	mulss	xmm0, DWORD PTR _xaxis$[ebp+edx]
	mov	eax, 4
	shl	eax, 0
	movss	xmm1, DWORD PTR _y$[ebp]
	mulss	xmm1, DWORD PTR _yaxis$[ebp+eax]
	addss	xmm0, xmm1
	mov	ecx, 4
	shl	ecx, 0
	movss	xmm1, DWORD PTR __real@3f800000
	mulss	xmm1, DWORD PTR _center$[ebp+ecx]
	addss	xmm0, xmm1
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _point$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	movss	xmm0, DWORD PTR _x$[ebp]
	mulss	xmm0, DWORD PTR _xaxis$[ebp+eax]
	mov	ecx, 4
	shl	ecx, 1
	movss	xmm1, DWORD PTR _y$[ebp]
	mulss	xmm1, DWORD PTR _yaxis$[ebp+ecx]
	addss	xmm0, xmm1
	mov	edx, 4
	shl	edx, 1
	movss	xmm1, DWORD PTR __real@3f800000
	mulss	xmm1, DWORD PTR _center$[ebp+edx]
	addss	xmm0, xmm1
	movss	DWORD PTR tv396[ebp], xmm0
	mov	eax, 4
	shl	eax, 1
	movss	xmm0, DWORD PTR tv396[ebp]
	movss	DWORD PTR _point$[ebp+eax], xmm0

; 1011 : 
; 1012 : 		// distort using noise
; 1013 : 		factor = rgNoise[(noiseIndex >> 16) & (NOISE_DIVISIONS - 1)] * scale;

	mov	eax, DWORD PTR _noiseIndex$[ebp]
	sar	eax, 16					; 00000010H
	and	eax, 63					; 0000003fH
	movss	xmm0, DWORD PTR _rgNoise[eax*4]
	mulss	xmm0, DWORD PTR _scale$[ebp]
	movss	DWORD PTR _factor$[ebp], xmm0

; 1014 : 		VectorMA( point, factor, RI.vup, point );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	movss	xmm0, DWORD PTR _factor$[ebp]
	mulss	xmm0, DWORD PTR _RI[eax+248]
	addss	xmm0, DWORD PTR _point$[ebp+ecx]
	mov	ecx, 4
	imul	edx, ecx, 0
	movss	DWORD PTR _point$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, 4
	shl	ecx, 0
	movss	xmm0, DWORD PTR _factor$[ebp]
	mulss	xmm0, DWORD PTR _RI[ecx+248]
	addss	xmm0, DWORD PTR _point$[ebp+eax]
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _point$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	movss	xmm0, DWORD PTR _factor$[ebp]
	mulss	xmm0, DWORD PTR _RI[ecx+248]
	movss	xmm1, DWORD PTR _point$[ebp+eax]
	addss	xmm1, xmm0
	movss	DWORD PTR tv425[ebp], xmm1
	mov	edx, 4
	shl	edx, 1
	movss	xmm0, DWORD PTR tv425[ebp]
	movss	DWORD PTR _point$[ebp+edx], xmm0

; 1015 : 
; 1016 : 		// Rotate the noise along the perpendicluar axis a bit to keep the bolt from looking diagonal
; 1017 : 		factor = rgNoise[(noiseIndex >> 16) & (NOISE_DIVISIONS - 1)] * scale;

	mov	eax, DWORD PTR _noiseIndex$[ebp]
	sar	eax, 16					; 00000010H
	and	eax, 63					; 0000003fH
	movss	xmm0, DWORD PTR _rgNoise[eax*4]
	mulss	xmm0, DWORD PTR _scale$[ebp]
	movss	DWORD PTR _factor$[ebp], xmm0

; 1018 : 		factor *= cos( fraction * M_PI * 24 + freq );

	movss	xmm0, DWORD PTR _fraction$[ebp]
	mulss	xmm0, DWORD PTR __real@40490fdb
	mulss	xmm0, DWORD PTR __real@41c00000
	addss	xmm0, DWORD PTR _freq$[ebp]
	cvtss2sd xmm0, xmm0
	sub	esp, 8
	movsd	QWORD PTR [esp], xmm0
	call	_cos
	add	esp, 8
	fstp	QWORD PTR tv970[ebp]
	cvtss2sd xmm0, DWORD PTR _factor$[ebp]
	mulsd	xmm0, QWORD PTR tv970[ebp]
	cvtsd2ss xmm0, xmm0
	movss	DWORD PTR _factor$[ebp], xmm0

; 1019 : 		VectorMA( point, factor, RI.vright, point );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	movss	xmm0, DWORD PTR _factor$[ebp]
	mulss	xmm0, DWORD PTR _RI[eax+236]
	addss	xmm0, DWORD PTR _point$[ebp+ecx]
	mov	ecx, 4
	imul	edx, ecx, 0
	movss	DWORD PTR _point$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, 4
	shl	ecx, 0
	movss	xmm0, DWORD PTR _factor$[ebp]
	mulss	xmm0, DWORD PTR _RI[ecx+236]
	addss	xmm0, DWORD PTR _point$[ebp+eax]
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _point$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	movss	xmm0, DWORD PTR _factor$[ebp]
	mulss	xmm0, DWORD PTR _RI[ecx+236]
	movss	xmm1, DWORD PTR _point$[ebp+eax]
	addss	xmm1, xmm0
	movss	DWORD PTR tv463[ebp], xmm1
	mov	edx, 4
	shl	edx, 1
	movss	xmm0, DWORD PTR tv463[ebp]
	movss	DWORD PTR _point$[ebp+edx], xmm0

; 1020 : 		
; 1021 : 		// Transform point into screen space
; 1022 : 		TriWorldToScreen( point, screen );

	lea	eax, DWORD PTR _screen$[ebp]
	push	eax
	lea	ecx, DWORD PTR _point$[ebp]
	push	ecx
	call	_TriWorldToScreen
	add	esp, 8

; 1023 : 
; 1024 : 		if( i != 0 )

	cmp	DWORD PTR _i$[ebp], 0
	je	$LN12@R_DrawRing

; 1025 : 		{
; 1026 : 			// build world-space normal to screen-space direction vector
; 1027 : 			VectorSubtract( screen, screenLast, tmp );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	movss	xmm0, DWORD PTR _screen$[ebp+ecx]
	subss	xmm0, DWORD PTR _screenLast$[ebp+eax]
	mov	ecx, 4
	imul	edx, ecx, 0
	movss	DWORD PTR _tmp$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, 4
	shl	ecx, 0
	movss	xmm0, DWORD PTR _screen$[ebp+eax]
	subss	xmm0, DWORD PTR _screenLast$[ebp+ecx]
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _tmp$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	movss	xmm0, DWORD PTR _screen$[ebp+eax]
	subss	xmm0, DWORD PTR _screenLast$[ebp+ecx]
	movss	DWORD PTR tv487[ebp], xmm0
	mov	edx, 4
	shl	edx, 1
	movss	xmm0, DWORD PTR tv487[ebp]
	movss	DWORD PTR _tmp$[ebp+edx], xmm0

; 1028 : 
; 1029 : 			// we don't need Z, we're in screen space
; 1030 : 			tmp[2] = 0;

	mov	eax, 4
	shl	eax, 1
	xorps	xmm0, xmm0
	movss	DWORD PTR _tmp$[ebp+eax], xmm0

; 1031 : 			VectorNormalize( tmp );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	movss	xmm0, DWORD PTR _tmp$[ebp+ecx]
	mulss	xmm0, DWORD PTR _tmp$[ebp+eax]
	mov	ecx, 4
	shl	ecx, 0
	mov	edx, 4
	shl	edx, 0
	movss	xmm1, DWORD PTR _tmp$[ebp+ecx]
	mulss	xmm1, DWORD PTR _tmp$[ebp+edx]
	addss	xmm0, xmm1
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	movss	xmm1, DWORD PTR _tmp$[ebp+eax]
	mulss	xmm1, DWORD PTR _tmp$[ebp+ecx]
	addss	xmm0, xmm1
	cvtss2sd xmm0, xmm0
	sub	esp, 8
	movsd	QWORD PTR [esp], xmm0
	call	_sqrt
	add	esp, 8
	fstp	DWORD PTR _ilength$1[ebp]
	movss	xmm0, DWORD PTR _ilength$1[ebp]
	ucomiss	xmm0, DWORD PTR __real@00000000
	lahf
	test	ah, 68					; 00000044H
	jnp	SHORT $LN13@R_DrawRing
	movss	xmm0, DWORD PTR __real@3f800000
	divss	xmm0, DWORD PTR _ilength$1[ebp]
	movss	DWORD PTR _ilength$1[ebp], xmm0
$LN13@R_DrawRing:
	mov	eax, 4
	imul	ecx, eax, 0
	movss	xmm0, DWORD PTR _tmp$[ebp+ecx]
	mulss	xmm0, DWORD PTR _ilength$1[ebp]
	mov	edx, 4
	imul	eax, edx, 0
	movss	DWORD PTR _tmp$[ebp+eax], xmm0
	mov	eax, 4
	shl	eax, 0
	movss	xmm0, DWORD PTR _tmp$[ebp+eax]
	mulss	xmm0, DWORD PTR _ilength$1[ebp]
	mov	ecx, 4
	shl	ecx, 0
	movss	DWORD PTR _tmp$[ebp+ecx], xmm0
	mov	eax, 4
	shl	eax, 1
	movss	xmm0, DWORD PTR _tmp$[ebp+eax]
	mulss	xmm0, DWORD PTR _ilength$1[ebp]
	mov	ecx, 4
	shl	ecx, 1
	movss	DWORD PTR _tmp$[ebp+ecx], xmm0

; 1032 : 
; 1033 : 			// Build point along normal line (normal is -y, x)
; 1034 : 			VectorScale( RI.vup, tmp[0], normal );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	movss	xmm0, DWORD PTR _tmp$[ebp+eax]
	mulss	xmm0, DWORD PTR _RI[ecx+248]
	mov	ecx, 4
	imul	edx, ecx, 0
	movss	DWORD PTR _normal$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, 4
	imul	edx, ecx, 0
	movss	xmm0, DWORD PTR _tmp$[ebp+edx]
	mulss	xmm0, DWORD PTR _RI[eax+248]
	mov	eax, 4
	shl	eax, 0
	movss	DWORD PTR _normal$[ebp+eax], xmm0
	mov	ecx, 4
	shl	ecx, 1
	mov	edx, 4
	imul	eax, edx, 0
	movss	xmm0, DWORD PTR _RI[ecx+248]
	mulss	xmm0, DWORD PTR _tmp$[ebp+eax]
	movss	DWORD PTR tv584[ebp], xmm0
	mov	ecx, 4
	shl	ecx, 1
	movss	xmm0, DWORD PTR tv584[ebp]
	movss	DWORD PTR _normal$[ebp+ecx], xmm0

; 1035 : 			VectorMA( normal, tmp[1], RI.vright, normal );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	shl	edx, 0
	movss	xmm0, DWORD PTR _tmp$[ebp+edx]
	mov	eax, 4
	imul	edx, eax, 0
	mulss	xmm0, DWORD PTR _RI[edx+236]
	addss	xmm0, DWORD PTR _normal$[ebp+ecx]
	mov	eax, 4
	imul	ecx, eax, 0
	movss	DWORD PTR _normal$[ebp+ecx], xmm0
	mov	edx, 4
	shl	edx, 0
	mov	eax, 4
	shl	eax, 0
	movss	xmm0, DWORD PTR _tmp$[ebp+eax]
	mov	ecx, 4
	shl	ecx, 0
	mulss	xmm0, DWORD PTR _RI[ecx+236]
	addss	xmm0, DWORD PTR _normal$[ebp+edx]
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _normal$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 0
	movss	xmm0, DWORD PTR _tmp$[ebp+ecx]
	mov	edx, 4
	shl	edx, 1
	mulss	xmm0, DWORD PTR _RI[edx+236]
	movss	xmm1, DWORD PTR _normal$[ebp+eax]
	addss	xmm1, xmm0
	movss	DWORD PTR tv617[ebp], xmm1
	mov	eax, 4
	shl	eax, 1
	movss	xmm0, DWORD PTR tv617[ebp]
	movss	DWORD PTR _normal$[ebp+eax], xmm0

; 1036 : 			
; 1037 : 			// Make a wide line
; 1038 : 			VectorMA( point, width, normal, last1 );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	movss	xmm0, DWORD PTR _width$[ebp]
	mulss	xmm0, DWORD PTR _normal$[ebp+eax]
	addss	xmm0, DWORD PTR _point$[ebp+ecx]
	mov	ecx, 4
	imul	edx, ecx, 0
	movss	DWORD PTR _last1$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, 4
	shl	ecx, 0
	movss	xmm0, DWORD PTR _width$[ebp]
	mulss	xmm0, DWORD PTR _normal$[ebp+ecx]
	addss	xmm0, DWORD PTR _point$[ebp+eax]
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _last1$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	movss	xmm0, DWORD PTR _width$[ebp]
	mulss	xmm0, DWORD PTR _normal$[ebp+ecx]
	movss	xmm1, DWORD PTR _point$[ebp+eax]
	addss	xmm1, xmm0
	movss	DWORD PTR tv641[ebp], xmm1
	mov	edx, 4
	shl	edx, 1
	movss	xmm0, DWORD PTR tv641[ebp]
	movss	DWORD PTR _last1$[ebp+edx], xmm0

; 1039 : 			VectorMA( point, -width, normal, last2 );

	mov	eax, 4
	imul	ecx, eax, 0
	movss	xmm0, DWORD PTR _width$[ebp]
	xorps	xmm0, DWORD PTR __xmm@80000000800000008000000080000000
	mov	edx, 4
	imul	eax, edx, 0
	mulss	xmm0, DWORD PTR _normal$[ebp+eax]
	addss	xmm0, DWORD PTR _point$[ebp+ecx]
	mov	ecx, 4
	imul	edx, ecx, 0
	movss	DWORD PTR _last2$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 0
	movss	xmm0, DWORD PTR _width$[ebp]
	xorps	xmm0, DWORD PTR __xmm@80000000800000008000000080000000
	mov	ecx, 4
	shl	ecx, 0
	mulss	xmm0, DWORD PTR _normal$[ebp+ecx]
	addss	xmm0, DWORD PTR _point$[ebp+eax]
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _last2$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	movss	xmm0, DWORD PTR _width$[ebp]
	xorps	xmm0, DWORD PTR __xmm@80000000800000008000000080000000
	mov	ecx, 4
	shl	ecx, 1
	mulss	xmm0, DWORD PTR _normal$[ebp+ecx]
	movss	xmm1, DWORD PTR _point$[ebp+eax]
	addss	xmm1, xmm0
	movss	DWORD PTR tv671[ebp], xmm1
	mov	edx, 4
	shl	edx, 1
	movss	xmm0, DWORD PTR tv671[ebp]
	movss	DWORD PTR _last2$[ebp+edx], xmm0

; 1040 : 
; 1041 : 			vLast += vStep;	// Advance texture scroll (v axis only)

	movss	xmm0, DWORD PTR _vLast$[ebp]
	addss	xmm0, DWORD PTR _vStep$[ebp]
	movss	DWORD PTR _vLast$[ebp], xmm0

; 1042 : 			TriTexCoord2f( 1.0f, vLast );

	push	ecx
	movss	xmm0, DWORD PTR _vLast$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR __real@3f800000
	movss	DWORD PTR [esp], xmm0
	call	_TriTexCoord2f
	add	esp, 8

; 1043 : 			TriVertex3fv( last2 );

	lea	eax, DWORD PTR _last2$[ebp]
	push	eax
	call	_TriVertex3fv
	add	esp, 4

; 1044 : 			TriTexCoord2f( 0.0f, vLast );

	push	ecx
	movss	xmm0, DWORD PTR _vLast$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	xorps	xmm0, xmm0
	movss	DWORD PTR [esp], xmm0
	call	_TriTexCoord2f
	add	esp, 8

; 1045 : 			TriVertex3fv( last1 );

	lea	eax, DWORD PTR _last1$[ebp]
	push	eax
	call	_TriVertex3fv
	add	esp, 4
$LN12@R_DrawRing:

; 1046 : 		}
; 1047 : 
; 1048 : 		VectorCopy( screen, screenLast );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	mov	ecx, DWORD PTR _screen$[ebp+ecx]
	mov	DWORD PTR _screenLast$[ebp+eax], ecx
	mov	edx, 4
	shl	edx, 0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, DWORD PTR _screen$[ebp+edx]
	mov	DWORD PTR _screenLast$[ebp+eax], ecx
	mov	edx, 4
	shl	edx, 1
	mov	eax, 4
	shl	eax, 1
	mov	ecx, DWORD PTR _screen$[ebp+edx]
	mov	DWORD PTR _screenLast$[ebp+eax], ecx

; 1049 : 		noiseIndex += noiseStep;

	mov	eax, DWORD PTR _noiseIndex$[ebp]
	add	eax, DWORD PTR _noiseStep$[ebp]
	mov	DWORD PTR _noiseIndex$[ebp], eax

; 1050 : 		j--;

	mov	eax, DWORD PTR _j$[ebp]
	sub	eax, 1
	mov	DWORD PTR _j$[ebp], eax

; 1051 : 
; 1052 : 		if( j == 0 && amplitude != 0 )

	jne	SHORT $LN14@R_DrawRing
	movss	xmm0, DWORD PTR _amplitude$[ebp]
	ucomiss	xmm0, DWORD PTR __real@00000000
	lahf
	test	ah, 68					; 00000044H
	jnp	SHORT $LN14@R_DrawRing

; 1053 : 		{
; 1054 : 			j = segments / 8;

	mov	eax, DWORD PTR _segments$[ebp]
	cdq
	and	edx, 7
	add	eax, edx
	sar	eax, 3
	mov	DWORD PTR _j$[ebp], eax

; 1055 : 			FracNoise( rgNoise, NOISE_DIVISIONS );

	push	64					; 00000040H
	push	OFFSET _rgNoise
	call	_FracNoise
	add	esp, 8
$LN14@R_DrawRing:

; 1056 : 		}
; 1057 : 	}

	jmp	$LN2@R_DrawRing
$LN3@R_DrawRing:

; 1058 : }

	pop	edi
	pop	esi
	pop	ebx
	mov	ecx, DWORD PTR __$ArrayPad$[ebp]
	xor	ecx, ebp
	call	@__security_check_cookie@4
	mov	esp, ebp
	pop	ebp
	ret	0
_R_DrawRing ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File D:\DevDragon\XashFE\dev\src\engine\client\gl_beams.c
;	COMDAT _R_DrawBeamFollow
_TEXT	SEGMENT
tv701 = -188						; size = 4
tv635 = -188						; size = 4
tv599 = -188						; size = 4
tv566 = -188						; size = 4
tv533 = -188						; size = 4
tv468 = -188						; size = 4
tv424 = -188						; size = 4
tv391 = -188						; size = 4
tv361 = -188						; size = 4
tv328 = -188						; size = 4
tv263 = -188						; size = 4
tv129 = -188						; size = 4
_ilength$1 = -120					; size = 4
_ilength$2 = -116					; size = 4
_normal$ = -112						; size = 12
_screenLast$ = -100					; size = 12
_delta$ = -88						; size = 12
_screen$ = -76						; size = 12
_tmp$ = -64						; size = 12
_last2$ = -52						; size = 12
_last1$ = -40						; size = 12
_vStep$ = -28						; size = 4
_vLast$ = -24						; size = 4
_div$ = -20						; size = 4
_fraction$ = -16					; size = 4
_particles$ = -12					; size = 4
_pnew$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_pbeam$ = 8						; size = 4
_frametime$ = 12					; size = 4
_R_DrawBeamFollow PROC					; COMDAT

; 793  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 188				; 000000bcH
	mov	eax, DWORD PTR ___security_cookie
	xor	eax, ebp
	mov	DWORD PTR __$ArrayPad$[ebp], eax
	push	ebx
	push	esi
	push	edi

; 794  : 	particle_t	*pnew, *particles;
; 795  : 	float		fraction, div, vLast, vStep;
; 796  : 	vec3_t		last1, last2, tmp, screen;
; 797  : 	vec3_t		delta, screenLast, normal;
; 798  : 
; 799  : 	R_FreeDeadParticles( &pbeam->particles );

	mov	eax, DWORD PTR _pbeam$[ebp]
	add	eax, 120				; 00000078H
	push	eax
	call	_R_FreeDeadParticles
	add	esp, 4

; 800  : 
; 801  : 	particles = pbeam->particles;

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+120]
	mov	DWORD PTR _particles$[ebp], ecx

; 802  : 	pnew = NULL;

	mov	DWORD PTR _pnew$[ebp], 0

; 803  : 
; 804  : 	div = 0;

	xorps	xmm0, xmm0
	movss	DWORD PTR _div$[ebp], xmm0

; 805  : 	if( FBitSet( pbeam->flags, FBEAM_STARTENTITY ))

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+8]
	and	ecx, 1
	je	$LN10@R_DrawBeam

; 806  : 	{
; 807  : 		if( particles )

	cmp	DWORD PTR _particles$[ebp], 0
	je	$LN7@R_DrawBeam

; 808  : 		{
; 809  : 			VectorSubtract( particles->org, pbeam->source, delta );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	mov	edx, DWORD PTR _particles$[ebp]
	mov	esi, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR [edx+ecx]
	subss	xmm0, DWORD PTR [esi+eax+12]
	mov	eax, 4
	imul	ecx, eax, 0
	movss	DWORD PTR _delta$[ebp+ecx], xmm0
	mov	edx, 4
	shl	edx, 0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, DWORD PTR _particles$[ebp]
	mov	esi, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR [ecx+edx]
	subss	xmm0, DWORD PTR [esi+eax+12]
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _delta$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	mov	edx, DWORD PTR _particles$[ebp]
	mov	esi, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR [edx+eax]
	subss	xmm0, DWORD PTR [esi+ecx+12]
	movss	DWORD PTR tv129[ebp], xmm0
	mov	eax, 4
	shl	eax, 1
	movss	xmm0, DWORD PTR tv129[ebp]
	movss	DWORD PTR _delta$[ebp+eax], xmm0

; 810  : 			div = VectorLength( delta );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	movss	xmm0, DWORD PTR _delta$[ebp+ecx]
	mulss	xmm0, DWORD PTR _delta$[ebp+eax]
	mov	ecx, 4
	shl	ecx, 0
	mov	edx, 4
	shl	edx, 0
	movss	xmm1, DWORD PTR _delta$[ebp+ecx]
	mulss	xmm1, DWORD PTR _delta$[ebp+edx]
	addss	xmm0, xmm1
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	movss	xmm1, DWORD PTR _delta$[ebp+eax]
	mulss	xmm1, DWORD PTR _delta$[ebp+ecx]
	addss	xmm0, xmm1
	cvtss2sd xmm0, xmm0
	sub	esp, 8
	movsd	QWORD PTR [esp], xmm0
	call	_sqrt
	add	esp, 8
	fstp	DWORD PTR _div$[ebp]

; 811  : 
; 812  : 			if( div >= 32 && cl_free_particles )

	movss	xmm0, DWORD PTR _div$[ebp]
	comiss	xmm0, DWORD PTR __real@42000000
	jb	SHORT $LN9@R_DrawBeam
	cmp	DWORD PTR _cl_free_particles, 0
	je	SHORT $LN9@R_DrawBeam

; 813  : 			{
; 814  : 				pnew = cl_free_particles;

	mov	eax, DWORD PTR _cl_free_particles
	mov	DWORD PTR _pnew$[ebp], eax

; 815  : 				cl_free_particles = pnew->next;

	mov	eax, DWORD PTR _pnew$[ebp]
	mov	ecx, DWORD PTR [eax+16]
	mov	DWORD PTR _cl_free_particles, ecx
$LN9@R_DrawBeam:

; 816  : 			}
; 817  : 		}

	jmp	SHORT $LN10@R_DrawBeam
$LN7@R_DrawBeam:

; 818  : 		else if( cl_free_particles )

	cmp	DWORD PTR _cl_free_particles, 0
	je	SHORT $LN10@R_DrawBeam

; 819  : 		{
; 820  : 			pnew = cl_free_particles;

	mov	eax, DWORD PTR _cl_free_particles
	mov	DWORD PTR _pnew$[ebp], eax

; 821  : 			cl_free_particles = pnew->next;

	mov	eax, DWORD PTR _pnew$[ebp]
	mov	ecx, DWORD PTR [eax+16]
	mov	DWORD PTR _cl_free_particles, ecx

; 822  : 			div = 0;

	xorps	xmm0, xmm0
	movss	DWORD PTR _div$[ebp], xmm0
$LN10@R_DrawBeam:

; 823  : 		}
; 824  : 	}
; 825  : 
; 826  : 	if( pnew )

	cmp	DWORD PTR _pnew$[ebp], 0
	je	$LN11@R_DrawBeam

; 827  : 	{
; 828  : 		VectorCopy( pbeam->source, pnew->org );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	mov	edx, DWORD PTR _pnew$[ebp]
	mov	esi, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [esi+ecx+12]
	mov	DWORD PTR [edx+eax], ecx
	mov	edx, 4
	shl	edx, 0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, DWORD PTR _pnew$[ebp]
	mov	esi, DWORD PTR _pbeam$[ebp]
	mov	edx, DWORD PTR [esi+edx+12]
	mov	DWORD PTR [ecx+eax], edx
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	mov	edx, DWORD PTR _pnew$[ebp]
	mov	esi, DWORD PTR _pbeam$[ebp]
	mov	eax, DWORD PTR [esi+eax+12]
	mov	DWORD PTR [edx+ecx], eax

; 829  : 		pnew->die = cl.time + pbeam->amplitude;

	mov	eax, DWORD PTR _pbeam$[ebp]
	cvtss2sd xmm0, DWORD PTR [eax+64]
	addsd	xmm0, QWORD PTR _cl+2167640
	cvtsd2ss xmm0, xmm0
	mov	ecx, DWORD PTR _pnew$[ebp]
	movss	DWORD PTR [ecx+36], xmm0

; 830  : 		VectorClear( pnew->vel );

	mov	eax, 4
	shl	eax, 1
	mov	ecx, DWORD PTR _pnew$[ebp]
	xorps	xmm0, xmm0
	movss	DWORD PTR [ecx+eax+20], xmm0
	mov	edx, 4
	shl	edx, 0
	mov	eax, DWORD PTR _pnew$[ebp]
	xorps	xmm0, xmm0
	movss	DWORD PTR [eax+edx+20], xmm0
	mov	ecx, 4
	imul	edx, ecx, 0
	mov	eax, DWORD PTR _pnew$[ebp]
	xorps	xmm0, xmm0
	movss	DWORD PTR [eax+edx+20], xmm0

; 831  : 
; 832  : 		pnew->next = particles;

	mov	eax, DWORD PTR _pnew$[ebp]
	mov	ecx, DWORD PTR _particles$[ebp]
	mov	DWORD PTR [eax+16], ecx

; 833  : 		pbeam->particles = pnew;

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR _pnew$[ebp]
	mov	DWORD PTR [eax+120], ecx

; 834  : 		particles = pnew;

	mov	eax, DWORD PTR _pnew$[ebp]
	mov	DWORD PTR _particles$[ebp], eax
$LN11@R_DrawBeam:

; 835  : 	}
; 836  : 
; 837  : 	// nothing to draw
; 838  : 	if( !particles ) return;

	cmp	DWORD PTR _particles$[ebp], 0
	jne	SHORT $LN12@R_DrawBeam
	jmp	$LN5@R_DrawBeam
$LN12@R_DrawBeam:

; 839  : 
; 840  : 	if( !pnew && div != 0 )

	cmp	DWORD PTR _pnew$[ebp], 0
	jne	$LN13@R_DrawBeam
	movss	xmm0, DWORD PTR _div$[ebp]
	ucomiss	xmm0, DWORD PTR __real@00000000
	lahf
	test	ah, 68					; 00000044H
	jnp	SHORT $LN13@R_DrawBeam

; 841  : 	{
; 842  : 		VectorCopy( pbeam->source, delta );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [edx+ecx+12]
	mov	DWORD PTR _delta$[ebp+eax], ecx
	mov	edx, 4
	shl	edx, 0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, DWORD PTR _pbeam$[ebp]
	mov	edx, DWORD PTR [ecx+edx+12]
	mov	DWORD PTR _delta$[ebp+eax], edx
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	eax, DWORD PTR [edx+eax+12]
	mov	DWORD PTR _delta$[ebp+ecx], eax

; 843  : 		TriWorldToScreen( pbeam->source, screenLast );

	lea	eax, DWORD PTR _screenLast$[ebp]
	push	eax
	mov	ecx, DWORD PTR _pbeam$[ebp]
	add	ecx, 12					; 0000000cH
	push	ecx
	call	_TriWorldToScreen
	add	esp, 8

; 844  : 		TriWorldToScreen( particles->org, screen );

	lea	eax, DWORD PTR _screen$[ebp]
	push	eax
	mov	ecx, DWORD PTR _particles$[ebp]
	push	ecx
	call	_TriWorldToScreen
	add	esp, 8

; 845  : 	}

	jmp	$LN16@R_DrawBeam
$LN13@R_DrawBeam:

; 846  : 	else if( particles && particles->next )

	cmp	DWORD PTR _particles$[ebp], 0
	je	$LN15@R_DrawBeam
	mov	eax, DWORD PTR _particles$[ebp]
	cmp	DWORD PTR [eax+16], 0
	je	SHORT $LN15@R_DrawBeam

; 847  : 	{
; 848  : 		VectorCopy( particles->org, delta );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	mov	edx, DWORD PTR _particles$[ebp]
	mov	ecx, DWORD PTR [edx+ecx]
	mov	DWORD PTR _delta$[ebp+eax], ecx
	mov	edx, 4
	shl	edx, 0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, DWORD PTR _particles$[ebp]
	mov	edx, DWORD PTR [ecx+edx]
	mov	DWORD PTR _delta$[ebp+eax], edx
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	mov	edx, DWORD PTR _particles$[ebp]
	mov	eax, DWORD PTR [edx+eax]
	mov	DWORD PTR _delta$[ebp+ecx], eax

; 849  : 		TriWorldToScreen( particles->org, screenLast );

	lea	eax, DWORD PTR _screenLast$[ebp]
	push	eax
	mov	ecx, DWORD PTR _particles$[ebp]
	push	ecx
	call	_TriWorldToScreen
	add	esp, 8

; 850  : 		TriWorldToScreen( particles->next->org, screen );

	lea	eax, DWORD PTR _screen$[ebp]
	push	eax
	mov	ecx, DWORD PTR _particles$[ebp]
	mov	edx, DWORD PTR [ecx+16]
	push	edx
	call	_TriWorldToScreen
	add	esp, 8

; 851  : 		particles = particles->next;

	mov	eax, DWORD PTR _particles$[ebp]
	mov	ecx, DWORD PTR [eax+16]
	mov	DWORD PTR _particles$[ebp], ecx

; 852  : 	}

	jmp	SHORT $LN16@R_DrawBeam
$LN15@R_DrawBeam:

; 853  : 	else
; 854  : 	{
; 855  : 		return;

	jmp	$LN5@R_DrawBeam
$LN16@R_DrawBeam:

; 856  : 	}
; 857  : 
; 858  : 	// UNDONE: This won't work, screen and screenLast must be extrapolated here to fix the
; 859  : 	// first beam segment for this trail
; 860  : 
; 861  : 	// build world-space normal to screen-space direction vector
; 862  : 	VectorSubtract( screen, screenLast, tmp );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	movss	xmm0, DWORD PTR _screen$[ebp+ecx]
	subss	xmm0, DWORD PTR _screenLast$[ebp+eax]
	mov	ecx, 4
	imul	edx, ecx, 0
	movss	DWORD PTR _tmp$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, 4
	shl	ecx, 0
	movss	xmm0, DWORD PTR _screen$[ebp+eax]
	subss	xmm0, DWORD PTR _screenLast$[ebp+ecx]
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _tmp$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	movss	xmm0, DWORD PTR _screen$[ebp+eax]
	subss	xmm0, DWORD PTR _screenLast$[ebp+ecx]
	movss	DWORD PTR tv263[ebp], xmm0
	mov	edx, 4
	shl	edx, 1
	movss	xmm0, DWORD PTR tv263[ebp]
	movss	DWORD PTR _tmp$[ebp+edx], xmm0

; 863  : 	// we don't need Z, we're in screen space
; 864  : 	tmp[2] = 0;

	mov	eax, 4
	shl	eax, 1
	xorps	xmm0, xmm0
	movss	DWORD PTR _tmp$[ebp+eax], xmm0

; 865  : 	VectorNormalize( tmp );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	movss	xmm0, DWORD PTR _tmp$[ebp+ecx]
	mulss	xmm0, DWORD PTR _tmp$[ebp+eax]
	mov	ecx, 4
	shl	ecx, 0
	mov	edx, 4
	shl	edx, 0
	movss	xmm1, DWORD PTR _tmp$[ebp+ecx]
	mulss	xmm1, DWORD PTR _tmp$[ebp+edx]
	addss	xmm0, xmm1
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	movss	xmm1, DWORD PTR _tmp$[ebp+eax]
	mulss	xmm1, DWORD PTR _tmp$[ebp+ecx]
	addss	xmm0, xmm1
	cvtss2sd xmm0, xmm0
	sub	esp, 8
	movsd	QWORD PTR [esp], xmm0
	call	_sqrt
	add	esp, 8
	fstp	DWORD PTR _ilength$2[ebp]
	movss	xmm0, DWORD PTR _ilength$2[ebp]
	ucomiss	xmm0, DWORD PTR __real@00000000
	lahf
	test	ah, 68					; 00000044H
	jnp	SHORT $LN17@R_DrawBeam
	movss	xmm0, DWORD PTR __real@3f800000
	divss	xmm0, DWORD PTR _ilength$2[ebp]
	movss	DWORD PTR _ilength$2[ebp], xmm0
$LN17@R_DrawBeam:
	mov	eax, 4
	imul	ecx, eax, 0
	movss	xmm0, DWORD PTR _tmp$[ebp+ecx]
	mulss	xmm0, DWORD PTR _ilength$2[ebp]
	mov	edx, 4
	imul	eax, edx, 0
	movss	DWORD PTR _tmp$[ebp+eax], xmm0
	mov	eax, 4
	shl	eax, 0
	movss	xmm0, DWORD PTR _tmp$[ebp+eax]
	mulss	xmm0, DWORD PTR _ilength$2[ebp]
	mov	ecx, 4
	shl	ecx, 0
	movss	DWORD PTR _tmp$[ebp+ecx], xmm0
	mov	eax, 4
	shl	eax, 1
	movss	xmm0, DWORD PTR _tmp$[ebp+eax]
	mulss	xmm0, DWORD PTR _ilength$2[ebp]
	mov	ecx, 4
	shl	ecx, 1
	movss	DWORD PTR _tmp$[ebp+ecx], xmm0

; 866  : 
; 867  : 	// Build point along noraml line (normal is -y, x)
; 868  : 	VectorScale( RI.vup, tmp[0], normal );	// Build point along normal line (normal is -y, x)

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	movss	xmm0, DWORD PTR _tmp$[ebp+eax]
	mulss	xmm0, DWORD PTR _RI[ecx+248]
	mov	ecx, 4
	imul	edx, ecx, 0
	movss	DWORD PTR _normal$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, 4
	imul	edx, ecx, 0
	movss	xmm0, DWORD PTR _tmp$[ebp+edx]
	mulss	xmm0, DWORD PTR _RI[eax+248]
	mov	eax, 4
	shl	eax, 0
	movss	DWORD PTR _normal$[ebp+eax], xmm0
	mov	ecx, 4
	shl	ecx, 1
	mov	edx, 4
	imul	eax, edx, 0
	movss	xmm0, DWORD PTR _RI[ecx+248]
	mulss	xmm0, DWORD PTR _tmp$[ebp+eax]
	movss	DWORD PTR tv328[ebp], xmm0
	mov	ecx, 4
	shl	ecx, 1
	movss	xmm0, DWORD PTR tv328[ebp]
	movss	DWORD PTR _normal$[ebp+ecx], xmm0

; 869  : 	VectorMA( normal, tmp[1], RI.vright, normal );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	shl	edx, 0
	movss	xmm0, DWORD PTR _tmp$[ebp+edx]
	mov	eax, 4
	imul	edx, eax, 0
	mulss	xmm0, DWORD PTR _RI[edx+236]
	addss	xmm0, DWORD PTR _normal$[ebp+ecx]
	mov	eax, 4
	imul	ecx, eax, 0
	movss	DWORD PTR _normal$[ebp+ecx], xmm0
	mov	edx, 4
	shl	edx, 0
	mov	eax, 4
	shl	eax, 0
	movss	xmm0, DWORD PTR _tmp$[ebp+eax]
	mov	ecx, 4
	shl	ecx, 0
	mulss	xmm0, DWORD PTR _RI[ecx+236]
	addss	xmm0, DWORD PTR _normal$[ebp+edx]
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _normal$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 0
	movss	xmm0, DWORD PTR _tmp$[ebp+ecx]
	mov	edx, 4
	shl	edx, 1
	mulss	xmm0, DWORD PTR _RI[edx+236]
	movss	xmm1, DWORD PTR _normal$[ebp+eax]
	addss	xmm1, xmm0
	movss	DWORD PTR tv361[ebp], xmm1
	mov	eax, 4
	shl	eax, 1
	movss	xmm0, DWORD PTR tv361[ebp]
	movss	DWORD PTR _normal$[ebp+eax], xmm0

; 870  : 	
; 871  : 	// Make a wide line
; 872  : 	VectorMA( delta, pbeam->width, normal, last1 );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR [edx+60]
	mov	eax, 4
	imul	edx, eax, 0
	mulss	xmm0, DWORD PTR _normal$[ebp+edx]
	addss	xmm0, DWORD PTR _delta$[ebp+ecx]
	mov	eax, 4
	imul	ecx, eax, 0
	movss	DWORD PTR _last1$[ebp+ecx], xmm0
	mov	edx, 4
	shl	edx, 0
	mov	eax, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR [eax+60]
	mov	ecx, 4
	shl	ecx, 0
	mulss	xmm0, DWORD PTR _normal$[ebp+ecx]
	addss	xmm0, DWORD PTR _delta$[ebp+edx]
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _last1$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	mov	ecx, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR [ecx+60]
	mov	edx, 4
	shl	edx, 1
	mulss	xmm0, DWORD PTR _normal$[ebp+edx]
	movss	xmm1, DWORD PTR _delta$[ebp+eax]
	addss	xmm1, xmm0
	movss	DWORD PTR tv391[ebp], xmm1
	mov	eax, 4
	shl	eax, 1
	movss	xmm0, DWORD PTR tv391[ebp]
	movss	DWORD PTR _last1$[ebp+eax], xmm0

; 873  : 	VectorMA( delta, -pbeam->width, normal, last2 );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR [edx+60]
	xorps	xmm0, DWORD PTR __xmm@80000000800000008000000080000000
	mov	eax, 4
	imul	edx, eax, 0
	mulss	xmm0, DWORD PTR _normal$[ebp+edx]
	addss	xmm0, DWORD PTR _delta$[ebp+ecx]
	mov	eax, 4
	imul	ecx, eax, 0
	movss	DWORD PTR _last2$[ebp+ecx], xmm0
	mov	edx, 4
	shl	edx, 0
	mov	eax, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR [eax+60]
	xorps	xmm0, DWORD PTR __xmm@80000000800000008000000080000000
	mov	ecx, 4
	shl	ecx, 0
	mulss	xmm0, DWORD PTR _normal$[ebp+ecx]
	addss	xmm0, DWORD PTR _delta$[ebp+edx]
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _last2$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	mov	ecx, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR [ecx+60]
	xorps	xmm0, DWORD PTR __xmm@80000000800000008000000080000000
	mov	edx, 4
	shl	edx, 1
	mulss	xmm0, DWORD PTR _normal$[ebp+edx]
	movss	xmm1, DWORD PTR _delta$[ebp+eax]
	addss	xmm1, xmm0
	movss	DWORD PTR tv424[ebp], xmm1
	mov	eax, 4
	shl	eax, 1
	movss	xmm0, DWORD PTR tv424[ebp]
	movss	DWORD PTR _last2$[ebp+eax], xmm0

; 874  : 
; 875  : 	div = 1.0 / pbeam->amplitude;

	mov	eax, DWORD PTR _pbeam$[ebp]
	cvtss2sd xmm0, DWORD PTR [eax+64]
	movsd	xmm1, QWORD PTR __real@3ff0000000000000
	divsd	xmm1, xmm0
	cvtsd2ss xmm0, xmm1
	movss	DWORD PTR _div$[ebp], xmm0

; 876  : 	fraction = ( pbeam->die - cl.time ) * div;

	mov	eax, DWORD PTR _pbeam$[ebp]
	cvtss2sd xmm0, DWORD PTR [eax+56]
	subsd	xmm0, QWORD PTR _cl+2167640
	cvtss2sd xmm1, DWORD PTR _div$[ebp]
	mulsd	xmm0, xmm1
	cvtsd2ss xmm0, xmm0
	movss	DWORD PTR _fraction$[ebp], xmm0

; 877  : 
; 878  : 	vLast = 0.0;

	xorps	xmm0, xmm0
	movss	DWORD PTR _vLast$[ebp], xmm0

; 879  : 	vStep = 1.0;

	movss	xmm0, DWORD PTR __real@3f800000
	movss	DWORD PTR _vStep$[ebp], xmm0
$LN2@R_DrawBeam:

; 880  : 
; 881  : 	while( particles )

	cmp	DWORD PTR _particles$[ebp], 0
	je	$LN3@R_DrawBeam

; 882  : 	{
; 883  : 		TriBrightness( fraction );

	push	ecx
	movss	xmm0, DWORD PTR _fraction$[ebp]
	movss	DWORD PTR [esp], xmm0
	call	_TriBrightness
	add	esp, 4

; 884  : 		TriTexCoord2f( 1, 1 );

	push	ecx
	movss	xmm0, DWORD PTR __real@3f800000
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR __real@3f800000
	movss	DWORD PTR [esp], xmm0
	call	_TriTexCoord2f
	add	esp, 8

; 885  : 		TriVertex3fv( last2 );

	lea	eax, DWORD PTR _last2$[ebp]
	push	eax
	call	_TriVertex3fv
	add	esp, 4

; 886  : 		TriBrightness( fraction );

	push	ecx
	movss	xmm0, DWORD PTR _fraction$[ebp]
	movss	DWORD PTR [esp], xmm0
	call	_TriBrightness
	add	esp, 4

; 887  : 		TriTexCoord2f( 0, 1 );

	push	ecx
	movss	xmm0, DWORD PTR __real@3f800000
	movss	DWORD PTR [esp], xmm0
	push	ecx
	xorps	xmm0, xmm0
	movss	DWORD PTR [esp], xmm0
	call	_TriTexCoord2f
	add	esp, 8

; 888  : 		TriVertex3fv( last1 );

	lea	eax, DWORD PTR _last1$[ebp]
	push	eax
	call	_TriVertex3fv
	add	esp, 4

; 889  : 
; 890  : 		// Transform point into screen space
; 891  : 		TriWorldToScreen( particles->org, screen );

	lea	eax, DWORD PTR _screen$[ebp]
	push	eax
	mov	ecx, DWORD PTR _particles$[ebp]
	push	ecx
	call	_TriWorldToScreen
	add	esp, 8

; 892  : 		// Build world-space normal to screen-space direction vector
; 893  : 		VectorSubtract( screen, screenLast, tmp );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	movss	xmm0, DWORD PTR _screen$[ebp+ecx]
	subss	xmm0, DWORD PTR _screenLast$[ebp+eax]
	mov	ecx, 4
	imul	edx, ecx, 0
	movss	DWORD PTR _tmp$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, 4
	shl	ecx, 0
	movss	xmm0, DWORD PTR _screen$[ebp+eax]
	subss	xmm0, DWORD PTR _screenLast$[ebp+ecx]
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _tmp$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	movss	xmm0, DWORD PTR _screen$[ebp+eax]
	subss	xmm0, DWORD PTR _screenLast$[ebp+ecx]
	movss	DWORD PTR tv468[ebp], xmm0
	mov	edx, 4
	shl	edx, 1
	movss	xmm0, DWORD PTR tv468[ebp]
	movss	DWORD PTR _tmp$[ebp+edx], xmm0

; 894  : 
; 895  : 		// we don't need Z, we're in screen space
; 896  : 		tmp[2] = 0;

	mov	eax, 4
	shl	eax, 1
	xorps	xmm0, xmm0
	movss	DWORD PTR _tmp$[ebp+eax], xmm0

; 897  : 		VectorNormalize( tmp );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	movss	xmm0, DWORD PTR _tmp$[ebp+ecx]
	mulss	xmm0, DWORD PTR _tmp$[ebp+eax]
	mov	ecx, 4
	shl	ecx, 0
	mov	edx, 4
	shl	edx, 0
	movss	xmm1, DWORD PTR _tmp$[ebp+ecx]
	mulss	xmm1, DWORD PTR _tmp$[ebp+edx]
	addss	xmm0, xmm1
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	movss	xmm1, DWORD PTR _tmp$[ebp+eax]
	mulss	xmm1, DWORD PTR _tmp$[ebp+ecx]
	addss	xmm0, xmm1
	cvtss2sd xmm0, xmm0
	sub	esp, 8
	movsd	QWORD PTR [esp], xmm0
	call	_sqrt
	add	esp, 8
	fstp	DWORD PTR _ilength$1[ebp]
	movss	xmm0, DWORD PTR _ilength$1[ebp]
	ucomiss	xmm0, DWORD PTR __real@00000000
	lahf
	test	ah, 68					; 00000044H
	jnp	SHORT $LN18@R_DrawBeam
	movss	xmm0, DWORD PTR __real@3f800000
	divss	xmm0, DWORD PTR _ilength$1[ebp]
	movss	DWORD PTR _ilength$1[ebp], xmm0
$LN18@R_DrawBeam:
	mov	eax, 4
	imul	ecx, eax, 0
	movss	xmm0, DWORD PTR _tmp$[ebp+ecx]
	mulss	xmm0, DWORD PTR _ilength$1[ebp]
	mov	edx, 4
	imul	eax, edx, 0
	movss	DWORD PTR _tmp$[ebp+eax], xmm0
	mov	eax, 4
	shl	eax, 0
	movss	xmm0, DWORD PTR _tmp$[ebp+eax]
	mulss	xmm0, DWORD PTR _ilength$1[ebp]
	mov	ecx, 4
	shl	ecx, 0
	movss	DWORD PTR _tmp$[ebp+ecx], xmm0
	mov	eax, 4
	shl	eax, 1
	movss	xmm0, DWORD PTR _tmp$[ebp+eax]
	mulss	xmm0, DWORD PTR _ilength$1[ebp]
	mov	ecx, 4
	shl	ecx, 1
	movss	DWORD PTR _tmp$[ebp+ecx], xmm0

; 898  : 		VectorScale( RI.vup, tmp[0], normal );	// Build point along noraml line (normal is -y, x)

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	movss	xmm0, DWORD PTR _tmp$[ebp+eax]
	mulss	xmm0, DWORD PTR _RI[ecx+248]
	mov	ecx, 4
	imul	edx, ecx, 0
	movss	DWORD PTR _normal$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, 4
	imul	edx, ecx, 0
	movss	xmm0, DWORD PTR _tmp$[ebp+edx]
	mulss	xmm0, DWORD PTR _RI[eax+248]
	mov	eax, 4
	shl	eax, 0
	movss	DWORD PTR _normal$[ebp+eax], xmm0
	mov	ecx, 4
	shl	ecx, 1
	mov	edx, 4
	imul	eax, edx, 0
	movss	xmm0, DWORD PTR _RI[ecx+248]
	mulss	xmm0, DWORD PTR _tmp$[ebp+eax]
	movss	DWORD PTR tv533[ebp], xmm0
	mov	ecx, 4
	shl	ecx, 1
	movss	xmm0, DWORD PTR tv533[ebp]
	movss	DWORD PTR _normal$[ebp+ecx], xmm0

; 899  : 		VectorMA( normal, tmp[1], RI.vright, normal );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	shl	edx, 0
	movss	xmm0, DWORD PTR _tmp$[ebp+edx]
	mov	eax, 4
	imul	edx, eax, 0
	mulss	xmm0, DWORD PTR _RI[edx+236]
	addss	xmm0, DWORD PTR _normal$[ebp+ecx]
	mov	eax, 4
	imul	ecx, eax, 0
	movss	DWORD PTR _normal$[ebp+ecx], xmm0
	mov	edx, 4
	shl	edx, 0
	mov	eax, 4
	shl	eax, 0
	movss	xmm0, DWORD PTR _tmp$[ebp+eax]
	mov	ecx, 4
	shl	ecx, 0
	mulss	xmm0, DWORD PTR _RI[ecx+236]
	addss	xmm0, DWORD PTR _normal$[ebp+edx]
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _normal$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 0
	movss	xmm0, DWORD PTR _tmp$[ebp+ecx]
	mov	edx, 4
	shl	edx, 1
	mulss	xmm0, DWORD PTR _RI[edx+236]
	movss	xmm1, DWORD PTR _normal$[ebp+eax]
	addss	xmm1, xmm0
	movss	DWORD PTR tv566[ebp], xmm1
	mov	eax, 4
	shl	eax, 1
	movss	xmm0, DWORD PTR tv566[ebp]
	movss	DWORD PTR _normal$[ebp+eax], xmm0

; 900  : 
; 901  : 		// Make a wide line
; 902  : 		VectorMA( particles->org, pbeam->width, normal, last1 );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR [edx+60]
	mov	eax, 4
	imul	edx, eax, 0
	mulss	xmm0, DWORD PTR _normal$[ebp+edx]
	mov	eax, DWORD PTR _particles$[ebp]
	addss	xmm0, DWORD PTR [eax+ecx]
	mov	ecx, 4
	imul	edx, ecx, 0
	movss	DWORD PTR _last1$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR [ecx+60]
	mov	edx, 4
	shl	edx, 0
	mulss	xmm0, DWORD PTR _normal$[ebp+edx]
	mov	ecx, DWORD PTR _particles$[ebp]
	addss	xmm0, DWORD PTR [ecx+eax]
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _last1$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	mov	ecx, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR [ecx+60]
	mov	edx, 4
	shl	edx, 1
	mulss	xmm0, DWORD PTR _normal$[ebp+edx]
	mov	ecx, DWORD PTR _particles$[ebp]
	movss	xmm1, DWORD PTR [ecx+eax]
	addss	xmm1, xmm0
	movss	DWORD PTR tv599[ebp], xmm1
	mov	edx, 4
	shl	edx, 1
	movss	xmm0, DWORD PTR tv599[ebp]
	movss	DWORD PTR _last1$[ebp+edx], xmm0

; 903  : 		VectorMA( particles->org, -pbeam->width, normal, last2 );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR [edx+60]
	xorps	xmm0, DWORD PTR __xmm@80000000800000008000000080000000
	mov	eax, 4
	imul	edx, eax, 0
	mulss	xmm0, DWORD PTR _normal$[ebp+edx]
	mov	eax, DWORD PTR _particles$[ebp]
	addss	xmm0, DWORD PTR [eax+ecx]
	mov	ecx, 4
	imul	edx, ecx, 0
	movss	DWORD PTR _last2$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR [ecx+60]
	xorps	xmm0, DWORD PTR __xmm@80000000800000008000000080000000
	mov	edx, 4
	shl	edx, 0
	mulss	xmm0, DWORD PTR _normal$[ebp+edx]
	mov	ecx, DWORD PTR _particles$[ebp]
	addss	xmm0, DWORD PTR [ecx+eax]
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _last2$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	mov	ecx, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR [ecx+60]
	xorps	xmm0, DWORD PTR __xmm@80000000800000008000000080000000
	mov	edx, 4
	shl	edx, 1
	mulss	xmm0, DWORD PTR _normal$[ebp+edx]
	mov	ecx, DWORD PTR _particles$[ebp]
	movss	xmm1, DWORD PTR [ecx+eax]
	addss	xmm1, xmm0
	movss	DWORD PTR tv635[ebp], xmm1
	mov	edx, 4
	shl	edx, 1
	movss	xmm0, DWORD PTR tv635[ebp]
	movss	DWORD PTR _last2$[ebp+edx], xmm0

; 904  : 		
; 905  : 		vLast += vStep;	// Advance texture scroll (v axis only)

	movss	xmm0, DWORD PTR _vLast$[ebp]
	addss	xmm0, DWORD PTR _vStep$[ebp]
	movss	DWORD PTR _vLast$[ebp], xmm0

; 906  : 
; 907  : 		if( particles->next != NULL )

	mov	eax, DWORD PTR _particles$[ebp]
	cmp	DWORD PTR [eax+16], 0
	je	SHORT $LN19@R_DrawBeam

; 908  : 		{
; 909  : 			fraction = (particles->die - cl.time) * div;

	mov	eax, DWORD PTR _particles$[ebp]
	cvtss2sd xmm0, DWORD PTR [eax+36]
	subsd	xmm0, QWORD PTR _cl+2167640
	cvtss2sd xmm1, DWORD PTR _div$[ebp]
	mulsd	xmm0, xmm1
	cvtsd2ss xmm0, xmm0
	movss	DWORD PTR _fraction$[ebp], xmm0

; 910  : 		}

	jmp	SHORT $LN20@R_DrawBeam
$LN19@R_DrawBeam:

; 911  : 		else
; 912  : 		{
; 913  : 			fraction = 0.0;

	xorps	xmm0, xmm0
	movss	DWORD PTR _fraction$[ebp], xmm0
$LN20@R_DrawBeam:

; 914  : 		}
; 915  : 
; 916  : 		TriBrightness( fraction );

	push	ecx
	movss	xmm0, DWORD PTR _fraction$[ebp]
	movss	DWORD PTR [esp], xmm0
	call	_TriBrightness
	add	esp, 4

; 917  : 		TriTexCoord2f( 0, 0 );

	push	ecx
	xorps	xmm0, xmm0
	movss	DWORD PTR [esp], xmm0
	push	ecx
	xorps	xmm0, xmm0
	movss	DWORD PTR [esp], xmm0
	call	_TriTexCoord2f
	add	esp, 8

; 918  : 		TriVertex3fv( last1 );

	lea	eax, DWORD PTR _last1$[ebp]
	push	eax
	call	_TriVertex3fv
	add	esp, 4

; 919  : 		TriBrightness( fraction );

	push	ecx
	movss	xmm0, DWORD PTR _fraction$[ebp]
	movss	DWORD PTR [esp], xmm0
	call	_TriBrightness
	add	esp, 4

; 920  : 		TriTexCoord2f( 1, 0 );

	push	ecx
	xorps	xmm0, xmm0
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR __real@3f800000
	movss	DWORD PTR [esp], xmm0
	call	_TriTexCoord2f
	add	esp, 8

; 921  : 		TriVertex3fv( last2 );

	lea	eax, DWORD PTR _last2$[ebp]
	push	eax
	call	_TriVertex3fv
	add	esp, 4

; 922  : 
; 923  : 		VectorCopy( screen, screenLast );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	mov	ecx, DWORD PTR _screen$[ebp+ecx]
	mov	DWORD PTR _screenLast$[ebp+eax], ecx
	mov	edx, 4
	shl	edx, 0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, DWORD PTR _screen$[ebp+edx]
	mov	DWORD PTR _screenLast$[ebp+eax], ecx
	mov	edx, 4
	shl	edx, 1
	mov	eax, 4
	shl	eax, 1
	mov	ecx, DWORD PTR _screen$[ebp+edx]
	mov	DWORD PTR _screenLast$[ebp+eax], ecx

; 924  : 
; 925  : 		particles = particles->next;

	mov	eax, DWORD PTR _particles$[ebp]
	mov	ecx, DWORD PTR [eax+16]
	mov	DWORD PTR _particles$[ebp], ecx

; 926  : 	}

	jmp	$LN2@R_DrawBeam
$LN3@R_DrawBeam:

; 927  : 
; 928  : 	// drift popcorn trail if there is a velocity
; 929  : 	particles = pbeam->particles;

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+120]
	mov	DWORD PTR _particles$[ebp], ecx
$LN4@R_DrawBeam:

; 930  : 
; 931  : 	while( particles )

	cmp	DWORD PTR _particles$[ebp], 0
	je	$LN5@R_DrawBeam

; 932  : 	{
; 933  : 		VectorMA( particles->org, frametime, particles->vel, particles->org );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	mov	edx, DWORD PTR _particles$[ebp]
	movss	xmm0, DWORD PTR _frametime$[ebp]
	mulss	xmm0, DWORD PTR [edx+eax+20]
	mov	eax, DWORD PTR _particles$[ebp]
	addss	xmm0, DWORD PTR [eax+ecx]
	mov	ecx, 4
	imul	edx, ecx, 0
	mov	eax, DWORD PTR _particles$[ebp]
	movss	DWORD PTR [eax+edx], xmm0
	mov	ecx, 4
	shl	ecx, 0
	mov	edx, 4
	shl	edx, 0
	mov	eax, DWORD PTR _particles$[ebp]
	movss	xmm0, DWORD PTR _frametime$[ebp]
	mulss	xmm0, DWORD PTR [eax+edx+20]
	mov	edx, DWORD PTR _particles$[ebp]
	addss	xmm0, DWORD PTR [edx+ecx]
	mov	eax, 4
	shl	eax, 0
	mov	ecx, DWORD PTR _particles$[ebp]
	movss	DWORD PTR [ecx+eax], xmm0
	mov	edx, 4
	shl	edx, 1
	mov	eax, 4
	shl	eax, 1
	mov	ecx, DWORD PTR _particles$[ebp]
	movss	xmm0, DWORD PTR _frametime$[ebp]
	mulss	xmm0, DWORD PTR [ecx+eax+20]
	mov	eax, DWORD PTR _particles$[ebp]
	movss	xmm1, DWORD PTR [eax+edx]
	addss	xmm1, xmm0
	movss	DWORD PTR tv701[ebp], xmm1
	mov	ecx, 4
	shl	ecx, 1
	mov	edx, DWORD PTR _particles$[ebp]
	movss	xmm0, DWORD PTR tv701[ebp]
	movss	DWORD PTR [edx+ecx], xmm0

; 934  : 		particles = particles->next;

	mov	eax, DWORD PTR _particles$[ebp]
	mov	ecx, DWORD PTR [eax+16]
	mov	DWORD PTR _particles$[ebp], ecx

; 935  : 	}

	jmp	$LN4@R_DrawBeam
$LN5@R_DrawBeam:

; 936  : }

	pop	edi
	pop	esi
	pop	ebx
	mov	ecx, DWORD PTR __$ArrayPad$[ebp]
	xor	ecx, ebp
	call	@__security_check_cookie@4
	mov	esp, ebp
	pop	ebp
	ret	0
_R_DrawBeamFollow ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File D:\DevDragon\XashFE\dev\src\engine\client\gl_beams.c
;	COMDAT _R_DrawCylinder
_TEXT	SEGMENT
tv221 = -120						; size = 8
_c$1 = -48						; size = 4
_s$2 = -44						; size = 4
_i$ = -40						; size = 4
_point$ = -36						; size = 12
_vStep$ = -24						; size = 4
_vLast$ = -20						; size = 4
_fraction$ = -16					; size = 4
_length$ = -12						; size = 4
_div$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_source$ = 8						; size = 4
_delta$ = 12						; size = 4
_width$ = 16						; size = 4
_scale$ = 20						; size = 4
_freq$ = 24						; size = 4
_speed$ = 28						; size = 4
_segments$ = 32						; size = 4
_R_DrawCylinder PROC					; COMDAT

; 736  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 120				; 00000078H
	mov	eax, DWORD PTR ___security_cookie
	xor	eax, ebp
	mov	DWORD PTR __$ArrayPad$[ebp], eax
	push	ebx
	push	esi
	push	edi

; 737  : 	float	div, length, fraction;
; 738  : 	float	vLast, vStep;
; 739  : 	vec3_t	point;
; 740  : 	int	i;
; 741  : 
; 742  : 	if( segments < 2 )

	cmp	DWORD PTR _segments$[ebp], 2
	jge	SHORT $LN5@R_DrawCyli

; 743  : 		return;

	jmp	$LN3@R_DrawCyli
$LN5@R_DrawCyli:

; 744  : 
; 745  : 	if( segments > NOISE_DIVISIONS )

	cmp	DWORD PTR _segments$[ebp], 64		; 00000040H
	jle	SHORT $LN6@R_DrawCyli

; 746  : 		segments = NOISE_DIVISIONS;

	mov	DWORD PTR _segments$[ebp], 64		; 00000040H
$LN6@R_DrawCyli:

; 747  : 
; 748  : 	length = VectorLength( delta ) * 0.01f;

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	mov	edx, DWORD PTR _delta$[ebp]
	mov	esi, DWORD PTR _delta$[ebp]
	movss	xmm0, DWORD PTR [edx+ecx]
	mulss	xmm0, DWORD PTR [esi+eax]
	mov	eax, 4
	shl	eax, 0
	mov	ecx, 4
	shl	ecx, 0
	mov	edx, DWORD PTR _delta$[ebp]
	mov	esi, DWORD PTR _delta$[ebp]
	movss	xmm1, DWORD PTR [edx+eax]
	mulss	xmm1, DWORD PTR [esi+ecx]
	addss	xmm0, xmm1
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	mov	edx, DWORD PTR _delta$[ebp]
	mov	esi, DWORD PTR _delta$[ebp]
	movss	xmm1, DWORD PTR [edx+eax]
	mulss	xmm1, DWORD PTR [esi+ecx]
	addss	xmm0, xmm1
	cvtss2sd xmm0, xmm0
	sub	esp, 8
	movsd	QWORD PTR [esp], xmm0
	call	_sqrt
	add	esp, 8
	fstp	QWORD PTR tv221[ebp]
	movsd	xmm0, QWORD PTR tv221[ebp]
	mulsd	xmm0, QWORD PTR __real@3f847ae140000000
	cvtsd2ss xmm0, xmm0
	movss	DWORD PTR _length$[ebp], xmm0

; 749  : 	if( length < 0.5f ) length = 0.5f;	// don't lose all of the noise/texture on short beams

	movss	xmm0, DWORD PTR __real@3f000000
	comiss	xmm0, DWORD PTR _length$[ebp]
	jbe	SHORT $LN7@R_DrawCyli
	movss	xmm0, DWORD PTR __real@3f000000
	movss	DWORD PTR _length$[ebp], xmm0
$LN7@R_DrawCyli:

; 750  : 		
; 751  : 	div = 1.0f / (segments - 1);

	mov	eax, DWORD PTR _segments$[ebp]
	sub	eax, 1
	cvtsi2ss xmm0, eax
	movss	xmm1, DWORD PTR __real@3f800000
	divss	xmm1, xmm0
	movss	DWORD PTR _div$[ebp], xmm1

; 752  : 	vStep = length * div;		// texture length texels per space pixel

	movss	xmm0, DWORD PTR _length$[ebp]
	mulss	xmm0, DWORD PTR _div$[ebp]
	movss	DWORD PTR _vStep$[ebp], xmm0

; 753  : 	
; 754  : 	// Scroll speed 3.5 -- initial texture position, scrolls 3.5/sec (1.0 is entire texture)
; 755  : 	vLast = fmod( freq * speed, 1 );

	sub	esp, 8
	movsd	xmm0, QWORD PTR __real@3ff0000000000000
	movsd	QWORD PTR [esp], xmm0
	movss	xmm0, DWORD PTR _freq$[ebp]
	mulss	xmm0, DWORD PTR _speed$[ebp]
	cvtss2sd xmm0, xmm0
	sub	esp, 8
	movsd	QWORD PTR [esp], xmm0
	call	_fmod
	add	esp, 16					; 00000010H
	fstp	DWORD PTR _vLast$[ebp]

; 756  : 	scale = scale * length;

	movss	xmm0, DWORD PTR _scale$[ebp]
	mulss	xmm0, DWORD PTR _length$[ebp]
	movss	DWORD PTR _scale$[ebp], xmm0

; 757  : 	
; 758  : 	for ( i = 0; i < segments; i++ )

	mov	DWORD PTR _i$[ebp], 0
	jmp	SHORT $LN4@R_DrawCyli
$LN2@R_DrawCyli:
	mov	eax, DWORD PTR _i$[ebp]
	add	eax, 1
	mov	DWORD PTR _i$[ebp], eax
$LN4@R_DrawCyli:
	mov	eax, DWORD PTR _i$[ebp]
	cmp	eax, DWORD PTR _segments$[ebp]
	jge	$LN3@R_DrawCyli

; 759  : 	{
; 760  : 		float	s, c;
; 761  : 
; 762  : 		fraction = i * div;

	cvtsi2ss xmm0, DWORD PTR _i$[ebp]
	mulss	xmm0, DWORD PTR _div$[ebp]
	movss	DWORD PTR _fraction$[ebp], xmm0

; 763  : 		SinCos( fraction * M_PI2, &s, &c );

	lea	eax, DWORD PTR _c$1[ebp]
	push	eax
	lea	ecx, DWORD PTR _s$2[ebp]
	push	ecx
	movss	xmm0, DWORD PTR _fraction$[ebp]
	mulss	xmm0, DWORD PTR __real@40c90fdb
	push	ecx
	movss	DWORD PTR [esp], xmm0
	call	_SinCos
	add	esp, 12					; 0000000cH

; 764  : 
; 765  : 		point[0] = s * freq * delta[2] + source[0];

	movss	xmm0, DWORD PTR _s$2[ebp]
	mulss	xmm0, DWORD PTR _freq$[ebp]
	mov	eax, 4
	shl	eax, 1
	mov	ecx, DWORD PTR _delta$[ebp]
	mulss	xmm0, DWORD PTR [ecx+eax]
	mov	edx, 4
	imul	eax, edx, 0
	mov	ecx, DWORD PTR _source$[ebp]
	addss	xmm0, DWORD PTR [ecx+eax]
	mov	edx, 4
	imul	eax, edx, 0
	movss	DWORD PTR _point$[ebp+eax], xmm0

; 766  : 		point[1] = c * freq * delta[2] + source[1];

	movss	xmm0, DWORD PTR _c$1[ebp]
	mulss	xmm0, DWORD PTR _freq$[ebp]
	mov	eax, 4
	shl	eax, 1
	mov	ecx, DWORD PTR _delta$[ebp]
	mulss	xmm0, DWORD PTR [ecx+eax]
	mov	edx, 4
	shl	edx, 0
	mov	eax, DWORD PTR _source$[ebp]
	addss	xmm0, DWORD PTR [eax+edx]
	mov	ecx, 4
	shl	ecx, 0
	movss	DWORD PTR _point$[ebp+ecx], xmm0

; 767  : 		point[2] = source[2] + width;

	mov	eax, 4
	shl	eax, 1
	mov	ecx, DWORD PTR _source$[ebp]
	movss	xmm0, DWORD PTR [ecx+eax]
	addss	xmm0, DWORD PTR _width$[ebp]
	mov	edx, 4
	shl	edx, 1
	movss	DWORD PTR _point$[ebp+edx], xmm0

; 768  : 
; 769  : 		TriBrightness( 0 );

	push	ecx
	xorps	xmm0, xmm0
	movss	DWORD PTR [esp], xmm0
	call	_TriBrightness
	add	esp, 4

; 770  : 		TriTexCoord2f( 1, vLast );

	push	ecx
	movss	xmm0, DWORD PTR _vLast$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR __real@3f800000
	movss	DWORD PTR [esp], xmm0
	call	_TriTexCoord2f
	add	esp, 8

; 771  : 		TriVertex3fv( point );

	lea	eax, DWORD PTR _point$[ebp]
	push	eax
	call	_TriVertex3fv
	add	esp, 4

; 772  : 
; 773  : 		point[0] = s * freq * ( delta[2] + width ) + source[0];

	movss	xmm0, DWORD PTR _s$2[ebp]
	mulss	xmm0, DWORD PTR _freq$[ebp]
	mov	eax, 4
	shl	eax, 1
	mov	ecx, DWORD PTR _delta$[ebp]
	movss	xmm1, DWORD PTR [ecx+eax]
	addss	xmm1, DWORD PTR _width$[ebp]
	mulss	xmm0, xmm1
	mov	edx, 4
	imul	eax, edx, 0
	mov	ecx, DWORD PTR _source$[ebp]
	addss	xmm0, DWORD PTR [ecx+eax]
	mov	edx, 4
	imul	eax, edx, 0
	movss	DWORD PTR _point$[ebp+eax], xmm0

; 774  : 		point[1] = c * freq * ( delta[2] + width ) + source[1];

	movss	xmm0, DWORD PTR _c$1[ebp]
	mulss	xmm0, DWORD PTR _freq$[ebp]
	mov	eax, 4
	shl	eax, 1
	mov	ecx, DWORD PTR _delta$[ebp]
	movss	xmm1, DWORD PTR [ecx+eax]
	addss	xmm1, DWORD PTR _width$[ebp]
	mulss	xmm0, xmm1
	mov	edx, 4
	shl	edx, 0
	mov	eax, DWORD PTR _source$[ebp]
	addss	xmm0, DWORD PTR [eax+edx]
	mov	ecx, 4
	shl	ecx, 0
	movss	DWORD PTR _point$[ebp+ecx], xmm0

; 775  : 		point[2] = source[2] - width;

	mov	eax, 4
	shl	eax, 1
	mov	ecx, DWORD PTR _source$[ebp]
	movss	xmm0, DWORD PTR [ecx+eax]
	subss	xmm0, DWORD PTR _width$[ebp]
	mov	edx, 4
	shl	edx, 1
	movss	DWORD PTR _point$[ebp+edx], xmm0

; 776  : 
; 777  : 		TriBrightness( 1 );

	push	ecx
	movss	xmm0, DWORD PTR __real@3f800000
	movss	DWORD PTR [esp], xmm0
	call	_TriBrightness
	add	esp, 4

; 778  : 		TriTexCoord2f( 0, vLast );

	push	ecx
	movss	xmm0, DWORD PTR _vLast$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	xorps	xmm0, xmm0
	movss	DWORD PTR [esp], xmm0
	call	_TriTexCoord2f
	add	esp, 8

; 779  : 		TriVertex3fv( point );

	lea	eax, DWORD PTR _point$[ebp]
	push	eax
	call	_TriVertex3fv
	add	esp, 4

; 780  : 
; 781  : 		vLast += vStep;	// Advance texture scroll (v axis only)

	movss	xmm0, DWORD PTR _vLast$[ebp]
	addss	xmm0, DWORD PTR _vStep$[ebp]
	movss	DWORD PTR _vLast$[ebp], xmm0

; 782  : 	}

	jmp	$LN2@R_DrawCyli
$LN3@R_DrawCyli:

; 783  : }

	pop	edi
	pop	esi
	pop	ebx
	mov	ecx, DWORD PTR __$ArrayPad$[ebp]
	xor	ecx, ebp
	call	@__security_check_cookie@4
	mov	esp, ebp
	pop	ebp
	ret	0
_R_DrawCylinder ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File D:\DevDragon\XashFE\dev\src\engine\client\gl_beams.c
;	COMDAT _R_DrawDisk
_TEXT	SEGMENT
tv229 = -124						; size = 8
tv210 = -124						; size = 8
_c$1 = -52						; size = 4
_s$2 = -48						; size = 4
_i$ = -44						; size = 4
_point$ = -40						; size = 12
_vStep$ = -28						; size = 4
_vLast$ = -24						; size = 4
_w$ = -20						; size = 4
_fraction$ = -16					; size = 4
_length$ = -12						; size = 4
_div$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_source$ = 8						; size = 4
_delta$ = 12						; size = 4
_width$ = 16						; size = 4
_scale$ = 20						; size = 4
_freq$ = 24						; size = 4
_speed$ = 28						; size = 4
_segments$ = 32						; size = 4
_R_DrawDisk PROC					; COMDAT

; 678  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 124				; 0000007cH
	mov	eax, DWORD PTR ___security_cookie
	xor	eax, ebp
	mov	DWORD PTR __$ArrayPad$[ebp], eax
	push	ebx
	push	esi
	push	edi

; 679  : 	float	div, length, fraction;
; 680  : 	float	w, vLast, vStep;
; 681  : 	vec3_t	point;
; 682  : 	int	i;
; 683  : 
; 684  : 	if( segments < 2 )

	cmp	DWORD PTR _segments$[ebp], 2
	jge	SHORT $LN5@R_DrawDisk

; 685  : 		return;

	jmp	$LN3@R_DrawDisk
$LN5@R_DrawDisk:

; 686  : 
; 687  : 	if( segments > NOISE_DIVISIONS )		// UNDONE: Allow more segments?

	cmp	DWORD PTR _segments$[ebp], 64		; 00000040H
	jle	SHORT $LN6@R_DrawDisk

; 688  : 		segments = NOISE_DIVISIONS;

	mov	DWORD PTR _segments$[ebp], 64		; 00000040H
$LN6@R_DrawDisk:

; 689  : 
; 690  : 	length = VectorLength( delta ) * 0.01f;

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	mov	edx, DWORD PTR _delta$[ebp]
	mov	esi, DWORD PTR _delta$[ebp]
	movss	xmm0, DWORD PTR [edx+ecx]
	mulss	xmm0, DWORD PTR [esi+eax]
	mov	eax, 4
	shl	eax, 0
	mov	ecx, 4
	shl	ecx, 0
	mov	edx, DWORD PTR _delta$[ebp]
	mov	esi, DWORD PTR _delta$[ebp]
	movss	xmm1, DWORD PTR [edx+eax]
	mulss	xmm1, DWORD PTR [esi+ecx]
	addss	xmm0, xmm1
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	mov	edx, DWORD PTR _delta$[ebp]
	mov	esi, DWORD PTR _delta$[ebp]
	movss	xmm1, DWORD PTR [edx+eax]
	mulss	xmm1, DWORD PTR [esi+ecx]
	addss	xmm0, xmm1
	cvtss2sd xmm0, xmm0
	sub	esp, 8
	movsd	QWORD PTR [esp], xmm0
	call	_sqrt
	add	esp, 8
	fstp	QWORD PTR tv210[ebp]
	movsd	xmm0, QWORD PTR tv210[ebp]
	mulsd	xmm0, QWORD PTR __real@3f847ae140000000
	cvtsd2ss xmm0, xmm0
	movss	DWORD PTR _length$[ebp], xmm0

; 691  : 	if( length < 0.5f ) length = 0.5f;	// don't lose all of the noise/texture on short beams

	movss	xmm0, DWORD PTR __real@3f000000
	comiss	xmm0, DWORD PTR _length$[ebp]
	jbe	SHORT $LN7@R_DrawDisk
	movss	xmm0, DWORD PTR __real@3f000000
	movss	DWORD PTR _length$[ebp], xmm0
$LN7@R_DrawDisk:

; 692  : 	
; 693  : 	div = 1.0f / (segments - 1);

	mov	eax, DWORD PTR _segments$[ebp]
	sub	eax, 1
	cvtsi2ss xmm0, eax
	movss	xmm1, DWORD PTR __real@3f800000
	divss	xmm1, xmm0
	movss	DWORD PTR _div$[ebp], xmm1

; 694  : 	vStep = length * div;		// Texture length texels per space pixel

	movss	xmm0, DWORD PTR _length$[ebp]
	mulss	xmm0, DWORD PTR _div$[ebp]
	movss	DWORD PTR _vStep$[ebp], xmm0

; 695  : 	
; 696  : 	// scroll speed 3.5 -- initial texture position, scrolls 3.5/sec (1.0 is entire texture)
; 697  : 	vLast = fmod( freq * speed, 1 );

	sub	esp, 8
	movsd	xmm0, QWORD PTR __real@3ff0000000000000
	movsd	QWORD PTR [esp], xmm0
	movss	xmm0, DWORD PTR _freq$[ebp]
	mulss	xmm0, DWORD PTR _speed$[ebp]
	cvtss2sd xmm0, xmm0
	sub	esp, 8
	movsd	QWORD PTR [esp], xmm0
	call	_fmod
	add	esp, 16					; 00000010H
	fstp	DWORD PTR _vLast$[ebp]

; 698  : 	scale = scale * length;

	movss	xmm0, DWORD PTR _scale$[ebp]
	mulss	xmm0, DWORD PTR _length$[ebp]
	movss	DWORD PTR _scale$[ebp], xmm0

; 699  : 
; 700  : 	// clamp the beam width
; 701  : 	w = fmod( freq, width ) * delta[2];

	cvtss2sd xmm0, DWORD PTR _width$[ebp]
	sub	esp, 8
	movsd	QWORD PTR [esp], xmm0
	cvtss2sd xmm0, DWORD PTR _freq$[ebp]
	sub	esp, 8
	movsd	QWORD PTR [esp], xmm0
	call	_fmod
	add	esp, 16					; 00000010H
	fstp	QWORD PTR tv229[ebp]
	movsd	xmm0, QWORD PTR tv229[ebp]
	mov	eax, 4
	shl	eax, 1
	mov	ecx, DWORD PTR _delta$[ebp]
	cvtss2sd xmm1, DWORD PTR [ecx+eax]
	mulsd	xmm0, xmm1
	cvtsd2ss xmm0, xmm0
	movss	DWORD PTR _w$[ebp], xmm0

; 702  : 
; 703  : 	// NOTE: we must force the degenerate triangles to be on the edge
; 704  : 	for( i = 0; i < segments; i++ )

	mov	DWORD PTR _i$[ebp], 0
	jmp	SHORT $LN4@R_DrawDisk
$LN2@R_DrawDisk:
	mov	eax, DWORD PTR _i$[ebp]
	add	eax, 1
	mov	DWORD PTR _i$[ebp], eax
$LN4@R_DrawDisk:
	mov	eax, DWORD PTR _i$[ebp]
	cmp	eax, DWORD PTR _segments$[ebp]
	jge	$LN3@R_DrawDisk

; 705  : 	{
; 706  : 		float	s, c;
; 707  : 
; 708  : 		fraction = i * div;

	cvtsi2ss xmm0, DWORD PTR _i$[ebp]
	mulss	xmm0, DWORD PTR _div$[ebp]
	movss	DWORD PTR _fraction$[ebp], xmm0

; 709  : 		VectorCopy( source, point );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	mov	edx, DWORD PTR _source$[ebp]
	mov	ecx, DWORD PTR [edx+ecx]
	mov	DWORD PTR _point$[ebp+eax], ecx
	mov	edx, 4
	shl	edx, 0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, DWORD PTR _source$[ebp]
	mov	edx, DWORD PTR [ecx+edx]
	mov	DWORD PTR _point$[ebp+eax], edx
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	mov	edx, DWORD PTR _source$[ebp]
	mov	eax, DWORD PTR [edx+eax]
	mov	DWORD PTR _point$[ebp+ecx], eax

; 710  : 
; 711  : 		TriBrightness( 1.0f );

	push	ecx
	movss	xmm0, DWORD PTR __real@3f800000
	movss	DWORD PTR [esp], xmm0
	call	_TriBrightness
	add	esp, 4

; 712  : 		TriTexCoord2f( 1.0f, vLast );

	push	ecx
	movss	xmm0, DWORD PTR _vLast$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR __real@3f800000
	movss	DWORD PTR [esp], xmm0
	call	_TriTexCoord2f
	add	esp, 8

; 713  : 		TriVertex3fv( point );

	lea	eax, DWORD PTR _point$[ebp]
	push	eax
	call	_TriVertex3fv
	add	esp, 4

; 714  : 
; 715  : 		SinCos( fraction * M_PI2, &s, &c );

	lea	eax, DWORD PTR _c$1[ebp]
	push	eax
	lea	ecx, DWORD PTR _s$2[ebp]
	push	ecx
	movss	xmm0, DWORD PTR _fraction$[ebp]
	mulss	xmm0, DWORD PTR __real@40c90fdb
	push	ecx
	movss	DWORD PTR [esp], xmm0
	call	_SinCos
	add	esp, 12					; 0000000cH

; 716  : 		point[0] = s * w + source[0];

	movss	xmm0, DWORD PTR _s$2[ebp]
	mulss	xmm0, DWORD PTR _w$[ebp]
	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, DWORD PTR _source$[ebp]
	addss	xmm0, DWORD PTR [edx+ecx]
	mov	eax, 4
	imul	ecx, eax, 0
	movss	DWORD PTR _point$[ebp+ecx], xmm0

; 717  : 		point[1] = c * w + source[1];

	movss	xmm0, DWORD PTR _c$1[ebp]
	mulss	xmm0, DWORD PTR _w$[ebp]
	mov	eax, 4
	shl	eax, 0
	mov	ecx, DWORD PTR _source$[ebp]
	addss	xmm0, DWORD PTR [ecx+eax]
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _point$[ebp+edx], xmm0

; 718  : 		point[2] = source[2];

	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	mov	edx, DWORD PTR _source$[ebp]
	mov	eax, DWORD PTR [edx+eax]
	mov	DWORD PTR _point$[ebp+ecx], eax

; 719  : 
; 720  : 		TriBrightness( 1.0f );

	push	ecx
	movss	xmm0, DWORD PTR __real@3f800000
	movss	DWORD PTR [esp], xmm0
	call	_TriBrightness
	add	esp, 4

; 721  : 		TriTexCoord2f( 0.0f, vLast );

	push	ecx
	movss	xmm0, DWORD PTR _vLast$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	xorps	xmm0, xmm0
	movss	DWORD PTR [esp], xmm0
	call	_TriTexCoord2f
	add	esp, 8

; 722  : 		TriVertex3fv( point );

	lea	eax, DWORD PTR _point$[ebp]
	push	eax
	call	_TriVertex3fv
	add	esp, 4

; 723  : 
; 724  : 		vLast += vStep;	// advance texture scroll (v axis only)

	movss	xmm0, DWORD PTR _vLast$[ebp]
	addss	xmm0, DWORD PTR _vStep$[ebp]
	movss	DWORD PTR _vLast$[ebp], xmm0

; 725  : 	}

	jmp	$LN2@R_DrawDisk
$LN3@R_DrawDisk:

; 726  : }

	pop	edi
	pop	esi
	pop	ebx
	mov	ecx, DWORD PTR __$ArrayPad$[ebp]
	xor	ecx, ebp
	call	@__security_check_cookie@4
	mov	esp, ebp
	pop	ebp
	ret	0
_R_DrawDisk ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File D:\DevDragon\XashFE\dev\src\engine\client\gl_beams.c
;	COMDAT _R_DrawTorus
_TEXT	SEGMENT
tv564 = -216						; size = 8
tv722 = -208						; size = 8
tv496 = -208						; size = 8
tv415 = -204						; size = 4
tv385 = -204						; size = 4
tv361 = -204						; size = 4
tv328 = -204						; size = 4
tv260 = -204						; size = 4
tv236 = -204						; size = 4
tv199 = -204						; size = 4
_ilength$1 = -136					; size = 4
_c$2 = -132						; size = 4
_s$3 = -128						; size = 4
_normal$ = -124						; size = 12
_tmp$ = -112						; size = 12
_screenLast$ = -100					; size = 12
_screen$ = -88						; size = 12
_point$ = -76						; size = 12
_last2$ = -64						; size = 12
_last1$ = -52						; size = 12
_vStep$ = -40						; size = 4
_vLast$ = -36						; size = 4
_factor$ = -32						; size = 4
_fraction$ = -28					; size = 4
_length$ = -24						; size = 4
_div$ = -20						; size = 4
_noiseStep$ = -16					; size = 4
_noiseIndex$ = -12					; size = 4
_i$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_source$ = 8						; size = 4
_delta$ = 12						; size = 4
_width$ = 16						; size = 4
_scale$ = 20						; size = 4
_freq$ = 24						; size = 4
_speed$ = 28						; size = 4
_segments$ = 32						; size = 4
_R_DrawTorus PROC					; COMDAT

; 589  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 216				; 000000d8H
	mov	eax, DWORD PTR ___security_cookie
	xor	eax, ebp
	mov	DWORD PTR __$ArrayPad$[ebp], eax
	push	ebx
	push	esi
	push	edi

; 590  : 	int	i, noiseIndex, noiseStep;
; 591  : 	float	div, length, fraction, factor, vLast, vStep;
; 592  : 	vec3_t	last1, last2, point, screen, screenLast, tmp, normal;
; 593  : 
; 594  : 	if( segments < 2 )

	cmp	DWORD PTR _segments$[ebp], 2
	jge	SHORT $LN5@R_DrawToru

; 595  : 		return;

	jmp	$LN3@R_DrawToru
$LN5@R_DrawToru:

; 596  : 
; 597  : 	if( segments > NOISE_DIVISIONS )

	cmp	DWORD PTR _segments$[ebp], 64		; 00000040H
	jle	SHORT $LN6@R_DrawToru

; 598  : 		segments = NOISE_DIVISIONS;

	mov	DWORD PTR _segments$[ebp], 64		; 00000040H
$LN6@R_DrawToru:

; 599  : 
; 600  : 	length = VectorLength( delta ) * 0.01;

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	mov	edx, DWORD PTR _delta$[ebp]
	mov	esi, DWORD PTR _delta$[ebp]
	movss	xmm0, DWORD PTR [edx+ecx]
	mulss	xmm0, DWORD PTR [esi+eax]
	mov	eax, 4
	shl	eax, 0
	mov	ecx, 4
	shl	ecx, 0
	mov	edx, DWORD PTR _delta$[ebp]
	mov	esi, DWORD PTR _delta$[ebp]
	movss	xmm1, DWORD PTR [edx+eax]
	mulss	xmm1, DWORD PTR [esi+ecx]
	addss	xmm0, xmm1
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	mov	edx, DWORD PTR _delta$[ebp]
	mov	esi, DWORD PTR _delta$[ebp]
	movss	xmm1, DWORD PTR [edx+eax]
	mulss	xmm1, DWORD PTR [esi+ecx]
	addss	xmm0, xmm1
	cvtss2sd xmm0, xmm0
	sub	esp, 8
	movsd	QWORD PTR [esp], xmm0
	call	_sqrt
	add	esp, 8
	fstp	QWORD PTR tv496[ebp]
	movsd	xmm0, QWORD PTR tv496[ebp]
	mulsd	xmm0, QWORD PTR __real@3f847ae147ae147b
	cvtsd2ss xmm0, xmm0
	movss	DWORD PTR _length$[ebp], xmm0

; 601  : 	if( length < 0.5 ) length = 0.5; // don't lose all of the noise/texture on short beams

	cvtss2sd xmm0, DWORD PTR _length$[ebp]
	movsd	xmm1, QWORD PTR __real@3fe0000000000000
	comisd	xmm1, xmm0
	jbe	SHORT $LN7@R_DrawToru
	movss	xmm0, DWORD PTR __real@3f000000
	movss	DWORD PTR _length$[ebp], xmm0
$LN7@R_DrawToru:

; 602  : 
; 603  : 	div = 1.0f / (segments - 1);

	mov	eax, DWORD PTR _segments$[ebp]
	sub	eax, 1
	cvtsi2ss xmm0, eax
	movss	xmm1, DWORD PTR __real@3f800000
	divss	xmm1, xmm0
	movss	DWORD PTR _div$[ebp], xmm1

; 604  : 
; 605  : 	vStep = length * div; // Texture length texels per space pixel

	movss	xmm0, DWORD PTR _length$[ebp]
	mulss	xmm0, DWORD PTR _div$[ebp]
	movss	DWORD PTR _vStep$[ebp], xmm0

; 606  : 
; 607  : 	// Scroll speed 3.5 -- initial texture position, scrolls 3.5/sec (1.0 is entire texture)
; 608  : 	vLast = fmod( freq * speed, 1 );

	sub	esp, 8
	movsd	xmm0, QWORD PTR __real@3ff0000000000000
	movsd	QWORD PTR [esp], xmm0
	movss	xmm0, DWORD PTR _freq$[ebp]
	mulss	xmm0, DWORD PTR _speed$[ebp]
	cvtss2sd xmm0, xmm0
	sub	esp, 8
	movsd	QWORD PTR [esp], xmm0
	call	_fmod
	add	esp, 16					; 00000010H
	fstp	DWORD PTR _vLast$[ebp]

; 609  : 	scale = scale * length;

	movss	xmm0, DWORD PTR _scale$[ebp]
	mulss	xmm0, DWORD PTR _length$[ebp]
	movss	DWORD PTR _scale$[ebp], xmm0

; 610  : 
; 611  : 	// Iterator to resample noise waveform (it needs to be generated in powers of 2)
; 612  : 	noiseStep = (int)((float)( NOISE_DIVISIONS - 1 ) * div * 65536.0f );

	movss	xmm0, DWORD PTR __real@427c0000
	mulss	xmm0, DWORD PTR _div$[ebp]
	mulss	xmm0, DWORD PTR __real@47800000
	cvttss2si eax, xmm0
	mov	DWORD PTR _noiseStep$[ebp], eax

; 613  : 	noiseIndex = 0;

	mov	DWORD PTR _noiseIndex$[ebp], 0

; 614  : 
; 615  : 	for( i = 0; i < segments; i++ )

	mov	DWORD PTR _i$[ebp], 0
	jmp	SHORT $LN4@R_DrawToru
$LN2@R_DrawToru:
	mov	eax, DWORD PTR _i$[ebp]
	add	eax, 1
	mov	DWORD PTR _i$[ebp], eax
$LN4@R_DrawToru:
	mov	eax, DWORD PTR _i$[ebp]
	cmp	eax, DWORD PTR _segments$[ebp]
	jge	$LN3@R_DrawToru

; 616  : 	{
; 617  : 		float	s, c;
; 618  : 
; 619  : 		fraction = i * div;

	cvtsi2ss xmm0, DWORD PTR _i$[ebp]
	mulss	xmm0, DWORD PTR _div$[ebp]
	movss	DWORD PTR _fraction$[ebp], xmm0

; 620  : 		SinCos( fraction * M_PI2, &s, &c );

	lea	eax, DWORD PTR _c$2[ebp]
	push	eax
	lea	ecx, DWORD PTR _s$3[ebp]
	push	ecx
	movss	xmm0, DWORD PTR _fraction$[ebp]
	mulss	xmm0, DWORD PTR __real@40c90fdb
	push	ecx
	movss	DWORD PTR [esp], xmm0
	call	_SinCos
	add	esp, 12					; 0000000cH

; 621  : 
; 622  : 		point[0] = s * freq * delta[2] + source[0];

	movss	xmm0, DWORD PTR _s$3[ebp]
	mulss	xmm0, DWORD PTR _freq$[ebp]
	mov	eax, 4
	shl	eax, 1
	mov	ecx, DWORD PTR _delta$[ebp]
	mulss	xmm0, DWORD PTR [ecx+eax]
	mov	edx, 4
	imul	eax, edx, 0
	mov	ecx, DWORD PTR _source$[ebp]
	addss	xmm0, DWORD PTR [ecx+eax]
	mov	edx, 4
	imul	eax, edx, 0
	movss	DWORD PTR _point$[ebp+eax], xmm0

; 623  : 		point[1] = c * freq * delta[2] + source[1];

	movss	xmm0, DWORD PTR _c$2[ebp]
	mulss	xmm0, DWORD PTR _freq$[ebp]
	mov	eax, 4
	shl	eax, 1
	mov	ecx, DWORD PTR _delta$[ebp]
	mulss	xmm0, DWORD PTR [ecx+eax]
	mov	edx, 4
	shl	edx, 0
	mov	eax, DWORD PTR _source$[ebp]
	addss	xmm0, DWORD PTR [eax+edx]
	mov	ecx, 4
	shl	ecx, 0
	movss	DWORD PTR _point$[ebp+ecx], xmm0

; 624  : 		point[2] = source[2];

	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	mov	edx, DWORD PTR _source$[ebp]
	mov	eax, DWORD PTR [edx+eax]
	mov	DWORD PTR _point$[ebp+ecx], eax

; 625  : 
; 626  : 		// distort using noise
; 627  : 		if( scale != 0 )

	movss	xmm0, DWORD PTR _scale$[ebp]
	ucomiss	xmm0, DWORD PTR __real@00000000
	lahf
	test	ah, 68					; 00000044H
	jnp	$LN9@R_DrawToru

; 628  : 		{
; 629  : 			if(( noiseIndex >> 16 ) < NOISE_DIVISIONS )

	mov	eax, DWORD PTR _noiseIndex$[ebp]
	sar	eax, 16					; 00000010H
	cmp	eax, 64					; 00000040H
	jge	$LN9@R_DrawToru

; 630  : 			{
; 631  : 				factor = rgNoise[noiseIndex>>16] * scale;

	mov	eax, DWORD PTR _noiseIndex$[ebp]
	sar	eax, 16					; 00000010H
	movss	xmm0, DWORD PTR _rgNoise[eax*4]
	mulss	xmm0, DWORD PTR _scale$[ebp]
	movss	DWORD PTR _factor$[ebp], xmm0

; 632  : 				VectorMA( point, factor, RI.vup, point );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	movss	xmm0, DWORD PTR _factor$[ebp]
	mulss	xmm0, DWORD PTR _RI[eax+248]
	addss	xmm0, DWORD PTR _point$[ebp+ecx]
	mov	ecx, 4
	imul	edx, ecx, 0
	movss	DWORD PTR _point$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, 4
	shl	ecx, 0
	movss	xmm0, DWORD PTR _factor$[ebp]
	mulss	xmm0, DWORD PTR _RI[ecx+248]
	addss	xmm0, DWORD PTR _point$[ebp+eax]
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _point$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	movss	xmm0, DWORD PTR _factor$[ebp]
	mulss	xmm0, DWORD PTR _RI[ecx+248]
	movss	xmm1, DWORD PTR _point$[ebp+eax]
	addss	xmm1, xmm0
	movss	DWORD PTR tv199[ebp], xmm1
	mov	edx, 4
	shl	edx, 1
	movss	xmm0, DWORD PTR tv199[ebp]
	movss	DWORD PTR _point$[ebp+edx], xmm0

; 633  : 
; 634  : 				// rotate the noise along the perpendicluar axis a bit to keep the bolt from looking diagonal
; 635  : 				factor = rgNoise[noiseIndex>>16] * scale * cos( fraction * M_PI * 3 + freq );

	mov	eax, DWORD PTR _noiseIndex$[ebp]
	sar	eax, 16					; 00000010H
	movss	xmm0, DWORD PTR _rgNoise[eax*4]
	mulss	xmm0, DWORD PTR _scale$[ebp]
	cvtss2sd xmm0, xmm0
	movss	xmm1, DWORD PTR _fraction$[ebp]
	mulss	xmm1, DWORD PTR __real@40490fdb
	mulss	xmm1, DWORD PTR __real@40400000
	addss	xmm1, DWORD PTR _freq$[ebp]
	cvtss2sd xmm1, xmm1
	sub	esp, 8
	movsd	QWORD PTR [esp], xmm1
	movsd	QWORD PTR tv722[ebp], xmm0
	call	_cos
	add	esp, 8
	fstp	QWORD PTR tv564[ebp]
	movsd	xmm0, QWORD PTR tv722[ebp]
	mulsd	xmm0, QWORD PTR tv564[ebp]
	cvtsd2ss xmm0, xmm0
	movss	DWORD PTR _factor$[ebp], xmm0

; 636  : 				VectorMA( point, factor, RI.vright, point );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	movss	xmm0, DWORD PTR _factor$[ebp]
	mulss	xmm0, DWORD PTR _RI[eax+236]
	addss	xmm0, DWORD PTR _point$[ebp+ecx]
	mov	ecx, 4
	imul	edx, ecx, 0
	movss	DWORD PTR _point$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, 4
	shl	ecx, 0
	movss	xmm0, DWORD PTR _factor$[ebp]
	mulss	xmm0, DWORD PTR _RI[ecx+236]
	addss	xmm0, DWORD PTR _point$[ebp+eax]
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _point$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	movss	xmm0, DWORD PTR _factor$[ebp]
	mulss	xmm0, DWORD PTR _RI[ecx+236]
	movss	xmm1, DWORD PTR _point$[ebp+eax]
	addss	xmm1, xmm0
	movss	DWORD PTR tv236[ebp], xmm1
	mov	edx, 4
	shl	edx, 1
	movss	xmm0, DWORD PTR tv236[ebp]
	movss	DWORD PTR _point$[ebp+edx], xmm0
$LN9@R_DrawToru:

; 637  : 			}
; 638  : 		}
; 639  : 		
; 640  : 		// Transform point into screen space
; 641  : 		TriWorldToScreen( point, screen );

	lea	eax, DWORD PTR _screen$[ebp]
	push	eax
	lea	ecx, DWORD PTR _point$[ebp]
	push	ecx
	call	_TriWorldToScreen
	add	esp, 8

; 642  : 
; 643  : 		if( i != 0 )

	cmp	DWORD PTR _i$[ebp], 0
	je	$LN10@R_DrawToru

; 644  : 		{
; 645  : 			// build world-space normal to screen-space direction vector
; 646  : 			VectorSubtract( screen, screenLast, tmp );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	movss	xmm0, DWORD PTR _screen$[ebp+ecx]
	subss	xmm0, DWORD PTR _screenLast$[ebp+eax]
	mov	ecx, 4
	imul	edx, ecx, 0
	movss	DWORD PTR _tmp$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, 4
	shl	ecx, 0
	movss	xmm0, DWORD PTR _screen$[ebp+eax]
	subss	xmm0, DWORD PTR _screenLast$[ebp+ecx]
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _tmp$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	movss	xmm0, DWORD PTR _screen$[ebp+eax]
	subss	xmm0, DWORD PTR _screenLast$[ebp+ecx]
	movss	DWORD PTR tv260[ebp], xmm0
	mov	edx, 4
	shl	edx, 1
	movss	xmm0, DWORD PTR tv260[ebp]
	movss	DWORD PTR _tmp$[ebp+edx], xmm0

; 647  : 
; 648  : 			// we don't need Z, we're in screen space
; 649  : 			tmp[2] = 0;

	mov	eax, 4
	shl	eax, 1
	xorps	xmm0, xmm0
	movss	DWORD PTR _tmp$[ebp+eax], xmm0

; 650  : 			VectorNormalize( tmp );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	movss	xmm0, DWORD PTR _tmp$[ebp+ecx]
	mulss	xmm0, DWORD PTR _tmp$[ebp+eax]
	mov	ecx, 4
	shl	ecx, 0
	mov	edx, 4
	shl	edx, 0
	movss	xmm1, DWORD PTR _tmp$[ebp+ecx]
	mulss	xmm1, DWORD PTR _tmp$[ebp+edx]
	addss	xmm0, xmm1
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	movss	xmm1, DWORD PTR _tmp$[ebp+eax]
	mulss	xmm1, DWORD PTR _tmp$[ebp+ecx]
	addss	xmm0, xmm1
	cvtss2sd xmm0, xmm0
	sub	esp, 8
	movsd	QWORD PTR [esp], xmm0
	call	_sqrt
	add	esp, 8
	fstp	DWORD PTR _ilength$1[ebp]
	movss	xmm0, DWORD PTR _ilength$1[ebp]
	ucomiss	xmm0, DWORD PTR __real@00000000
	lahf
	test	ah, 68					; 00000044H
	jnp	SHORT $LN11@R_DrawToru
	movss	xmm0, DWORD PTR __real@3f800000
	divss	xmm0, DWORD PTR _ilength$1[ebp]
	movss	DWORD PTR _ilength$1[ebp], xmm0
$LN11@R_DrawToru:
	mov	eax, 4
	imul	ecx, eax, 0
	movss	xmm0, DWORD PTR _tmp$[ebp+ecx]
	mulss	xmm0, DWORD PTR _ilength$1[ebp]
	mov	edx, 4
	imul	eax, edx, 0
	movss	DWORD PTR _tmp$[ebp+eax], xmm0
	mov	eax, 4
	shl	eax, 0
	movss	xmm0, DWORD PTR _tmp$[ebp+eax]
	mulss	xmm0, DWORD PTR _ilength$1[ebp]
	mov	ecx, 4
	shl	ecx, 0
	movss	DWORD PTR _tmp$[ebp+ecx], xmm0
	mov	eax, 4
	shl	eax, 1
	movss	xmm0, DWORD PTR _tmp$[ebp+eax]
	mulss	xmm0, DWORD PTR _ilength$1[ebp]
	mov	ecx, 4
	shl	ecx, 1
	movss	DWORD PTR _tmp$[ebp+ecx], xmm0

; 651  : 			VectorScale( RI.vup, -tmp[0], normal );	// Build point along noraml line (normal is -y, x)

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	movss	xmm0, DWORD PTR _tmp$[ebp+eax]
	xorps	xmm0, DWORD PTR __xmm@80000000800000008000000080000000
	mulss	xmm0, DWORD PTR _RI[ecx+248]
	mov	ecx, 4
	imul	edx, ecx, 0
	movss	DWORD PTR _normal$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, 4
	imul	edx, ecx, 0
	movss	xmm0, DWORD PTR _tmp$[ebp+edx]
	xorps	xmm0, DWORD PTR __xmm@80000000800000008000000080000000
	mulss	xmm0, DWORD PTR _RI[eax+248]
	mov	eax, 4
	shl	eax, 0
	movss	DWORD PTR _normal$[ebp+eax], xmm0
	mov	ecx, 4
	shl	ecx, 1
	mov	edx, 4
	imul	eax, edx, 0
	movss	xmm0, DWORD PTR _tmp$[ebp+eax]
	xorps	xmm0, DWORD PTR __xmm@80000000800000008000000080000000
	movss	xmm1, DWORD PTR _RI[ecx+248]
	mulss	xmm1, xmm0
	movss	DWORD PTR tv328[ebp], xmm1
	mov	ecx, 4
	shl	ecx, 1
	movss	xmm0, DWORD PTR tv328[ebp]
	movss	DWORD PTR _normal$[ebp+ecx], xmm0

; 652  : 			VectorMA( normal, tmp[1], RI.vright, normal );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	shl	edx, 0
	movss	xmm0, DWORD PTR _tmp$[ebp+edx]
	mov	eax, 4
	imul	edx, eax, 0
	mulss	xmm0, DWORD PTR _RI[edx+236]
	addss	xmm0, DWORD PTR _normal$[ebp+ecx]
	mov	eax, 4
	imul	ecx, eax, 0
	movss	DWORD PTR _normal$[ebp+ecx], xmm0
	mov	edx, 4
	shl	edx, 0
	mov	eax, 4
	shl	eax, 0
	movss	xmm0, DWORD PTR _tmp$[ebp+eax]
	mov	ecx, 4
	shl	ecx, 0
	mulss	xmm0, DWORD PTR _RI[ecx+236]
	addss	xmm0, DWORD PTR _normal$[ebp+edx]
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _normal$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 0
	movss	xmm0, DWORD PTR _tmp$[ebp+ecx]
	mov	edx, 4
	shl	edx, 1
	mulss	xmm0, DWORD PTR _RI[edx+236]
	movss	xmm1, DWORD PTR _normal$[ebp+eax]
	addss	xmm1, xmm0
	movss	DWORD PTR tv361[ebp], xmm1
	mov	eax, 4
	shl	eax, 1
	movss	xmm0, DWORD PTR tv361[ebp]
	movss	DWORD PTR _normal$[ebp+eax], xmm0

; 653  : 			
; 654  : 			// Make a wide line
; 655  : 			VectorMA( point, width, normal, last1 );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	movss	xmm0, DWORD PTR _width$[ebp]
	mulss	xmm0, DWORD PTR _normal$[ebp+eax]
	addss	xmm0, DWORD PTR _point$[ebp+ecx]
	mov	ecx, 4
	imul	edx, ecx, 0
	movss	DWORD PTR _last1$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, 4
	shl	ecx, 0
	movss	xmm0, DWORD PTR _width$[ebp]
	mulss	xmm0, DWORD PTR _normal$[ebp+ecx]
	addss	xmm0, DWORD PTR _point$[ebp+eax]
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _last1$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	movss	xmm0, DWORD PTR _width$[ebp]
	mulss	xmm0, DWORD PTR _normal$[ebp+ecx]
	movss	xmm1, DWORD PTR _point$[ebp+eax]
	addss	xmm1, xmm0
	movss	DWORD PTR tv385[ebp], xmm1
	mov	edx, 4
	shl	edx, 1
	movss	xmm0, DWORD PTR tv385[ebp]
	movss	DWORD PTR _last1$[ebp+edx], xmm0

; 656  : 			VectorMA( point, -width, normal, last2 );

	mov	eax, 4
	imul	ecx, eax, 0
	movss	xmm0, DWORD PTR _width$[ebp]
	xorps	xmm0, DWORD PTR __xmm@80000000800000008000000080000000
	mov	edx, 4
	imul	eax, edx, 0
	mulss	xmm0, DWORD PTR _normal$[ebp+eax]
	addss	xmm0, DWORD PTR _point$[ebp+ecx]
	mov	ecx, 4
	imul	edx, ecx, 0
	movss	DWORD PTR _last2$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 0
	movss	xmm0, DWORD PTR _width$[ebp]
	xorps	xmm0, DWORD PTR __xmm@80000000800000008000000080000000
	mov	ecx, 4
	shl	ecx, 0
	mulss	xmm0, DWORD PTR _normal$[ebp+ecx]
	addss	xmm0, DWORD PTR _point$[ebp+eax]
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _last2$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	movss	xmm0, DWORD PTR _width$[ebp]
	xorps	xmm0, DWORD PTR __xmm@80000000800000008000000080000000
	mov	ecx, 4
	shl	ecx, 1
	mulss	xmm0, DWORD PTR _normal$[ebp+ecx]
	movss	xmm1, DWORD PTR _point$[ebp+eax]
	addss	xmm1, xmm0
	movss	DWORD PTR tv415[ebp], xmm1
	mov	edx, 4
	shl	edx, 1
	movss	xmm0, DWORD PTR tv415[ebp]
	movss	DWORD PTR _last2$[ebp+edx], xmm0

; 657  : 
; 658  : 			vLast += vStep; // advance texture scroll (v axis only)

	movss	xmm0, DWORD PTR _vLast$[ebp]
	addss	xmm0, DWORD PTR _vStep$[ebp]
	movss	DWORD PTR _vLast$[ebp], xmm0

; 659  : 			TriTexCoord2f( 1, vLast );

	push	ecx
	movss	xmm0, DWORD PTR _vLast$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR __real@3f800000
	movss	DWORD PTR [esp], xmm0
	call	_TriTexCoord2f
	add	esp, 8

; 660  : 			TriVertex3fv( last2 );

	lea	eax, DWORD PTR _last2$[ebp]
	push	eax
	call	_TriVertex3fv
	add	esp, 4

; 661  : 			TriTexCoord2f( 0, vLast );

	push	ecx
	movss	xmm0, DWORD PTR _vLast$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	xorps	xmm0, xmm0
	movss	DWORD PTR [esp], xmm0
	call	_TriTexCoord2f
	add	esp, 8

; 662  : 			TriVertex3fv( last1 );

	lea	eax, DWORD PTR _last1$[ebp]
	push	eax
	call	_TriVertex3fv
	add	esp, 4
$LN10@R_DrawToru:

; 663  : 		}
; 664  : 
; 665  : 		VectorCopy( screen, screenLast );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	mov	ecx, DWORD PTR _screen$[ebp+ecx]
	mov	DWORD PTR _screenLast$[ebp+eax], ecx
	mov	edx, 4
	shl	edx, 0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, DWORD PTR _screen$[ebp+edx]
	mov	DWORD PTR _screenLast$[ebp+eax], ecx
	mov	edx, 4
	shl	edx, 1
	mov	eax, 4
	shl	eax, 1
	mov	ecx, DWORD PTR _screen$[ebp+edx]
	mov	DWORD PTR _screenLast$[ebp+eax], ecx

; 666  : 		noiseIndex += noiseStep;

	mov	eax, DWORD PTR _noiseIndex$[ebp]
	add	eax, DWORD PTR _noiseStep$[ebp]
	mov	DWORD PTR _noiseIndex$[ebp], eax

; 667  : 	}

	jmp	$LN2@R_DrawToru
$LN3@R_DrawToru:

; 668  : }

	pop	edi
	pop	esi
	pop	ebx
	mov	ecx, DWORD PTR __$ArrayPad$[ebp]
	xor	ecx, ebp
	call	@__security_check_cookie@4
	mov	esp, ebp
	pop	ebp
	ret	0
_R_DrawTorus ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File D:\DevDragon\XashFE\dev\src\engine\client\gl_beams.c
;	COMDAT _R_DrawSegs
_TEXT	SEGMENT
tv603 = -248						; size = 4
tv567 = -248						; size = 4
tv510 = -248						; size = 4
tv474 = -248						; size = 4
tv382 = -248						; size = 4
tv367 = -248						; size = 4
tv308 = -248						; size = 4
tv284 = -248						; size = 4
tv251 = -248						; size = 4
tv205 = -248						; size = 4
tv178 = -248						; size = 4
_ilength$1 = -180					; size = 4
_vAveNormal$2 = -176					; size = 12
_vNormal$3 = -164					; size = 12
_c$4 = -152						; size = 4
_s$5 = -148						; size = 4
_vPoint2$6 = -144					; size = 12
_vPoint1$7 = -132					; size = 12
_nextSeg$8 = -120					; size = 20
_curSeg$ = -100						; size = 20
_vLastNormal$ = -80					; size = 12
_perp1$ = -68						; size = 12
_brightness$ = -56					; size = 4
_vStep$ = -52						; size = 4
_vLast$ = -48						; size = 4
_flMaxWidth$ = -44					; size = 4
_factor$ = -40						; size = 4
_fraction$ = -36					; size = 4
_length$ = -32						; size = 4
_div$ = -28						; size = 4
_segs_drawn$ = -24					; size = 4
_total_segs$ = -20					; size = 4
_i$ = -16						; size = 4
_noiseStep$ = -12					; size = 4
_noiseIndex$ = -8					; size = 4
__$ArrayPad$ = -4					; size = 4
_source$ = 8						; size = 4
_delta$ = 12						; size = 4
_width$ = 16						; size = 4
_scale$ = 20						; size = 4
_freq$ = 24						; size = 4
_speed$ = 28						; size = 4
_segments$ = 32						; size = 4
_flags$ = 36						; size = 4
_R_DrawSegs PROC					; COMDAT

; 407  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 248				; 000000f8H
	mov	eax, DWORD PTR ___security_cookie
	xor	eax, ebp
	mov	DWORD PTR __$ArrayPad$[ebp], eax
	push	ebx
	push	esi
	push	edi

; 408  : 	int	noiseIndex, noiseStep;
; 409  : 	int	i, total_segs, segs_drawn;
; 410  : 	float	div, length, fraction, factor;
; 411  : 	float	flMaxWidth, vLast, vStep, brightness;
; 412  : 	vec3_t	perp1, vLastNormal;
; 413  : 	beamseg_t	curSeg;
; 414  : 	
; 415  : 	if( segments < 2 ) return;

	cmp	DWORD PTR _segments$[ebp], 2
	jge	SHORT $LN5@R_DrawSegs
	jmp	$LN3@R_DrawSegs
$LN5@R_DrawSegs:

; 416  : 
; 417  : 	length = VectorLength( delta );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	mov	edx, DWORD PTR _delta$[ebp]
	mov	esi, DWORD PTR _delta$[ebp]
	movss	xmm0, DWORD PTR [edx+ecx]
	mulss	xmm0, DWORD PTR [esi+eax]
	mov	eax, 4
	shl	eax, 0
	mov	ecx, 4
	shl	ecx, 0
	mov	edx, DWORD PTR _delta$[ebp]
	mov	esi, DWORD PTR _delta$[ebp]
	movss	xmm1, DWORD PTR [edx+eax]
	mulss	xmm1, DWORD PTR [esi+ecx]
	addss	xmm0, xmm1
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	mov	edx, DWORD PTR _delta$[ebp]
	mov	esi, DWORD PTR _delta$[ebp]
	movss	xmm1, DWORD PTR [edx+eax]
	mulss	xmm1, DWORD PTR [esi+ecx]
	addss	xmm0, xmm1
	cvtss2sd xmm0, xmm0
	sub	esp, 8
	movsd	QWORD PTR [esp], xmm0
	call	_sqrt
	add	esp, 8
	fstp	DWORD PTR _length$[ebp]

; 418  : 	flMaxWidth = width * 0.5f;

	movss	xmm0, DWORD PTR _width$[ebp]
	mulss	xmm0, DWORD PTR __real@3f000000
	movss	DWORD PTR _flMaxWidth$[ebp], xmm0

; 419  : 	div = 1.0f / ( segments - 1 );

	mov	eax, DWORD PTR _segments$[ebp]
	sub	eax, 1
	cvtsi2ss xmm0, eax
	movss	xmm1, DWORD PTR __real@3f800000
	divss	xmm1, xmm0
	movss	DWORD PTR _div$[ebp], xmm1

; 420  : 
; 421  : 	if( length * div < flMaxWidth * 1.414f )

	movss	xmm0, DWORD PTR _length$[ebp]
	mulss	xmm0, DWORD PTR _div$[ebp]
	movss	xmm1, DWORD PTR _flMaxWidth$[ebp]
	mulss	xmm1, DWORD PTR __real@3fb4fdf4
	comiss	xmm1, xmm0
	jbe	SHORT $LN7@R_DrawSegs

; 422  : 	{
; 423  : 		// here, we have too many segments; we could get overlap... so lets have less segments
; 424  : 		segments = (int)( length / ( flMaxWidth * 1.414f )) + 1.0f;

	movss	xmm0, DWORD PTR _flMaxWidth$[ebp]
	mulss	xmm0, DWORD PTR __real@3fb4fdf4
	movss	xmm1, DWORD PTR _length$[ebp]
	divss	xmm1, xmm0
	cvttss2si eax, xmm1
	cvtsi2ss xmm0, eax
	addss	xmm0, DWORD PTR __real@3f800000
	cvttss2si ecx, xmm0
	mov	DWORD PTR _segments$[ebp], ecx

; 425  : 		if( segments < 2 ) segments = 2;

	cmp	DWORD PTR _segments$[ebp], 2
	jge	SHORT $LN7@R_DrawSegs
	mov	DWORD PTR _segments$[ebp], 2
$LN7@R_DrawSegs:

; 426  : 	}
; 427  : 
; 428  : 	if( segments > NOISE_DIVISIONS )

	cmp	DWORD PTR _segments$[ebp], 64		; 00000040H
	jle	SHORT $LN8@R_DrawSegs

; 429  : 		segments = NOISE_DIVISIONS;

	mov	DWORD PTR _segments$[ebp], 64		; 00000040H
$LN8@R_DrawSegs:

; 430  : 
; 431  : 	div = 1.0f / (segments - 1);

	mov	eax, DWORD PTR _segments$[ebp]
	sub	eax, 1
	cvtsi2ss xmm0, eax
	movss	xmm1, DWORD PTR __real@3f800000
	divss	xmm1, xmm0
	movss	DWORD PTR _div$[ebp], xmm1

; 432  : 	length *= 0.01f;

	movss	xmm0, DWORD PTR _length$[ebp]
	mulss	xmm0, DWORD PTR __real@3c23d70a
	movss	DWORD PTR _length$[ebp], xmm0

; 433  : 	vStep = length * div;	// Texture length texels per space pixel

	movss	xmm0, DWORD PTR _length$[ebp]
	mulss	xmm0, DWORD PTR _div$[ebp]
	movss	DWORD PTR _vStep$[ebp], xmm0

; 434  : 
; 435  : 	// Scroll speed 3.5 -- initial texture position, scrolls 3.5/sec (1.0 is entire texture)
; 436  : 	vLast = fmod( freq * speed, 1 );

	sub	esp, 8
	movsd	xmm0, QWORD PTR __real@3ff0000000000000
	movsd	QWORD PTR [esp], xmm0
	movss	xmm0, DWORD PTR _freq$[ebp]
	mulss	xmm0, DWORD PTR _speed$[ebp]
	cvtss2sd xmm0, xmm0
	sub	esp, 8
	movsd	QWORD PTR [esp], xmm0
	call	_fmod
	add	esp, 16					; 00000010H
	fstp	DWORD PTR _vLast$[ebp]

; 437  : 
; 438  : 	if( flags & FBEAM_SINENOISE )

	mov	eax, DWORD PTR _flags$[ebp]
	and	eax, 16					; 00000010H
	je	SHORT $LN9@R_DrawSegs

; 439  : 	{
; 440  : 		if( segments < 16 )

	cmp	DWORD PTR _segments$[ebp], 16		; 00000010H
	jge	SHORT $LN11@R_DrawSegs

; 441  : 		{
; 442  : 			segments = 16;

	mov	DWORD PTR _segments$[ebp], 16		; 00000010H

; 443  : 			div = 1.0f / ( segments - 1 );

	mov	eax, DWORD PTR _segments$[ebp]
	sub	eax, 1
	cvtsi2ss xmm0, eax
	movss	xmm1, DWORD PTR __real@3f800000
	divss	xmm1, xmm0
	movss	DWORD PTR _div$[ebp], xmm1
$LN11@R_DrawSegs:

; 444  : 		}
; 445  : 		scale *= 100.0f;

	movss	xmm0, DWORD PTR _scale$[ebp]
	mulss	xmm0, DWORD PTR __real@42c80000
	movss	DWORD PTR _scale$[ebp], xmm0

; 446  : 		length = segments * 0.1f;

	cvtsi2ss xmm0, DWORD PTR _segments$[ebp]
	mulss	xmm0, DWORD PTR __real@3dcccccd
	movss	DWORD PTR _length$[ebp], xmm0

; 447  : 	}

	jmp	SHORT $LN10@R_DrawSegs
$LN9@R_DrawSegs:

; 448  : 	else
; 449  : 	{
; 450  : 		scale *= length * 2.0;

	cvtss2sd xmm0, DWORD PTR _length$[ebp]
	mulsd	xmm0, QWORD PTR __real@4000000000000000
	cvtss2sd xmm1, DWORD PTR _scale$[ebp]
	mulsd	xmm1, xmm0
	cvtsd2ss xmm0, xmm1
	movss	DWORD PTR _scale$[ebp], xmm0
$LN10@R_DrawSegs:

; 451  : 	}
; 452  : 
; 453  : 	// Iterator to resample noise waveform (it needs to be generated in powers of 2)
; 454  : 	noiseStep = (int)((float)( NOISE_DIVISIONS - 1 ) * div * 65536.0f );

	movss	xmm0, DWORD PTR __real@427c0000
	mulss	xmm0, DWORD PTR _div$[ebp]
	mulss	xmm0, DWORD PTR __real@47800000
	cvttss2si eax, xmm0
	mov	DWORD PTR _noiseStep$[ebp], eax

; 455  : 	brightness = 1.0f;

	movss	xmm0, DWORD PTR __real@3f800000
	movss	DWORD PTR _brightness$[ebp], xmm0

; 456  : 	noiseIndex = 0;

	mov	DWORD PTR _noiseIndex$[ebp], 0

; 457  : 
; 458  : 	if( FBitSet( flags, FBEAM_SHADEIN ))

	mov	eax, DWORD PTR _flags$[ebp]
	and	eax, 64					; 00000040H
	je	SHORT $LN12@R_DrawSegs

; 459  : 		brightness = 0;

	xorps	xmm0, xmm0
	movss	DWORD PTR _brightness$[ebp], xmm0
$LN12@R_DrawSegs:

; 460  : 
; 461  : 	// Choose two vectors that are perpendicular to the beam
; 462  : 	R_BeamComputePerpendicular( delta, perp1 );

	lea	eax, DWORD PTR _perp1$[ebp]
	push	eax
	mov	ecx, DWORD PTR _delta$[ebp]
	push	ecx
	call	_R_BeamComputePerpendicular
	add	esp, 8

; 463  : 
; 464  : 	total_segs = segments;

	mov	eax, DWORD PTR _segments$[ebp]
	mov	DWORD PTR _total_segs$[ebp], eax

; 465  : 	segs_drawn = 0;

	mov	DWORD PTR _segs_drawn$[ebp], 0

; 466  : 
; 467  : 	// specify all the segments.
; 468  : 	for( i = 0; i < segments; i++ )

	mov	DWORD PTR _i$[ebp], 0
	jmp	SHORT $LN4@R_DrawSegs
$LN2@R_DrawSegs:
	mov	eax, DWORD PTR _i$[ebp]
	add	eax, 1
	mov	DWORD PTR _i$[ebp], eax
$LN4@R_DrawSegs:
	mov	eax, DWORD PTR _i$[ebp]
	cmp	eax, DWORD PTR _segments$[ebp]
	jge	$LN3@R_DrawSegs

; 469  : 	{
; 470  : 		beamseg_t	nextSeg;
; 471  : 		vec3_t	vPoint1, vPoint2;
; 472  : 	
; 473  : 		Assert( noiseIndex < ( NOISE_DIVISIONS << 16 ));

	cmp	DWORD PTR _noiseIndex$[ebp], 4194304	; 00400000H
	jge	SHORT $LN28@R_DrawSegs
	mov	DWORD PTR tv178[ebp], 1
	jmp	SHORT $LN29@R_DrawSegs
$LN28@R_DrawSegs:
	mov	DWORD PTR tv178[ebp], 0
$LN29@R_DrawSegs:
	push	0
	mov	eax, DWORD PTR ?__LINE__Var@?0??R_DrawSegs@@9@9
	add	eax, 66					; 00000042H
	push	eax
	push	OFFSET ??_C@_0DF@KGKEPMBF@D?3?2DevDragon?2XashFE?2dev?2src?2eng@
	push	OFFSET ??_C@_0CH@DNMOKALN@noiseIndex?5?$DM?5?$CI?5NOISE_DIVISIONS?5@
	mov	ecx, DWORD PTR tv178[ebp]
	push	ecx
	call	_DBG_AssertFunction
	add	esp, 20					; 00000014H

; 474  : 
; 475  : 		fraction = i * div;

	cvtsi2ss xmm0, DWORD PTR _i$[ebp]
	mulss	xmm0, DWORD PTR _div$[ebp]
	movss	DWORD PTR _fraction$[ebp], xmm0

; 476  : 
; 477  : 		VectorMA( source, fraction, delta, nextSeg.pos );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	mov	edx, DWORD PTR _delta$[ebp]
	movss	xmm0, DWORD PTR _fraction$[ebp]
	mulss	xmm0, DWORD PTR [edx+eax]
	mov	eax, DWORD PTR _source$[ebp]
	addss	xmm0, DWORD PTR [eax+ecx]
	mov	ecx, 4
	imul	edx, ecx, 0
	movss	DWORD PTR _nextSeg$8[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, 4
	shl	ecx, 0
	mov	edx, DWORD PTR _delta$[ebp]
	movss	xmm0, DWORD PTR _fraction$[ebp]
	mulss	xmm0, DWORD PTR [edx+ecx]
	mov	ecx, DWORD PTR _source$[ebp]
	addss	xmm0, DWORD PTR [ecx+eax]
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _nextSeg$8[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	mov	edx, DWORD PTR _delta$[ebp]
	movss	xmm0, DWORD PTR _fraction$[ebp]
	mulss	xmm0, DWORD PTR [edx+ecx]
	mov	ecx, DWORD PTR _source$[ebp]
	movss	xmm1, DWORD PTR [ecx+eax]
	addss	xmm1, xmm0
	movss	DWORD PTR tv205[ebp], xmm1
	mov	edx, 4
	shl	edx, 1
	movss	xmm0, DWORD PTR tv205[ebp]
	movss	DWORD PTR _nextSeg$8[ebp+edx], xmm0

; 478  : 
; 479  : 		// distort using noise
; 480  : 		if( scale != 0 )

	movss	xmm0, DWORD PTR _scale$[ebp]
	ucomiss	xmm0, DWORD PTR __real@00000000
	lahf
	test	ah, 68					; 00000044H
	jnp	$LN15@R_DrawSegs

; 481  : 		{
; 482  : 			factor = rgNoise[noiseIndex>>16] * scale;

	mov	eax, DWORD PTR _noiseIndex$[ebp]
	sar	eax, 16					; 00000010H
	movss	xmm0, DWORD PTR _rgNoise[eax*4]
	mulss	xmm0, DWORD PTR _scale$[ebp]
	movss	DWORD PTR _factor$[ebp], xmm0

; 483  : 
; 484  : 			if( FBitSet( flags, FBEAM_SINENOISE ))

	mov	eax, DWORD PTR _flags$[ebp]
	and	eax, 16					; 00000010H
	je	$LN14@R_DrawSegs

; 485  : 			{
; 486  : 				float	s, c;
; 487  : 
; 488  : 				SinCos( fraction * M_PI * length + freq, &s, &c );

	lea	eax, DWORD PTR _c$4[ebp]
	push	eax
	lea	ecx, DWORD PTR _s$5[ebp]
	push	ecx
	movss	xmm0, DWORD PTR _fraction$[ebp]
	mulss	xmm0, DWORD PTR __real@40490fdb
	mulss	xmm0, DWORD PTR _length$[ebp]
	addss	xmm0, DWORD PTR _freq$[ebp]
	push	ecx
	movss	DWORD PTR [esp], xmm0
	call	_SinCos
	add	esp, 12					; 0000000cH

; 489  : 				VectorMA( nextSeg.pos, (factor * s), RI.vup, nextSeg.pos );

	mov	eax, 4
	imul	ecx, eax, 0
	movss	xmm0, DWORD PTR _factor$[ebp]
	mulss	xmm0, DWORD PTR _s$5[ebp]
	mov	edx, 4
	imul	eax, edx, 0
	mulss	xmm0, DWORD PTR _RI[eax+248]
	addss	xmm0, DWORD PTR _nextSeg$8[ebp+ecx]
	mov	ecx, 4
	imul	edx, ecx, 0
	movss	DWORD PTR _nextSeg$8[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 0
	movss	xmm0, DWORD PTR _factor$[ebp]
	mulss	xmm0, DWORD PTR _s$5[ebp]
	mov	ecx, 4
	shl	ecx, 0
	mulss	xmm0, DWORD PTR _RI[ecx+248]
	addss	xmm0, DWORD PTR _nextSeg$8[ebp+eax]
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _nextSeg$8[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	movss	xmm0, DWORD PTR _factor$[ebp]
	mulss	xmm0, DWORD PTR _s$5[ebp]
	mov	ecx, 4
	shl	ecx, 1
	mulss	xmm0, DWORD PTR _RI[ecx+248]
	movss	xmm1, DWORD PTR _nextSeg$8[ebp+eax]
	addss	xmm1, xmm0
	movss	DWORD PTR tv251[ebp], xmm1
	mov	edx, 4
	shl	edx, 1
	movss	xmm0, DWORD PTR tv251[ebp]
	movss	DWORD PTR _nextSeg$8[ebp+edx], xmm0

; 490  : 
; 491  : 				// rotate the noise along the perpendicluar axis a bit to keep the bolt from looking diagonal
; 492  : 				VectorMA( nextSeg.pos, (factor * c), RI.vright, nextSeg.pos );

	mov	eax, 4
	imul	ecx, eax, 0
	movss	xmm0, DWORD PTR _factor$[ebp]
	mulss	xmm0, DWORD PTR _c$4[ebp]
	mov	edx, 4
	imul	eax, edx, 0
	mulss	xmm0, DWORD PTR _RI[eax+236]
	addss	xmm0, DWORD PTR _nextSeg$8[ebp+ecx]
	mov	ecx, 4
	imul	edx, ecx, 0
	movss	DWORD PTR _nextSeg$8[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 0
	movss	xmm0, DWORD PTR _factor$[ebp]
	mulss	xmm0, DWORD PTR _c$4[ebp]
	mov	ecx, 4
	shl	ecx, 0
	mulss	xmm0, DWORD PTR _RI[ecx+236]
	addss	xmm0, DWORD PTR _nextSeg$8[ebp+eax]
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _nextSeg$8[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	movss	xmm0, DWORD PTR _factor$[ebp]
	mulss	xmm0, DWORD PTR _c$4[ebp]
	mov	ecx, 4
	shl	ecx, 1
	mulss	xmm0, DWORD PTR _RI[ecx+236]
	movss	xmm1, DWORD PTR _nextSeg$8[ebp+eax]
	addss	xmm1, xmm0
	movss	DWORD PTR tv284[ebp], xmm1
	mov	edx, 4
	shl	edx, 1
	movss	xmm0, DWORD PTR tv284[ebp]
	movss	DWORD PTR _nextSeg$8[ebp+edx], xmm0

; 493  : 			}

	jmp	$LN15@R_DrawSegs
$LN14@R_DrawSegs:

; 494  : 			else
; 495  : 			{
; 496  : 				VectorMA( nextSeg.pos, factor, perp1, nextSeg.pos );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	movss	xmm0, DWORD PTR _factor$[ebp]
	mulss	xmm0, DWORD PTR _perp1$[ebp+eax]
	addss	xmm0, DWORD PTR _nextSeg$8[ebp+ecx]
	mov	ecx, 4
	imul	edx, ecx, 0
	movss	DWORD PTR _nextSeg$8[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, 4
	shl	ecx, 0
	movss	xmm0, DWORD PTR _factor$[ebp]
	mulss	xmm0, DWORD PTR _perp1$[ebp+ecx]
	addss	xmm0, DWORD PTR _nextSeg$8[ebp+eax]
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _nextSeg$8[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	movss	xmm0, DWORD PTR _factor$[ebp]
	mulss	xmm0, DWORD PTR _perp1$[ebp+ecx]
	movss	xmm1, DWORD PTR _nextSeg$8[ebp+eax]
	addss	xmm1, xmm0
	movss	DWORD PTR tv308[ebp], xmm1
	mov	edx, 4
	shl	edx, 1
	movss	xmm0, DWORD PTR tv308[ebp]
	movss	DWORD PTR _nextSeg$8[ebp+edx], xmm0
$LN15@R_DrawSegs:

; 497  : 			}
; 498  : 		}
; 499  : 
; 500  : 		// specify the next segment.
; 501  : 		nextSeg.width = width * 2.0f;

	movss	xmm0, DWORD PTR _width$[ebp]
	mulss	xmm0, DWORD PTR __real@40000000
	movss	DWORD PTR _nextSeg$8[ebp+16], xmm0

; 502  : 		nextSeg.texcoord = vLast;

	movss	xmm0, DWORD PTR _vLast$[ebp]
	movss	DWORD PTR _nextSeg$8[ebp+12], xmm0

; 503  : 
; 504  :  		if( segs_drawn > 0 )

	cmp	DWORD PTR _segs_drawn$[ebp], 0
	jle	$LN16@R_DrawSegs

; 505  : 		{
; 506  : 			// Get a vector that is perpendicular to us and perpendicular to the beam.
; 507  : 			// This is used to fatten the beam.
; 508  : 			vec3_t	vNormal, vAveNormal;
; 509  : 
; 510  : 			R_BeamComputeNormal( curSeg.pos, nextSeg.pos, vNormal );

	lea	eax, DWORD PTR _vNormal$3[ebp]
	push	eax
	lea	ecx, DWORD PTR _nextSeg$8[ebp]
	push	ecx
	lea	edx, DWORD PTR _curSeg$[ebp]
	push	edx
	call	_R_BeamComputeNormal
	add	esp, 12					; 0000000cH

; 511  : 
; 512  : 			if( segs_drawn > 1 )

	cmp	DWORD PTR _segs_drawn$[ebp], 1
	jle	$LN17@R_DrawSegs

; 513  : 			{
; 514  : 				// Average this with the previous normal
; 515  : 				VectorAdd( vNormal, vLastNormal, vAveNormal );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	movss	xmm0, DWORD PTR _vNormal$3[ebp+ecx]
	addss	xmm0, DWORD PTR _vLastNormal$[ebp+eax]
	mov	ecx, 4
	imul	edx, ecx, 0
	movss	DWORD PTR _vAveNormal$2[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, 4
	shl	ecx, 0
	movss	xmm0, DWORD PTR _vNormal$3[ebp+eax]
	addss	xmm0, DWORD PTR _vLastNormal$[ebp+ecx]
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _vAveNormal$2[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	movss	xmm0, DWORD PTR _vNormal$3[ebp+eax]
	addss	xmm0, DWORD PTR _vLastNormal$[ebp+ecx]
	movss	DWORD PTR tv367[ebp], xmm0
	mov	edx, 4
	shl	edx, 1
	movss	xmm0, DWORD PTR tv367[ebp]
	movss	DWORD PTR _vAveNormal$2[ebp+edx], xmm0

; 516  : 				VectorScale( vAveNormal, 0.5f, vAveNormal );

	mov	eax, 4
	imul	ecx, eax, 0
	movss	xmm0, DWORD PTR _vAveNormal$2[ebp+ecx]
	mulss	xmm0, DWORD PTR __real@3f000000
	mov	edx, 4
	imul	eax, edx, 0
	movss	DWORD PTR _vAveNormal$2[ebp+eax], xmm0
	mov	ecx, 4
	shl	ecx, 0
	movss	xmm0, DWORD PTR _vAveNormal$2[ebp+ecx]
	mulss	xmm0, DWORD PTR __real@3f000000
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _vAveNormal$2[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	movss	xmm0, DWORD PTR _vAveNormal$2[ebp+eax]
	mulss	xmm0, DWORD PTR __real@3f000000
	movss	DWORD PTR tv382[ebp], xmm0
	mov	ecx, 4
	shl	ecx, 1
	movss	xmm0, DWORD PTR tv382[ebp]
	movss	DWORD PTR _vAveNormal$2[ebp+ecx], xmm0

; 517  : 				VectorNormalizeFast( vAveNormal );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	movss	xmm0, DWORD PTR _vAveNormal$2[ebp+ecx]
	mulss	xmm0, DWORD PTR _vAveNormal$2[ebp+eax]
	mov	ecx, 4
	shl	ecx, 0
	mov	edx, 4
	shl	edx, 0
	movss	xmm1, DWORD PTR _vAveNormal$2[ebp+ecx]
	mulss	xmm1, DWORD PTR _vAveNormal$2[ebp+edx]
	addss	xmm0, xmm1
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	movss	xmm1, DWORD PTR _vAveNormal$2[ebp+eax]
	mulss	xmm1, DWORD PTR _vAveNormal$2[ebp+ecx]
	addss	xmm0, xmm1
	push	ecx
	movss	DWORD PTR [esp], xmm0
	call	_rsqrt
	add	esp, 4
	fstp	DWORD PTR _ilength$1[ebp]
	mov	eax, 4
	imul	ecx, eax, 0
	movss	xmm0, DWORD PTR _vAveNormal$2[ebp+ecx]
	mulss	xmm0, DWORD PTR _ilength$1[ebp]
	mov	edx, 4
	imul	eax, edx, 0
	movss	DWORD PTR _vAveNormal$2[ebp+eax], xmm0
	mov	eax, 4
	shl	eax, 0
	movss	xmm0, DWORD PTR _vAveNormal$2[ebp+eax]
	mulss	xmm0, DWORD PTR _ilength$1[ebp]
	mov	ecx, 4
	shl	ecx, 0
	movss	DWORD PTR _vAveNormal$2[ebp+ecx], xmm0
	mov	eax, 4
	shl	eax, 1
	movss	xmm0, DWORD PTR _vAveNormal$2[ebp+eax]
	mulss	xmm0, DWORD PTR _ilength$1[ebp]
	mov	ecx, 4
	shl	ecx, 1
	movss	DWORD PTR _vAveNormal$2[ebp+ecx], xmm0

; 518  : 			}

	jmp	SHORT $LN18@R_DrawSegs
$LN17@R_DrawSegs:

; 519  : 			else
; 520  : 			{
; 521  : 				VectorCopy( vNormal, vAveNormal );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	mov	ecx, DWORD PTR _vNormal$3[ebp+ecx]
	mov	DWORD PTR _vAveNormal$2[ebp+eax], ecx
	mov	edx, 4
	shl	edx, 0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, DWORD PTR _vNormal$3[ebp+edx]
	mov	DWORD PTR _vAveNormal$2[ebp+eax], ecx
	mov	edx, 4
	shl	edx, 1
	mov	eax, 4
	shl	eax, 1
	mov	ecx, DWORD PTR _vNormal$3[ebp+edx]
	mov	DWORD PTR _vAveNormal$2[ebp+eax], ecx
$LN18@R_DrawSegs:

; 522  : 			}
; 523  : 
; 524  : 			VectorCopy( vNormal, vLastNormal );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	mov	ecx, DWORD PTR _vNormal$3[ebp+ecx]
	mov	DWORD PTR _vLastNormal$[ebp+eax], ecx
	mov	edx, 4
	shl	edx, 0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, DWORD PTR _vNormal$3[ebp+edx]
	mov	DWORD PTR _vLastNormal$[ebp+eax], ecx
	mov	edx, 4
	shl	edx, 1
	mov	eax, 4
	shl	eax, 1
	mov	ecx, DWORD PTR _vNormal$3[ebp+edx]
	mov	DWORD PTR _vLastNormal$[ebp+eax], ecx

; 525  : 
; 526  : 			// draw regular segment
; 527  : 			VectorMA( curSeg.pos, ( curSeg.width * 0.5f ), vAveNormal, vPoint1 );

	mov	eax, 4
	imul	ecx, eax, 0
	movss	xmm0, DWORD PTR _curSeg$[ebp+16]
	mulss	xmm0, DWORD PTR __real@3f000000
	mov	edx, 4
	imul	eax, edx, 0
	mulss	xmm0, DWORD PTR _vAveNormal$2[ebp+eax]
	addss	xmm0, DWORD PTR _curSeg$[ebp+ecx]
	mov	ecx, 4
	imul	edx, ecx, 0
	movss	DWORD PTR _vPoint1$7[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 0
	movss	xmm0, DWORD PTR _curSeg$[ebp+16]
	mulss	xmm0, DWORD PTR __real@3f000000
	mov	ecx, 4
	shl	ecx, 0
	mulss	xmm0, DWORD PTR _vAveNormal$2[ebp+ecx]
	addss	xmm0, DWORD PTR _curSeg$[ebp+eax]
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _vPoint1$7[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	movss	xmm0, DWORD PTR _curSeg$[ebp+16]
	mulss	xmm0, DWORD PTR __real@3f000000
	mov	ecx, 4
	shl	ecx, 1
	mulss	xmm0, DWORD PTR _vAveNormal$2[ebp+ecx]
	movss	xmm1, DWORD PTR _curSeg$[ebp+eax]
	addss	xmm1, xmm0
	movss	DWORD PTR tv474[ebp], xmm1
	mov	edx, 4
	shl	edx, 1
	movss	xmm0, DWORD PTR tv474[ebp]
	movss	DWORD PTR _vPoint1$7[ebp+edx], xmm0

; 528  : 			VectorMA( curSeg.pos, (-curSeg.width * 0.5f ), vAveNormal, vPoint2 );

	mov	eax, 4
	imul	ecx, eax, 0
	movss	xmm0, DWORD PTR _curSeg$[ebp+16]
	xorps	xmm0, DWORD PTR __xmm@80000000800000008000000080000000
	mulss	xmm0, DWORD PTR __real@3f000000
	mov	edx, 4
	imul	eax, edx, 0
	mulss	xmm0, DWORD PTR _vAveNormal$2[ebp+eax]
	addss	xmm0, DWORD PTR _curSeg$[ebp+ecx]
	mov	ecx, 4
	imul	edx, ecx, 0
	movss	DWORD PTR _vPoint2$6[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 0
	movss	xmm0, DWORD PTR _curSeg$[ebp+16]
	xorps	xmm0, DWORD PTR __xmm@80000000800000008000000080000000
	mulss	xmm0, DWORD PTR __real@3f000000
	mov	ecx, 4
	shl	ecx, 0
	mulss	xmm0, DWORD PTR _vAveNormal$2[ebp+ecx]
	addss	xmm0, DWORD PTR _curSeg$[ebp+eax]
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _vPoint2$6[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	movss	xmm0, DWORD PTR _curSeg$[ebp+16]
	xorps	xmm0, DWORD PTR __xmm@80000000800000008000000080000000
	mulss	xmm0, DWORD PTR __real@3f000000
	mov	ecx, 4
	shl	ecx, 1
	mulss	xmm0, DWORD PTR _vAveNormal$2[ebp+ecx]
	movss	xmm1, DWORD PTR _curSeg$[ebp+eax]
	addss	xmm1, xmm0
	movss	DWORD PTR tv510[ebp], xmm1
	mov	edx, 4
	shl	edx, 1
	movss	xmm0, DWORD PTR tv510[ebp]
	movss	DWORD PTR _vPoint2$6[ebp+edx], xmm0

; 529  : 
; 530  : 			pglTexCoord2f( 0.0f, curSeg.texcoord );

	push	ecx
	movss	xmm0, DWORD PTR _curSeg$[ebp+12]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	xorps	xmm0, xmm0
	movss	DWORD PTR [esp], xmm0
	call	DWORD PTR _pglTexCoord2f

; 531  : 			TriBrightness( brightness );

	push	ecx
	movss	xmm0, DWORD PTR _brightness$[ebp]
	movss	DWORD PTR [esp], xmm0
	call	_TriBrightness
	add	esp, 4

; 532  : 			pglNormal3fv( vAveNormal );

	lea	eax, DWORD PTR _vAveNormal$2[ebp]
	push	eax
	call	DWORD PTR _pglNormal3fv

; 533  : 			pglVertex3fv( vPoint1 );

	lea	eax, DWORD PTR _vPoint1$7[ebp]
	push	eax
	call	DWORD PTR _pglVertex3fv

; 534  : 
; 535  : 			pglTexCoord2f( 1.0f, curSeg.texcoord );

	push	ecx
	movss	xmm0, DWORD PTR _curSeg$[ebp+12]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR __real@3f800000
	movss	DWORD PTR [esp], xmm0
	call	DWORD PTR _pglTexCoord2f

; 536  : 			TriBrightness( brightness );

	push	ecx
	movss	xmm0, DWORD PTR _brightness$[ebp]
	movss	DWORD PTR [esp], xmm0
	call	_TriBrightness
	add	esp, 4

; 537  : 			pglNormal3fv( vAveNormal );

	lea	eax, DWORD PTR _vAveNormal$2[ebp]
	push	eax
	call	DWORD PTR _pglNormal3fv

; 538  : 			pglVertex3fv( vPoint2 );

	lea	eax, DWORD PTR _vPoint2$6[ebp]
	push	eax
	call	DWORD PTR _pglVertex3fv
$LN16@R_DrawSegs:

; 539  : 		}
; 540  : 
; 541  : 		curSeg = nextSeg;

	mov	eax, DWORD PTR _nextSeg$8[ebp]
	mov	DWORD PTR _curSeg$[ebp], eax
	mov	ecx, DWORD PTR _nextSeg$8[ebp+4]
	mov	DWORD PTR _curSeg$[ebp+4], ecx
	mov	edx, DWORD PTR _nextSeg$8[ebp+8]
	mov	DWORD PTR _curSeg$[ebp+8], edx
	mov	eax, DWORD PTR _nextSeg$8[ebp+12]
	mov	DWORD PTR _curSeg$[ebp+12], eax
	mov	ecx, DWORD PTR _nextSeg$8[ebp+16]
	mov	DWORD PTR _curSeg$[ebp+16], ecx

; 542  : 		segs_drawn++;

	mov	eax, DWORD PTR _segs_drawn$[ebp]
	add	eax, 1
	mov	DWORD PTR _segs_drawn$[ebp], eax

; 543  : 
; 544  : 		if( FBitSet( flags, FBEAM_SHADEIN ) && FBitSet( flags, FBEAM_SHADEOUT ))

	mov	eax, DWORD PTR _flags$[ebp]
	and	eax, 64					; 00000040H
	je	SHORT $LN19@R_DrawSegs
	mov	eax, DWORD PTR _flags$[ebp]
	and	eax, 128				; 00000080H
	je	SHORT $LN19@R_DrawSegs

; 545  : 		{
; 546  : 			if( fraction < 0.5f ) brightness = fraction;

	movss	xmm0, DWORD PTR __real@3f000000
	comiss	xmm0, DWORD PTR _fraction$[ebp]
	jbe	SHORT $LN21@R_DrawSegs
	movss	xmm0, DWORD PTR _fraction$[ebp]
	movss	DWORD PTR _brightness$[ebp], xmm0
	jmp	SHORT $LN22@R_DrawSegs
$LN21@R_DrawSegs:

; 547  : 			else brightness = ( 1.0f - fraction );

	movss	xmm0, DWORD PTR __real@3f800000
	subss	xmm0, DWORD PTR _fraction$[ebp]
	movss	DWORD PTR _brightness$[ebp], xmm0
$LN22@R_DrawSegs:

; 548  : 		}

	jmp	SHORT $LN25@R_DrawSegs
$LN19@R_DrawSegs:

; 549  : 		else if( FBitSet( flags, FBEAM_SHADEIN ))

	mov	eax, DWORD PTR _flags$[ebp]
	and	eax, 64					; 00000040H
	je	SHORT $LN23@R_DrawSegs

; 550  : 		{
; 551  : 			brightness = fraction;

	movss	xmm0, DWORD PTR _fraction$[ebp]
	movss	DWORD PTR _brightness$[ebp], xmm0

; 552  : 		}

	jmp	SHORT $LN25@R_DrawSegs
$LN23@R_DrawSegs:

; 553  : 		else if( FBitSet( flags, FBEAM_SHADEOUT ))

	mov	eax, DWORD PTR _flags$[ebp]
	and	eax, 128				; 00000080H
	je	SHORT $LN25@R_DrawSegs

; 554  : 		{
; 555  : 			brightness = 1.0f - fraction;

	movss	xmm0, DWORD PTR __real@3f800000
	subss	xmm0, DWORD PTR _fraction$[ebp]
	movss	DWORD PTR _brightness$[ebp], xmm0
$LN25@R_DrawSegs:

; 556  : 		}
; 557  : 
; 558  :  		if( segs_drawn == total_segs )

	mov	eax, DWORD PTR _segs_drawn$[ebp]
	cmp	eax, DWORD PTR _total_segs$[ebp]
	jne	$LN26@R_DrawSegs

; 559  : 		{
; 560  : 			// draw the last segment
; 561  : 			VectorMA( curSeg.pos, ( curSeg.width * 0.5f ), vLastNormal, vPoint1 );

	mov	eax, 4
	imul	ecx, eax, 0
	movss	xmm0, DWORD PTR _curSeg$[ebp+16]
	mulss	xmm0, DWORD PTR __real@3f000000
	mov	edx, 4
	imul	eax, edx, 0
	mulss	xmm0, DWORD PTR _vLastNormal$[ebp+eax]
	addss	xmm0, DWORD PTR _curSeg$[ebp+ecx]
	mov	ecx, 4
	imul	edx, ecx, 0
	movss	DWORD PTR _vPoint1$7[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 0
	movss	xmm0, DWORD PTR _curSeg$[ebp+16]
	mulss	xmm0, DWORD PTR __real@3f000000
	mov	ecx, 4
	shl	ecx, 0
	mulss	xmm0, DWORD PTR _vLastNormal$[ebp+ecx]
	addss	xmm0, DWORD PTR _curSeg$[ebp+eax]
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _vPoint1$7[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	movss	xmm0, DWORD PTR _curSeg$[ebp+16]
	mulss	xmm0, DWORD PTR __real@3f000000
	mov	ecx, 4
	shl	ecx, 1
	mulss	xmm0, DWORD PTR _vLastNormal$[ebp+ecx]
	movss	xmm1, DWORD PTR _curSeg$[ebp+eax]
	addss	xmm1, xmm0
	movss	DWORD PTR tv567[ebp], xmm1
	mov	edx, 4
	shl	edx, 1
	movss	xmm0, DWORD PTR tv567[ebp]
	movss	DWORD PTR _vPoint1$7[ebp+edx], xmm0

; 562  : 			VectorMA( curSeg.pos, (-curSeg.width * 0.5f ), vLastNormal, vPoint2 );

	mov	eax, 4
	imul	ecx, eax, 0
	movss	xmm0, DWORD PTR _curSeg$[ebp+16]
	xorps	xmm0, DWORD PTR __xmm@80000000800000008000000080000000
	mulss	xmm0, DWORD PTR __real@3f000000
	mov	edx, 4
	imul	eax, edx, 0
	mulss	xmm0, DWORD PTR _vLastNormal$[ebp+eax]
	addss	xmm0, DWORD PTR _curSeg$[ebp+ecx]
	mov	ecx, 4
	imul	edx, ecx, 0
	movss	DWORD PTR _vPoint2$6[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 0
	movss	xmm0, DWORD PTR _curSeg$[ebp+16]
	xorps	xmm0, DWORD PTR __xmm@80000000800000008000000080000000
	mulss	xmm0, DWORD PTR __real@3f000000
	mov	ecx, 4
	shl	ecx, 0
	mulss	xmm0, DWORD PTR _vLastNormal$[ebp+ecx]
	addss	xmm0, DWORD PTR _curSeg$[ebp+eax]
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _vPoint2$6[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	movss	xmm0, DWORD PTR _curSeg$[ebp+16]
	xorps	xmm0, DWORD PTR __xmm@80000000800000008000000080000000
	mulss	xmm0, DWORD PTR __real@3f000000
	mov	ecx, 4
	shl	ecx, 1
	mulss	xmm0, DWORD PTR _vLastNormal$[ebp+ecx]
	movss	xmm1, DWORD PTR _curSeg$[ebp+eax]
	addss	xmm1, xmm0
	movss	DWORD PTR tv603[ebp], xmm1
	mov	edx, 4
	shl	edx, 1
	movss	xmm0, DWORD PTR tv603[ebp]
	movss	DWORD PTR _vPoint2$6[ebp+edx], xmm0

; 563  : 
; 564  : 			// specify the points.
; 565  : 			pglTexCoord2f( 0.0f, curSeg.texcoord );

	push	ecx
	movss	xmm0, DWORD PTR _curSeg$[ebp+12]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	xorps	xmm0, xmm0
	movss	DWORD PTR [esp], xmm0
	call	DWORD PTR _pglTexCoord2f

; 566  : 			TriBrightness( brightness );

	push	ecx
	movss	xmm0, DWORD PTR _brightness$[ebp]
	movss	DWORD PTR [esp], xmm0
	call	_TriBrightness
	add	esp, 4

; 567  : 			pglNormal3fv( vLastNormal );

	lea	eax, DWORD PTR _vLastNormal$[ebp]
	push	eax
	call	DWORD PTR _pglNormal3fv

; 568  : 			pglVertex3fv( vPoint1 );

	lea	eax, DWORD PTR _vPoint1$7[ebp]
	push	eax
	call	DWORD PTR _pglVertex3fv

; 569  : 
; 570  : 			pglTexCoord2f( 1.0f, curSeg.texcoord );

	push	ecx
	movss	xmm0, DWORD PTR _curSeg$[ebp+12]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR __real@3f800000
	movss	DWORD PTR [esp], xmm0
	call	DWORD PTR _pglTexCoord2f

; 571  : 			TriBrightness( brightness );

	push	ecx
	movss	xmm0, DWORD PTR _brightness$[ebp]
	movss	DWORD PTR [esp], xmm0
	call	_TriBrightness
	add	esp, 4

; 572  : 			pglNormal3fv( vLastNormal );

	lea	eax, DWORD PTR _vLastNormal$[ebp]
	push	eax
	call	DWORD PTR _pglNormal3fv

; 573  : 			pglVertex3fv( vPoint2 );

	lea	eax, DWORD PTR _vPoint2$6[ebp]
	push	eax
	call	DWORD PTR _pglVertex3fv
$LN26@R_DrawSegs:

; 574  : 		}
; 575  : 
; 576  : 		vLast += vStep; // Advance texture scroll (v axis only)

	movss	xmm0, DWORD PTR _vLast$[ebp]
	addss	xmm0, DWORD PTR _vStep$[ebp]
	movss	DWORD PTR _vLast$[ebp], xmm0

; 577  : 		noiseIndex += noiseStep;

	mov	eax, DWORD PTR _noiseIndex$[ebp]
	add	eax, DWORD PTR _noiseStep$[ebp]
	mov	DWORD PTR _noiseIndex$[ebp], eax

; 578  : 	}

	jmp	$LN2@R_DrawSegs
$LN3@R_DrawSegs:

; 579  : }

	pop	edi
	pop	esi
	pop	ebx
	mov	ecx, DWORD PTR __$ArrayPad$[ebp]
	xor	ecx, ebp
	call	@__security_check_cookie@4
	mov	esp, ebp
	pop	ebp
	ret	0
_R_DrawSegs ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File D:\DevDragon\XashFE\dev\src\engine\client\gl_beams.c
;	COMDAT _R_BeamCull
_TEXT	SEGMENT
_i$ = -32						; size = 4
_maxs$ = -28						; size = 12
_mins$ = -16						; size = 12
__$ArrayPad$ = -4					; size = 4
_start$ = 8						; size = 4
_end$ = 12						; size = 4
_pvsOnly$ = 16						; size = 4
_R_BeamCull PROC					; COMDAT

; 344  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 96					; 00000060H
	mov	eax, DWORD PTR ___security_cookie
	xor	eax, ebp
	mov	DWORD PTR __$ArrayPad$[ebp], eax
	push	ebx
	push	esi
	push	edi

; 345  : 	vec3_t	mins, maxs;
; 346  : 	int	i;
; 347  : 
; 348  : 	// FarEast: Restored mirror support
; 349  : 	if (RI.currentbeam != NULL)

	cmp	DWORD PTR _RI+36, 0
	je	SHORT $LN7@R_BeamCull

; 350  : 	{
; 351  : 		// don't reflect this entity in mirrors
; 352  : 		if (FBitSet(RI.currentbeam->curstate.effects, EF_NOREFLECT) && FBitSet(RI.params, RP_MIRRORVIEW))

	mov	eax, DWORD PTR _RI+36
	mov	ecx, DWORD PTR [eax+972]
	and	ecx, 16777216				; 01000000H
	je	SHORT $LN6@R_BeamCull
	mov	eax, DWORD PTR _RI
	and	eax, 1
	je	SHORT $LN6@R_BeamCull

; 353  : 			return true;

	mov	eax, 1
	jmp	$LN1@R_BeamCull
$LN6@R_BeamCull:

; 354  : 
; 355  : 		// draw only in mirrors
; 356  : 		if (FBitSet(RI.currentbeam->curstate.effects, EF_REFLECTONLY) && !FBitSet(RI.params, RP_MIRRORVIEW))

	mov	eax, DWORD PTR _RI+36
	mov	ecx, DWORD PTR [eax+972]
	and	ecx, 33554432				; 02000000H
	je	SHORT $LN7@R_BeamCull
	mov	eax, DWORD PTR _RI
	and	eax, 1
	jne	SHORT $LN7@R_BeamCull

; 357  : 			return true;

	mov	eax, 1
	jmp	$LN1@R_BeamCull
$LN7@R_BeamCull:

; 358  : 	}
; 359  : 
; 360  : 	for( i = 0; i < 3; i++ )

	mov	DWORD PTR _i$[ebp], 0
	jmp	SHORT $LN4@R_BeamCull
$LN2@R_BeamCull:
	mov	eax, DWORD PTR _i$[ebp]
	add	eax, 1
	mov	DWORD PTR _i$[ebp], eax
$LN4@R_BeamCull:
	cmp	DWORD PTR _i$[ebp], 3
	jge	$LN3@R_BeamCull

; 361  : 	{
; 362  : 		if( start[i] < end[i] )

	mov	eax, DWORD PTR _i$[ebp]
	mov	ecx, DWORD PTR _end$[ebp]
	mov	edx, DWORD PTR _i$[ebp]
	mov	esi, DWORD PTR _start$[ebp]
	movss	xmm0, DWORD PTR [ecx+eax*4]
	comiss	xmm0, DWORD PTR [esi+edx*4]
	jbe	SHORT $LN8@R_BeamCull

; 363  : 		{
; 364  : 			mins[i] = start[i];

	mov	eax, DWORD PTR _i$[ebp]
	mov	ecx, DWORD PTR _i$[ebp]
	mov	edx, DWORD PTR _start$[ebp]
	mov	ecx, DWORD PTR [edx+ecx*4]
	mov	DWORD PTR _mins$[ebp+eax*4], ecx

; 365  : 			maxs[i] = end[i];

	mov	eax, DWORD PTR _i$[ebp]
	mov	ecx, DWORD PTR _i$[ebp]
	mov	edx, DWORD PTR _end$[ebp]
	mov	ecx, DWORD PTR [edx+ecx*4]
	mov	DWORD PTR _maxs$[ebp+eax*4], ecx

; 366  : 		}

	jmp	SHORT $LN9@R_BeamCull
$LN8@R_BeamCull:

; 367  : 		else
; 368  : 		{
; 369  : 			mins[i] = end[i];

	mov	eax, DWORD PTR _i$[ebp]
	mov	ecx, DWORD PTR _i$[ebp]
	mov	edx, DWORD PTR _end$[ebp]
	mov	ecx, DWORD PTR [edx+ecx*4]
	mov	DWORD PTR _mins$[ebp+eax*4], ecx

; 370  : 			maxs[i] = start[i];

	mov	eax, DWORD PTR _i$[ebp]
	mov	ecx, DWORD PTR _i$[ebp]
	mov	edx, DWORD PTR _start$[ebp]
	mov	ecx, DWORD PTR [edx+ecx*4]
	mov	DWORD PTR _maxs$[ebp+eax*4], ecx
$LN9@R_BeamCull:

; 371  : 		}
; 372  : 		
; 373  : 		// don't let it be zero sized
; 374  : 		if( mins[i] == maxs[i] )

	mov	eax, DWORD PTR _i$[ebp]
	mov	ecx, DWORD PTR _i$[ebp]
	movss	xmm0, DWORD PTR _mins$[ebp+eax*4]
	ucomiss	xmm0, DWORD PTR _maxs$[ebp+ecx*4]
	lahf
	test	ah, 68					; 00000044H
	jp	SHORT $LN10@R_BeamCull

; 375  : 			maxs[i] += 1.0f;

	mov	eax, DWORD PTR _i$[ebp]
	movss	xmm0, DWORD PTR _maxs$[ebp+eax*4]
	addss	xmm0, DWORD PTR __real@3f800000
	mov	ecx, DWORD PTR _i$[ebp]
	movss	DWORD PTR _maxs$[ebp+ecx*4], xmm0
$LN10@R_BeamCull:

; 376  : 	}

	jmp	$LN2@R_BeamCull
$LN3@R_BeamCull:

; 377  : 
; 378  : 	// check bbox
; 379  : 	if( Mod_BoxVisible( mins, maxs, Mod_GetCurrentVis( )))

	call	_Mod_GetCurrentVis
	push	eax
	lea	eax, DWORD PTR _maxs$[ebp]
	push	eax
	lea	ecx, DWORD PTR _mins$[ebp]
	push	ecx
	call	_Mod_BoxVisible
	add	esp, 12					; 0000000cH
	test	eax, eax
	je	SHORT $LN12@R_BeamCull

; 380  : 	{
; 381  : 		if( pvsOnly || !R_CullBox( mins, maxs ))

	cmp	DWORD PTR _pvsOnly$[ebp], 0
	jne	SHORT $LN13@R_BeamCull
	lea	eax, DWORD PTR _maxs$[ebp]
	push	eax
	lea	ecx, DWORD PTR _mins$[ebp]
	push	ecx
	call	_R_CullBox
	add	esp, 8
	test	eax, eax
	jne	SHORT $LN12@R_BeamCull
$LN13@R_BeamCull:

; 382  : 		{
; 383  : 			// beam is visible
; 384  : 			return false;	

	xor	eax, eax
	jmp	SHORT $LN1@R_BeamCull
$LN12@R_BeamCull:

; 385  : 		}
; 386  : 	}
; 387  : 
; 388  : 	// beam is culled
; 389  : 	return true;

	mov	eax, 1
$LN1@R_BeamCull:

; 390  : }

	pop	edi
	pop	esi
	pop	ebx
	mov	ecx, DWORD PTR __$ArrayPad$[ebp]
	xor	ecx, ebp
	call	@__security_check_cookie@4
	mov	esp, ebp
	pop	ebp
	ret	0
_R_BeamCull ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File D:\DevDragon\XashFE\dev\src\engine\client\gl_beams.c
;	COMDAT _R_BeamRecomputeEndpoints
_TEXT	SEGMENT
_end$1 = -8						; size = 4
_start$2 = -4						; size = 4
_pbeam$ = 8						; size = 4
_R_BeamRecomputeEndpoints PROC				; COMDAT

; 292  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 72					; 00000048H
	push	ebx
	push	esi
	push	edi

; 293  : 	if( FBitSet( pbeam->flags, FBEAM_STARTENTITY ))

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+8]
	and	ecx, 1
	je	SHORT $LN6@R_BeamReco

; 294  : 	{
; 295  : 		cl_entity_t *start = R_BeamGetEntity( pbeam->startEntity );

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+100]
	push	ecx
	call	_R_BeamGetEntity
	add	esp, 4
	mov	DWORD PTR _start$2[ebp], eax

; 296  : 
; 297  : 		if( R_BeamComputePoint( pbeam->startEntity, pbeam->source ))

	mov	eax, DWORD PTR _pbeam$[ebp]
	add	eax, 12					; 0000000cH
	push	eax
	mov	ecx, DWORD PTR _pbeam$[ebp]
	mov	edx, DWORD PTR [ecx+100]
	push	edx
	call	_R_BeamComputePoint
	add	esp, 8
	test	eax, eax
	je	SHORT $LN3@R_BeamReco

; 298  : 		{
; 299  : 			if( !pbeam->pFollowModel )

	mov	eax, DWORD PTR _pbeam$[ebp]
	cmp	DWORD PTR [eax+116], 0
	jne	SHORT $LN5@R_BeamReco

; 300  : 				pbeam->pFollowModel = start->model;

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR _start$2[ebp]
	mov	edx, DWORD PTR [ecx+3300]
	mov	DWORD PTR [eax+116], edx
$LN5@R_BeamReco:

; 301  : 			SetBits( pbeam->flags, FBEAM_STARTVISIBLE );

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+8]
	or	ecx, 268435456				; 10000000H
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	DWORD PTR [edx+8], ecx

; 302  : 		}

	jmp	SHORT $LN6@R_BeamReco
$LN3@R_BeamReco:

; 303  : 		else if( !FBitSet( pbeam->flags, FBEAM_FOREVER ))

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+8]
	and	ecx, -2147483648			; 80000000H
	jne	SHORT $LN6@R_BeamReco

; 304  : 		{
; 305  : 			ClearBits( pbeam->flags, FBEAM_STARTENTITY );

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+8]
	and	ecx, -2					; fffffffeH
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	DWORD PTR [edx+8], ecx
$LN6@R_BeamReco:

; 306  : 		}
; 307  : 	}
; 308  : 
; 309  : 	if( FBitSet( pbeam->flags, FBEAM_ENDENTITY ))

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+8]
	and	ecx, 2
	je	$LN12@R_BeamReco

; 310  : 	{
; 311  : 		cl_entity_t *end = R_BeamGetEntity( pbeam->endEntity );

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+104]
	push	ecx
	call	_R_BeamGetEntity
	add	esp, 4
	mov	DWORD PTR _end$1[ebp], eax

; 312  : 
; 313  : 		if( R_BeamComputePoint( pbeam->endEntity, pbeam->target ))

	mov	eax, DWORD PTR _pbeam$[ebp]
	add	eax, 24					; 00000018H
	push	eax
	mov	ecx, DWORD PTR _pbeam$[ebp]
	mov	edx, DWORD PTR [ecx+104]
	push	edx
	call	_R_BeamComputePoint
	add	esp, 8
	test	eax, eax
	je	SHORT $LN8@R_BeamReco

; 314  : 		{
; 315  : 			if( !pbeam->pFollowModel )

	mov	eax, DWORD PTR _pbeam$[ebp]
	cmp	DWORD PTR [eax+116], 0
	jne	SHORT $LN10@R_BeamReco

; 316  : 				pbeam->pFollowModel = end->model;

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR _end$1[ebp]
	mov	edx, DWORD PTR [ecx+3300]
	mov	DWORD PTR [eax+116], edx
$LN10@R_BeamReco:

; 317  : 			SetBits( pbeam->flags, FBEAM_ENDVISIBLE );

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+8]
	or	ecx, 536870912				; 20000000H
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	DWORD PTR [edx+8], ecx

; 318  : 		}

	jmp	SHORT $LN12@R_BeamReco
$LN8@R_BeamReco:

; 319  : 		else if( !FBitSet( pbeam->flags, FBEAM_FOREVER ))

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+8]
	and	ecx, -2147483648			; 80000000H
	jne	SHORT $LN11@R_BeamReco

; 320  : 		{
; 321  : 			ClearBits( pbeam->flags, FBEAM_ENDENTITY );

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+8]
	and	ecx, -3					; fffffffdH
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	DWORD PTR [edx+8], ecx

; 322  : 			pbeam->die = cl.time;

	cvtsd2ss xmm0, QWORD PTR _cl+2167640
	mov	eax, DWORD PTR _pbeam$[ebp]
	movss	DWORD PTR [eax+56], xmm0

; 323  : 			return false;

	xor	eax, eax
	jmp	SHORT $LN1@R_BeamReco

; 324  : 		}

	jmp	SHORT $LN12@R_BeamReco
$LN11@R_BeamReco:

; 325  : 		else
; 326  : 		{
; 327  : 			return false;

	xor	eax, eax
	jmp	SHORT $LN1@R_BeamReco
$LN12@R_BeamReco:

; 328  : 		}
; 329  : 	}
; 330  : 
; 331  : 	if( FBitSet( pbeam->flags, FBEAM_STARTENTITY ) && !FBitSet( pbeam->flags, FBEAM_STARTVISIBLE ))

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+8]
	and	ecx, 1
	je	SHORT $LN13@R_BeamReco
	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+8]
	and	ecx, 268435456				; 10000000H
	jne	SHORT $LN13@R_BeamReco

; 332  : 		return false;

	xor	eax, eax
	jmp	SHORT $LN1@R_BeamReco
$LN13@R_BeamReco:

; 333  : 	return true;

	mov	eax, 1
$LN1@R_BeamReco:

; 334  : }

	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
_R_BeamRecomputeEndpoints ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File D:\DevDragon\XashFE\dev\src\engine\client\gl_beams.c
;	COMDAT _R_BeamComputePoint
_TEXT	SEGMENT
_attach$ = -8						; size = 4
_ent$ = -4						; size = 4
_beamEnt$ = 8						; size = 4
_pt$ = 12						; size = 4
_R_BeamComputePoint PROC				; COMDAT

; 257  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 72					; 00000048H
	push	ebx
	push	esi
	push	edi

; 258  : 	cl_entity_t	*ent;
; 259  : 	int		attach;
; 260  : 
; 261  : 	ent = R_BeamGetEntity( beamEnt );

	mov	eax, DWORD PTR _beamEnt$[ebp]
	push	eax
	call	_R_BeamGetEntity
	add	esp, 4
	mov	DWORD PTR _ent$[ebp], eax

; 262  : 
; 263  : 	if( beamEnt < 0 )

	cmp	DWORD PTR _beamEnt$[ebp], 0
	jge	SHORT $LN2@R_BeamComp

; 264  : 		attach = BEAMENT_ATTACHMENT( -beamEnt );

	mov	eax, DWORD PTR _beamEnt$[ebp]
	neg	eax
	sar	eax, 12					; 0000000cH
	and	eax, 15					; 0000000fH
	mov	DWORD PTR _attach$[ebp], eax
	jmp	SHORT $LN3@R_BeamComp
$LN2@R_BeamComp:

; 265  : 	else attach = BEAMENT_ATTACHMENT( beamEnt );

	mov	eax, DWORD PTR _beamEnt$[ebp]
	sar	eax, 12					; 0000000cH
	and	eax, 15					; 0000000fH
	mov	DWORD PTR _attach$[ebp], eax
$LN3@R_BeamComp:

; 266  : 
; 267  : 	if( !ent )

	cmp	DWORD PTR _ent$[ebp], 0
	jne	SHORT $LN4@R_BeamComp

; 268  : 	{
; 269  : 		Con_DPrintf( S_ERROR "R_BeamComputePoint: invalid entity %i\n", BEAMENT_ENTITY( beamEnt ));

	mov	eax, DWORD PTR _beamEnt$[ebp]
	and	eax, 4095				; 00000fffH
	push	eax
	push	OFFSET ??_C@_0DC@BCGAOLBG@?$FO1Error?3?$FO7?5R_BeamComputePoint?3?5@
	call	_Con_DPrintf
	add	esp, 8

; 270  : 		VectorClear( pt );

	mov	eax, 4
	shl	eax, 1
	mov	ecx, DWORD PTR _pt$[ebp]
	xorps	xmm0, xmm0
	movss	DWORD PTR [ecx+eax], xmm0
	mov	edx, 4
	shl	edx, 0
	mov	eax, DWORD PTR _pt$[ebp]
	xorps	xmm0, xmm0
	movss	DWORD PTR [eax+edx], xmm0
	mov	ecx, 4
	imul	edx, ecx, 0
	mov	eax, DWORD PTR _pt$[ebp]
	xorps	xmm0, xmm0
	movss	DWORD PTR [eax+edx], xmm0

; 271  : 		return false;

	xor	eax, eax
	jmp	$LN1@R_BeamComp
$LN4@R_BeamComp:

; 272  : 	}
; 273  : 
; 274  : 	// get attachment
; 275  : 	if( attach > 0 )

	cmp	DWORD PTR _attach$[ebp], 0
	jle	$LN5@R_BeamComp

; 276  : 		VectorCopy( ent->attachment[attach - 1], pt );

	mov	eax, DWORD PTR _attach$[ebp]
	sub	eax, 1
	imul	ecx, eax, 12
	mov	edx, DWORD PTR _ent$[ebp]
	lea	eax, DWORD PTR [edx+ecx+3248]
	mov	ecx, 4
	imul	edx, ecx, 0
	mov	ecx, 4
	imul	ecx, ecx, 0
	mov	esi, DWORD PTR _pt$[ebp]
	mov	edx, DWORD PTR [eax+edx]
	mov	DWORD PTR [esi+ecx], edx
	mov	eax, DWORD PTR _attach$[ebp]
	sub	eax, 1
	imul	ecx, eax, 12
	mov	edx, DWORD PTR _ent$[ebp]
	lea	eax, DWORD PTR [edx+ecx+3248]
	mov	ecx, 4
	shl	ecx, 0
	mov	edx, 4
	shl	edx, 0
	mov	esi, DWORD PTR _pt$[ebp]
	mov	eax, DWORD PTR [eax+ecx]
	mov	DWORD PTR [esi+edx], eax
	mov	ecx, DWORD PTR _attach$[ebp]
	sub	ecx, 1
	imul	edx, ecx, 12
	mov	eax, DWORD PTR _ent$[ebp]
	lea	ecx, DWORD PTR [eax+edx+3248]
	mov	edx, 4
	shl	edx, 1
	mov	eax, 4
	shl	eax, 1
	mov	esi, DWORD PTR _pt$[ebp]
	mov	ecx, DWORD PTR [ecx+edx]
	mov	DWORD PTR [esi+eax], ecx
	jmp	$LN8@R_BeamComp
$LN5@R_BeamComp:

; 277  : 	else if(( ent->index - 1 ) == cl.playernum )

	mov	eax, DWORD PTR _ent$[ebp]
	mov	ecx, DWORD PTR [eax]
	sub	ecx, 1
	cmp	ecx, DWORD PTR _cl+2213000
	jne	SHORT $LN7@R_BeamComp

; 278  : 		VectorCopy( cl.simorg, pt );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	mov	edx, DWORD PTR _pt$[ebp]
	mov	ecx, DWORD PTR _cl[ecx+2212976]
	mov	DWORD PTR [edx+eax], ecx
	mov	edx, 4
	shl	edx, 0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, DWORD PTR _pt$[ebp]
	mov	edx, DWORD PTR _cl[edx+2212976]
	mov	DWORD PTR [ecx+eax], edx
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	mov	edx, DWORD PTR _pt$[ebp]
	mov	eax, DWORD PTR _cl[eax+2212976]
	mov	DWORD PTR [edx+ecx], eax
	jmp	SHORT $LN8@R_BeamComp
$LN7@R_BeamComp:

; 279  : 	else VectorCopy( ent->origin, pt );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	mov	edx, DWORD PTR _pt$[ebp]
	mov	esi, DWORD PTR _ent$[ebp]
	mov	ecx, DWORD PTR [esi+ecx+3224]
	mov	DWORD PTR [edx+eax], ecx
	mov	edx, 4
	shl	edx, 0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, DWORD PTR _pt$[ebp]
	mov	esi, DWORD PTR _ent$[ebp]
	mov	edx, DWORD PTR [esi+edx+3224]
	mov	DWORD PTR [ecx+eax], edx
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	mov	edx, DWORD PTR _pt$[ebp]
	mov	esi, DWORD PTR _ent$[ebp]
	mov	eax, DWORD PTR [esi+eax+3224]
	mov	DWORD PTR [edx+ecx], eax
$LN8@R_BeamComp:

; 280  : 
; 281  : 	return true;

	mov	eax, 1
$LN1@R_BeamComp:

; 282  : }

	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
_R_BeamComputePoint ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File D:\DevDragon\XashFE\dev\src\engine\client\gl_beams.c
;	COMDAT _R_BeamGetEntity
_TEXT	SEGMENT
_index$ = 8						; size = 4
_R_BeamGetEntity PROC					; COMDAT

; 243  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 64					; 00000040H
	push	ebx
	push	esi
	push	edi

; 244  : 	if( index < 0 )

	cmp	DWORD PTR _index$[ebp], 0
	jge	SHORT $LN2@R_BeamGetE

; 245  : 		return clgame.dllFuncs.pfnGetUserEntity( BEAMENT_ENTITY( -index ));

	mov	eax, DWORD PTR _index$[ebp]
	neg	eax
	and	eax, 4095				; 00000fffH
	push	eax
	call	DWORD PTR _clgame+148
	add	esp, 4
	jmp	SHORT $LN1@R_BeamGetE
$LN2@R_BeamGetE:

; 246  : 	return CL_GetEntityByIndex( BEAMENT_ENTITY( index ));

	mov	eax, DWORD PTR _index$[ebp]
	and	eax, 4095				; 00000fffH
	push	eax
	call	_CL_GetEntityByIndex
	add	esp, 4
$LN1@R_BeamGetE:

; 247  : }

	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
_R_BeamGetEntity ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File D:\DevDragon\XashFE\dev\src\engine\client\gl_beams.c
;	COMDAT _R_BeamSetAttributes
_TEXT	SEGMENT
_pbeam$ = 8						; size = 4
_r$ = 12						; size = 4
_g$ = 16						; size = 4
_b$ = 20						; size = 4
_framerate$ = 24					; size = 4
_startFrame$ = 28					; size = 4
_R_BeamSetAttributes PROC				; COMDAT

; 204  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 64					; 00000040H
	push	ebx
	push	esi
	push	edi

; 205  : 	pbeam->frame = (float)startFrame;

	cvtsi2ss xmm0, DWORD PTR _startFrame$[ebp]
	mov	eax, DWORD PTR _pbeam$[ebp]
	movss	DWORD PTR [eax+92], xmm0

; 206  : 	pbeam->frameRate = framerate;

	mov	eax, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR _framerate$[ebp]
	movss	DWORD PTR [eax+88], xmm0

; 207  : 	pbeam->r = r;

	mov	eax, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR _r$[ebp]
	movss	DWORD PTR [eax+68], xmm0

; 208  : 	pbeam->g = g;

	mov	eax, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR _g$[ebp]
	movss	DWORD PTR [eax+72], xmm0

; 209  : 	pbeam->b = b;

	mov	eax, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR _b$[ebp]
	movss	DWORD PTR [eax+76], xmm0

; 210  : }

	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
_R_BeamSetAttributes ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File D:\DevDragon\XashFE\dev\src\engine\client\gl_beams.c
;	COMDAT _R_BeamSetup
_TEXT	SEGMENT
tv359 = -76						; size = 8
tv337 = -76						; size = 8
tv158 = -72						; size = 4
_sprite$ = -4						; size = 4
_pbeam$ = 8						; size = 4
_start$ = 12						; size = 4
_end$ = 16						; size = 4
_modelIndex$ = 20					; size = 4
_life$ = 24						; size = 4
_width$ = 28						; size = 4
_amplitude$ = 32					; size = 4
_brightness$ = 36					; size = 4
_speed$ = 40						; size = 4
_R_BeamSetup PROC					; COMDAT

; 166  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 76					; 0000004cH
	push	ebx
	push	esi
	push	edi

; 167  : 	model_t	*sprite = CL_ModelHandle( modelIndex );

	mov	eax, DWORD PTR _modelIndex$[ebp]
	push	eax
	call	_CL_ModelHandle
	add	esp, 4
	mov	DWORD PTR _sprite$[ebp], eax

; 168  : 
; 169  : 	if( !sprite ) return;

	cmp	DWORD PTR _sprite$[ebp], 0
	jne	SHORT $LN2@R_BeamSetu
	jmp	$LN1@R_BeamSetu
$LN2@R_BeamSetu:

; 170  : 
; 171  : 	pbeam->type = BEAM_POINTS;

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	DWORD PTR [eax+4], 0

; 172  : 	pbeam->modelIndex = modelIndex;

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR _modelIndex$[ebp]
	mov	DWORD PTR [eax+108], ecx

; 173  : 	pbeam->frame = 0;

	mov	eax, DWORD PTR _pbeam$[ebp]
	xorps	xmm0, xmm0
	movss	DWORD PTR [eax+92], xmm0

; 174  : 	pbeam->frameRate = 0;

	mov	eax, DWORD PTR _pbeam$[ebp]
	xorps	xmm0, xmm0
	movss	DWORD PTR [eax+88], xmm0

; 175  : 	pbeam->frameCount = sprite->numframes;

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR _sprite$[ebp]
	mov	edx, DWORD PTR [ecx+72]
	mov	DWORD PTR [eax+112], edx

; 176  : 
; 177  : 	VectorCopy( start, pbeam->source );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	esi, DWORD PTR _start$[ebp]
	mov	ecx, DWORD PTR [esi+ecx]
	mov	DWORD PTR [edx+eax+12], ecx
	mov	edx, 4
	shl	edx, 0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, DWORD PTR _pbeam$[ebp]
	mov	esi, DWORD PTR _start$[ebp]
	mov	edx, DWORD PTR [esi+edx]
	mov	DWORD PTR [ecx+eax+12], edx
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	esi, DWORD PTR _start$[ebp]
	mov	eax, DWORD PTR [esi+eax]
	mov	DWORD PTR [edx+ecx+12], eax

; 178  : 	VectorCopy( end, pbeam->target );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	esi, DWORD PTR _end$[ebp]
	mov	ecx, DWORD PTR [esi+ecx]
	mov	DWORD PTR [edx+eax+24], ecx
	mov	edx, 4
	shl	edx, 0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, DWORD PTR _pbeam$[ebp]
	mov	esi, DWORD PTR _end$[ebp]
	mov	edx, DWORD PTR [esi+edx]
	mov	DWORD PTR [ecx+eax+24], edx
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	esi, DWORD PTR _end$[ebp]
	mov	eax, DWORD PTR [esi+eax]
	mov	DWORD PTR [edx+ecx+24], eax

; 179  : 	VectorSubtract( end, start, pbeam->delta );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	mov	edx, DWORD PTR _end$[ebp]
	mov	esi, DWORD PTR _start$[ebp]
	movss	xmm0, DWORD PTR [edx+ecx]
	subss	xmm0, DWORD PTR [esi+eax]
	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, DWORD PTR _pbeam$[ebp]
	movss	DWORD PTR [edx+ecx+36], xmm0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, 4
	shl	ecx, 0
	mov	edx, DWORD PTR _end$[ebp]
	mov	esi, DWORD PTR _start$[ebp]
	movss	xmm0, DWORD PTR [edx+eax]
	subss	xmm0, DWORD PTR [esi+ecx]
	mov	eax, 4
	shl	eax, 0
	mov	ecx, DWORD PTR _pbeam$[ebp]
	movss	DWORD PTR [ecx+eax+36], xmm0
	mov	edx, 4
	shl	edx, 1
	mov	eax, 4
	shl	eax, 1
	mov	ecx, DWORD PTR _end$[ebp]
	mov	esi, DWORD PTR _start$[ebp]
	movss	xmm0, DWORD PTR [ecx+edx]
	subss	xmm0, DWORD PTR [esi+eax]
	movss	DWORD PTR tv158[ebp], xmm0
	mov	edx, 4
	shl	edx, 1
	mov	eax, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR tv158[ebp]
	movss	DWORD PTR [eax+edx+36], xmm0

; 180  : 
; 181  : 	pbeam->freq = speed * cl.time;

	cvtss2sd xmm0, DWORD PTR _speed$[ebp]
	mulsd	xmm0, QWORD PTR _cl+2167640
	cvtsd2ss xmm0, xmm0
	mov	eax, DWORD PTR _pbeam$[ebp]
	movss	DWORD PTR [eax+52], xmm0

; 182  : 	pbeam->die = life + cl.time;

	cvtss2sd xmm0, DWORD PTR _life$[ebp]
	addsd	xmm0, QWORD PTR _cl+2167640
	cvtsd2ss xmm0, xmm0
	mov	eax, DWORD PTR _pbeam$[ebp]
	movss	DWORD PTR [eax+56], xmm0

; 183  : 	pbeam->amplitude = amplitude;

	mov	eax, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR _amplitude$[ebp]
	movss	DWORD PTR [eax+64], xmm0

; 184  : 	pbeam->brightness = brightness;

	mov	eax, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR _brightness$[ebp]
	movss	DWORD PTR [eax+80], xmm0

; 185  : 	pbeam->width = width;

	mov	eax, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR _width$[ebp]
	movss	DWORD PTR [eax+60], xmm0

; 186  : 	pbeam->speed = speed;

	mov	eax, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR _speed$[ebp]
	movss	DWORD PTR [eax+84], xmm0

; 187  : 
; 188  : 	if( amplitude >= 0.50f )

	movss	xmm0, DWORD PTR _amplitude$[ebp]
	comiss	xmm0, DWORD PTR __real@3f000000
	jb	$LN3@R_BeamSetu

; 189  : 		pbeam->segments = VectorLength( pbeam->delta ) * 0.25f + 3.0f;	// one per 4 pixels

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	esi, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR [edx+ecx+36]
	mulss	xmm0, DWORD PTR [esi+eax+36]
	mov	eax, 4
	shl	eax, 0
	mov	ecx, 4
	shl	ecx, 0
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	esi, DWORD PTR _pbeam$[ebp]
	movss	xmm1, DWORD PTR [edx+eax+36]
	mulss	xmm1, DWORD PTR [esi+ecx+36]
	addss	xmm0, xmm1
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	esi, DWORD PTR _pbeam$[ebp]
	movss	xmm1, DWORD PTR [edx+eax+36]
	mulss	xmm1, DWORD PTR [esi+ecx+36]
	addss	xmm0, xmm1
	cvtss2sd xmm0, xmm0
	sub	esp, 8
	movsd	QWORD PTR [esp], xmm0
	call	_sqrt
	add	esp, 8
	fstp	QWORD PTR tv337[ebp]
	movsd	xmm0, QWORD PTR tv337[ebp]
	mulsd	xmm0, QWORD PTR __real@3fd0000000000000
	addsd	xmm0, QWORD PTR __real@4008000000000000
	cvttsd2si eax, xmm0
	mov	ecx, DWORD PTR _pbeam$[ebp]
	mov	DWORD PTR [ecx+96], eax
	jmp	$LN4@R_BeamSetu
$LN3@R_BeamSetu:

; 190  : 	else pbeam->segments = VectorLength( pbeam->delta ) * 0.075f + 3.0f;		// one per 16 pixels

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	esi, DWORD PTR _pbeam$[ebp]
	movss	xmm0, DWORD PTR [edx+ecx+36]
	mulss	xmm0, DWORD PTR [esi+eax+36]
	mov	eax, 4
	shl	eax, 0
	mov	ecx, 4
	shl	ecx, 0
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	esi, DWORD PTR _pbeam$[ebp]
	movss	xmm1, DWORD PTR [edx+eax+36]
	mulss	xmm1, DWORD PTR [esi+ecx+36]
	addss	xmm0, xmm1
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	esi, DWORD PTR _pbeam$[ebp]
	movss	xmm1, DWORD PTR [edx+eax+36]
	mulss	xmm1, DWORD PTR [esi+ecx+36]
	addss	xmm0, xmm1
	cvtss2sd xmm0, xmm0
	sub	esp, 8
	movsd	QWORD PTR [esp], xmm0
	call	_sqrt
	add	esp, 8
	fstp	QWORD PTR tv359[ebp]
	movsd	xmm0, QWORD PTR tv359[ebp]
	mulsd	xmm0, QWORD PTR __real@3fb3333340000000
	addsd	xmm0, QWORD PTR __real@4008000000000000
	cvttsd2si eax, xmm0
	mov	ecx, DWORD PTR _pbeam$[ebp]
	mov	DWORD PTR [ecx+96], eax
$LN4@R_BeamSetu:

; 191  : 
; 192  : 	pbeam->pFollowModel = NULL;

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	DWORD PTR [eax+116], 0

; 193  : 	pbeam->flags = 0;

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	DWORD PTR [eax+8], 0
$LN1@R_BeamSetu:

; 194  : }

	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
_R_BeamSetup ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File D:\DevDragon\XashFE\dev\src\engine\client\gl_beams.c
;	COMDAT _R_BeamFree
_TEXT	SEGMENT
_pBeam$ = 8						; size = 4
_R_BeamFree PROC					; COMDAT

; 148  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 64					; 00000040H
	push	ebx
	push	esi
	push	edi

; 149  : 	// free particles that have died off.
; 150  : 	R_FreeDeadParticles( &pBeam->particles );

	mov	eax, DWORD PTR _pBeam$[ebp]
	add	eax, 120				; 00000078H
	push	eax
	call	_R_FreeDeadParticles
	add	esp, 4

; 151  : 
; 152  : 	// now link into free list;
; 153  : 	pBeam->next = cl_free_beams;

	mov	eax, DWORD PTR _pBeam$[ebp]
	mov	ecx, DWORD PTR _cl_free_beams
	mov	DWORD PTR [eax], ecx

; 154  : 	cl_free_beams = pBeam;

	mov	eax, DWORD PTR _pBeam$[ebp]
	mov	DWORD PTR _cl_free_beams, eax

; 155  : }

	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
_R_BeamFree ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File D:\DevDragon\XashFE\dev\src\engine\client\gl_beams.c
;	COMDAT _R_BeamAlloc
_TEXT	SEGMENT
_pBeam$ = -4						; size = 4
_R_BeamAlloc PROC					; COMDAT

; 125  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 68					; 00000044H
	push	ebx
	push	esi
	push	edi

; 126  : 	BEAM	*pBeam;
; 127  : 
; 128  : 	if( !cl_free_beams )

	cmp	DWORD PTR _cl_free_beams, 0
	jne	SHORT $LN2@R_BeamAllo

; 129  : 		return NULL;

	xor	eax, eax
	jmp	SHORT $LN1@R_BeamAllo
$LN2@R_BeamAllo:

; 130  : 
; 131  : 	pBeam = cl_free_beams;

	mov	eax, DWORD PTR _cl_free_beams
	mov	DWORD PTR _pBeam$[ebp], eax

; 132  : 	cl_free_beams = pBeam->next;

	mov	eax, DWORD PTR _pBeam$[ebp]
	mov	ecx, DWORD PTR [eax]
	mov	DWORD PTR _cl_free_beams, ecx

; 133  : 	memset( pBeam, 0, sizeof( *pBeam ));

	push	124					; 0000007cH
	push	0
	mov	eax, DWORD PTR _pBeam$[ebp]
	push	eax
	call	_memset
	add	esp, 12					; 0000000cH

; 134  : 	pBeam->next = cl_active_beams;

	mov	eax, DWORD PTR _pBeam$[ebp]
	mov	ecx, DWORD PTR _cl_active_beams
	mov	DWORD PTR [eax], ecx

; 135  : 	cl_active_beams = pBeam;

	mov	eax, DWORD PTR _pBeam$[ebp]
	mov	DWORD PTR _cl_active_beams, eax

; 136  : 	pBeam->die = cl.time;

	cvtsd2ss xmm0, QWORD PTR _cl+2167640
	mov	eax, DWORD PTR _pBeam$[ebp]
	movss	DWORD PTR [eax+56], xmm0

; 137  : 
; 138  : 	return pBeam;

	mov	eax, DWORD PTR _pBeam$[ebp]
$LN1@R_BeamAllo:

; 139  : }

	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
_R_BeamAlloc ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File D:\DevDragon\XashFE\dev\src\engine\client\gl_beams.c
;	COMDAT _R_BeamComputeNormal
_TEXT	SEGMENT
tv176 = -100						; size = 4
tv137 = -100						; size = 4
tv84 = -100						; size = 4
_ilength$1 = -32					; size = 4
_vDirToBeam$ = -28					; size = 12
_vTangentY$ = -16					; size = 12
__$ArrayPad$ = -4					; size = 4
_vStartPos$ = 8						; size = 4
_vNextPos$ = 12						; size = 4
_pNormal$ = 16						; size = 4
_R_BeamComputeNormal PROC				; COMDAT

; 96   : {

	push	ebp
	mov	ebp, esp
	sub	esp, 100				; 00000064H
	mov	eax, DWORD PTR ___security_cookie
	xor	eax, ebp
	mov	DWORD PTR __$ArrayPad$[ebp], eax
	push	ebx
	push	esi
	push	edi

; 97   : 	// vTangentY = line vector for beam
; 98   : 	vec3_t	vTangentY, vDirToBeam;
; 99   : 
; 100  : 	VectorSubtract( vStartPos, vNextPos, vTangentY );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	mov	edx, DWORD PTR _vStartPos$[ebp]
	mov	esi, DWORD PTR _vNextPos$[ebp]
	movss	xmm0, DWORD PTR [edx+ecx]
	subss	xmm0, DWORD PTR [esi+eax]
	mov	eax, 4
	imul	ecx, eax, 0
	movss	DWORD PTR _vTangentY$[ebp+ecx], xmm0
	mov	edx, 4
	shl	edx, 0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, DWORD PTR _vStartPos$[ebp]
	mov	esi, DWORD PTR _vNextPos$[ebp]
	movss	xmm0, DWORD PTR [ecx+edx]
	subss	xmm0, DWORD PTR [esi+eax]
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _vTangentY$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	mov	edx, DWORD PTR _vStartPos$[ebp]
	mov	esi, DWORD PTR _vNextPos$[ebp]
	movss	xmm0, DWORD PTR [edx+eax]
	subss	xmm0, DWORD PTR [esi+ecx]
	movss	DWORD PTR tv84[ebp], xmm0
	mov	eax, 4
	shl	eax, 1
	movss	xmm0, DWORD PTR tv84[ebp]
	movss	DWORD PTR _vTangentY$[ebp+eax], xmm0

; 101  : 
; 102  : 	// vDirToBeam = vector from viewer origin to beam
; 103  : 	VectorSubtract( vStartPos, RI.vieworg, vDirToBeam );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	mov	edx, DWORD PTR _vStartPos$[ebp]
	movss	xmm0, DWORD PTR [edx+ecx]
	subss	xmm0, DWORD PTR _RI[eax+200]
	mov	eax, 4
	imul	ecx, eax, 0
	movss	DWORD PTR _vDirToBeam$[ebp+ecx], xmm0
	mov	edx, 4
	shl	edx, 0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, DWORD PTR _vStartPos$[ebp]
	movss	xmm0, DWORD PTR [ecx+edx]
	subss	xmm0, DWORD PTR _RI[eax+200]
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _vDirToBeam$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	mov	edx, DWORD PTR _vStartPos$[ebp]
	movss	xmm0, DWORD PTR [edx+eax]
	subss	xmm0, DWORD PTR _RI[ecx+200]
	movss	DWORD PTR tv137[ebp], xmm0
	mov	eax, 4
	shl	eax, 1
	movss	xmm0, DWORD PTR tv137[ebp]
	movss	DWORD PTR _vDirToBeam$[ebp+eax], xmm0

; 104  : 
; 105  : 	// get a vector that is perpendicular to us and perpendicular to the beam.
; 106  : 	// this is used to fatten the beam.
; 107  : 	CrossProduct( vTangentY, vDirToBeam, pNormal );

	mov	eax, 4
	shl	eax, 0
	mov	ecx, 4
	shl	ecx, 1
	movss	xmm0, DWORD PTR _vTangentY$[ebp+eax]
	mulss	xmm0, DWORD PTR _vDirToBeam$[ebp+ecx]
	mov	edx, 4
	shl	edx, 1
	mov	eax, 4
	shl	eax, 0
	movss	xmm1, DWORD PTR _vTangentY$[ebp+edx]
	mulss	xmm1, DWORD PTR _vDirToBeam$[ebp+eax]
	subss	xmm0, xmm1
	mov	ecx, 4
	imul	edx, ecx, 0
	mov	eax, DWORD PTR _pNormal$[ebp]
	movss	DWORD PTR [eax+edx], xmm0
	mov	ecx, 4
	shl	ecx, 1
	mov	edx, 4
	imul	eax, edx, 0
	movss	xmm0, DWORD PTR _vTangentY$[ebp+ecx]
	mulss	xmm0, DWORD PTR _vDirToBeam$[ebp+eax]
	mov	ecx, 4
	imul	edx, ecx, 0
	mov	eax, 4
	shl	eax, 1
	movss	xmm1, DWORD PTR _vTangentY$[ebp+edx]
	mulss	xmm1, DWORD PTR _vDirToBeam$[ebp+eax]
	subss	xmm0, xmm1
	mov	ecx, 4
	shl	ecx, 0
	mov	edx, DWORD PTR _pNormal$[ebp]
	movss	DWORD PTR [edx+ecx], xmm0
	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	shl	edx, 0
	movss	xmm0, DWORD PTR _vTangentY$[ebp+ecx]
	mulss	xmm0, DWORD PTR _vDirToBeam$[ebp+edx]
	mov	eax, 4
	shl	eax, 0
	mov	ecx, 4
	imul	edx, ecx, 0
	movss	xmm1, DWORD PTR _vTangentY$[ebp+eax]
	mulss	xmm1, DWORD PTR _vDirToBeam$[ebp+edx]
	subss	xmm0, xmm1
	movss	DWORD PTR tv176[ebp], xmm0
	mov	eax, 4
	shl	eax, 1
	mov	ecx, DWORD PTR _pNormal$[ebp]
	movss	xmm0, DWORD PTR tv176[ebp]
	movss	DWORD PTR [ecx+eax], xmm0

; 108  : 	VectorNormalizeFast( pNormal );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	mov	edx, DWORD PTR _pNormal$[ebp]
	mov	esi, DWORD PTR _pNormal$[ebp]
	movss	xmm0, DWORD PTR [edx+ecx]
	mulss	xmm0, DWORD PTR [esi+eax]
	mov	eax, 4
	shl	eax, 0
	mov	ecx, 4
	shl	ecx, 0
	mov	edx, DWORD PTR _pNormal$[ebp]
	mov	esi, DWORD PTR _pNormal$[ebp]
	movss	xmm1, DWORD PTR [edx+eax]
	mulss	xmm1, DWORD PTR [esi+ecx]
	addss	xmm0, xmm1
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	mov	edx, DWORD PTR _pNormal$[ebp]
	mov	esi, DWORD PTR _pNormal$[ebp]
	movss	xmm1, DWORD PTR [edx+eax]
	mulss	xmm1, DWORD PTR [esi+ecx]
	addss	xmm0, xmm1
	push	ecx
	movss	DWORD PTR [esp], xmm0
	call	_rsqrt
	add	esp, 4
	fstp	DWORD PTR _ilength$1[ebp]
	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, DWORD PTR _pNormal$[ebp]
	movss	xmm0, DWORD PTR [edx+ecx]
	mulss	xmm0, DWORD PTR _ilength$1[ebp]
	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, DWORD PTR _pNormal$[ebp]
	movss	DWORD PTR [edx+ecx], xmm0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, DWORD PTR _pNormal$[ebp]
	movss	xmm0, DWORD PTR [ecx+eax]
	mulss	xmm0, DWORD PTR _ilength$1[ebp]
	mov	edx, 4
	shl	edx, 0
	mov	eax, DWORD PTR _pNormal$[ebp]
	movss	DWORD PTR [eax+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	mov	ecx, DWORD PTR _pNormal$[ebp]
	movss	xmm0, DWORD PTR [ecx+eax]
	mulss	xmm0, DWORD PTR _ilength$1[ebp]
	mov	edx, 4
	shl	edx, 1
	mov	eax, DWORD PTR _pNormal$[ebp]
	movss	DWORD PTR [eax+edx], xmm0

; 109  : }

	pop	edi
	pop	esi
	pop	ebx
	mov	ecx, DWORD PTR __$ArrayPad$[ebp]
	xor	ecx, ebp
	call	@__security_check_cookie@4
	mov	esp, ebp
	pop	ebp
	ret	0
_R_BeamComputeNormal ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File D:\DevDragon\XashFE\dev\src\engine\client\gl_beams.c
;	COMDAT _R_BeamComputePerpendicular
_TEXT	SEGMENT
tv173 = -92						; size = 4
_ilength$1 = -24					; size = 4
_ilength$2 = -20					; size = 4
_vecBeamCenter$ = -16					; size = 12
__$ArrayPad$ = -4					; size = 4
_vecBeamDelta$ = 8					; size = 4
_pPerp$ = 12						; size = 4
_R_BeamComputePerpendicular PROC			; COMDAT

; 86   : {

	push	ebp
	mov	ebp, esp
	sub	esp, 92					; 0000005cH
	mov	eax, DWORD PTR ___security_cookie
	xor	eax, ebp
	mov	DWORD PTR __$ArrayPad$[ebp], eax
	push	ebx
	push	esi
	push	edi

; 87   : 	// direction in worldspace of the center of the beam
; 88   : 	vec3_t	vecBeamCenter;
; 89   : 
; 90   : 	VectorNormalize2( vecBeamDelta, vecBeamCenter );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	mov	edx, DWORD PTR _vecBeamDelta$[ebp]
	mov	esi, DWORD PTR _vecBeamDelta$[ebp]
	movss	xmm0, DWORD PTR [edx+ecx]
	mulss	xmm0, DWORD PTR [esi+eax]
	mov	eax, 4
	shl	eax, 0
	mov	ecx, 4
	shl	ecx, 0
	mov	edx, DWORD PTR _vecBeamDelta$[ebp]
	mov	esi, DWORD PTR _vecBeamDelta$[ebp]
	movss	xmm1, DWORD PTR [edx+eax]
	mulss	xmm1, DWORD PTR [esi+ecx]
	addss	xmm0, xmm1
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	mov	edx, DWORD PTR _vecBeamDelta$[ebp]
	mov	esi, DWORD PTR _vecBeamDelta$[ebp]
	movss	xmm1, DWORD PTR [edx+eax]
	mulss	xmm1, DWORD PTR [esi+ecx]
	addss	xmm0, xmm1
	cvtss2sd xmm0, xmm0
	sub	esp, 8
	movsd	QWORD PTR [esp], xmm0
	call	_sqrt
	add	esp, 8
	fstp	DWORD PTR _ilength$2[ebp]
	movss	xmm0, DWORD PTR _ilength$2[ebp]
	ucomiss	xmm0, DWORD PTR __real@00000000
	lahf
	test	ah, 68					; 00000044H
	jnp	SHORT $LN2@R_BeamComp
	movss	xmm0, DWORD PTR __real@3f800000
	divss	xmm0, DWORD PTR _ilength$2[ebp]
	movss	DWORD PTR _ilength$2[ebp], xmm0
$LN2@R_BeamComp:
	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, DWORD PTR _vecBeamDelta$[ebp]
	movss	xmm0, DWORD PTR [edx+ecx]
	mulss	xmm0, DWORD PTR _ilength$2[ebp]
	mov	eax, 4
	imul	ecx, eax, 0
	movss	DWORD PTR _vecBeamCenter$[ebp+ecx], xmm0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, DWORD PTR _vecBeamDelta$[ebp]
	movss	xmm0, DWORD PTR [ecx+eax]
	mulss	xmm0, DWORD PTR _ilength$2[ebp]
	mov	edx, 4
	shl	edx, 0
	movss	DWORD PTR _vecBeamCenter$[ebp+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	mov	ecx, DWORD PTR _vecBeamDelta$[ebp]
	movss	xmm0, DWORD PTR [ecx+eax]
	mulss	xmm0, DWORD PTR _ilength$2[ebp]
	mov	edx, 4
	shl	edx, 1
	movss	DWORD PTR _vecBeamCenter$[ebp+edx], xmm0

; 91   : 	CrossProduct( RI.vforward, vecBeamCenter, pPerp );

	mov	eax, 4
	shl	eax, 0
	mov	ecx, 4
	shl	ecx, 1
	movss	xmm0, DWORD PTR _RI[eax+224]
	mulss	xmm0, DWORD PTR _vecBeamCenter$[ebp+ecx]
	mov	edx, 4
	shl	edx, 1
	mov	eax, 4
	shl	eax, 0
	movss	xmm1, DWORD PTR _RI[edx+224]
	mulss	xmm1, DWORD PTR _vecBeamCenter$[ebp+eax]
	subss	xmm0, xmm1
	mov	ecx, 4
	imul	edx, ecx, 0
	mov	eax, DWORD PTR _pPerp$[ebp]
	movss	DWORD PTR [eax+edx], xmm0
	mov	ecx, 4
	shl	ecx, 1
	mov	edx, 4
	imul	eax, edx, 0
	movss	xmm0, DWORD PTR _RI[ecx+224]
	mulss	xmm0, DWORD PTR _vecBeamCenter$[ebp+eax]
	mov	ecx, 4
	imul	edx, ecx, 0
	mov	eax, 4
	shl	eax, 1
	movss	xmm1, DWORD PTR _RI[edx+224]
	mulss	xmm1, DWORD PTR _vecBeamCenter$[ebp+eax]
	subss	xmm0, xmm1
	mov	ecx, 4
	shl	ecx, 0
	mov	edx, DWORD PTR _pPerp$[ebp]
	movss	DWORD PTR [edx+ecx], xmm0
	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	shl	edx, 0
	movss	xmm0, DWORD PTR _RI[ecx+224]
	mulss	xmm0, DWORD PTR _vecBeamCenter$[ebp+edx]
	mov	eax, 4
	shl	eax, 0
	mov	ecx, 4
	imul	edx, ecx, 0
	movss	xmm1, DWORD PTR _RI[eax+224]
	mulss	xmm1, DWORD PTR _vecBeamCenter$[ebp+edx]
	subss	xmm0, xmm1
	movss	DWORD PTR tv173[ebp], xmm0
	mov	eax, 4
	shl	eax, 1
	mov	ecx, DWORD PTR _pPerp$[ebp]
	movss	xmm0, DWORD PTR tv173[ebp]
	movss	DWORD PTR [ecx+eax], xmm0

; 92   : 	VectorNormalize( pPerp );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, 4
	imul	eax, edx, 0
	mov	edx, DWORD PTR _pPerp$[ebp]
	mov	esi, DWORD PTR _pPerp$[ebp]
	movss	xmm0, DWORD PTR [edx+ecx]
	mulss	xmm0, DWORD PTR [esi+eax]
	mov	eax, 4
	shl	eax, 0
	mov	ecx, 4
	shl	ecx, 0
	mov	edx, DWORD PTR _pPerp$[ebp]
	mov	esi, DWORD PTR _pPerp$[ebp]
	movss	xmm1, DWORD PTR [edx+eax]
	mulss	xmm1, DWORD PTR [esi+ecx]
	addss	xmm0, xmm1
	mov	eax, 4
	shl	eax, 1
	mov	ecx, 4
	shl	ecx, 1
	mov	edx, DWORD PTR _pPerp$[ebp]
	mov	esi, DWORD PTR _pPerp$[ebp]
	movss	xmm1, DWORD PTR [edx+eax]
	mulss	xmm1, DWORD PTR [esi+ecx]
	addss	xmm0, xmm1
	cvtss2sd xmm0, xmm0
	sub	esp, 8
	movsd	QWORD PTR [esp], xmm0
	call	_sqrt
	add	esp, 8
	fstp	DWORD PTR _ilength$1[ebp]
	movss	xmm0, DWORD PTR _ilength$1[ebp]
	ucomiss	xmm0, DWORD PTR __real@00000000
	lahf
	test	ah, 68					; 00000044H
	jnp	SHORT $LN3@R_BeamComp
	movss	xmm0, DWORD PTR __real@3f800000
	divss	xmm0, DWORD PTR _ilength$1[ebp]
	movss	DWORD PTR _ilength$1[ebp], xmm0
$LN3@R_BeamComp:
	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, DWORD PTR _pPerp$[ebp]
	movss	xmm0, DWORD PTR [edx+ecx]
	mulss	xmm0, DWORD PTR _ilength$1[ebp]
	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, DWORD PTR _pPerp$[ebp]
	movss	DWORD PTR [edx+ecx], xmm0
	mov	eax, 4
	shl	eax, 0
	mov	ecx, DWORD PTR _pPerp$[ebp]
	movss	xmm0, DWORD PTR [ecx+eax]
	mulss	xmm0, DWORD PTR _ilength$1[ebp]
	mov	edx, 4
	shl	edx, 0
	mov	eax, DWORD PTR _pPerp$[ebp]
	movss	DWORD PTR [eax+edx], xmm0
	mov	eax, 4
	shl	eax, 1
	mov	ecx, DWORD PTR _pPerp$[ebp]
	movss	xmm0, DWORD PTR [ecx+eax]
	mulss	xmm0, DWORD PTR _ilength$1[ebp]
	mov	edx, 4
	shl	edx, 1
	mov	eax, DWORD PTR _pPerp$[ebp]
	movss	DWORD PTR [eax+edx], xmm0

; 93   : }

	pop	edi
	pop	esi
	pop	ebx
	mov	ecx, DWORD PTR __$ArrayPad$[ebp]
	xor	ecx, ebp
	call	@__security_check_cookie@4
	mov	esp, ebp
	pop	ebp
	ret	0
_R_BeamComputePerpendicular ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File D:\DevDragon\XashFE\dev\src\engine\client\gl_beams.c
;	COMDAT _SineNoise
_TEXT	SEGMENT
_i$ = -12						; size = 4
_step$ = -8						; size = 4
_freq$ = -4						; size = 4
_noise$ = 8						; size = 4
_divs$ = 12						; size = 4
_SineNoise PROC						; COMDAT

; 66   : {

	push	ebp
	mov	ebp, esp
	sub	esp, 76					; 0000004cH
	push	ebx
	push	esi
	push	edi

; 67   : 	float	freq = 0;

	xorps	xmm0, xmm0
	movss	DWORD PTR _freq$[ebp], xmm0

; 68   : 	float	step = M_PI / (float)divs;

	cvtsi2ss xmm0, DWORD PTR _divs$[ebp]
	movss	xmm1, DWORD PTR __real@40490fdb
	divss	xmm1, xmm0
	movss	DWORD PTR _step$[ebp], xmm1

; 69   : 	int	i;
; 70   : 
; 71   : 	for( i = 0; i < divs; i++ )

	mov	DWORD PTR _i$[ebp], 0
	jmp	SHORT $LN4@SineNoise
$LN2@SineNoise:
	mov	eax, DWORD PTR _i$[ebp]
	add	eax, 1
	mov	DWORD PTR _i$[ebp], eax
$LN4@SineNoise:
	mov	eax, DWORD PTR _i$[ebp]
	cmp	eax, DWORD PTR _divs$[ebp]
	jge	SHORT $LN3@SineNoise

; 72   : 	{
; 73   : 		noise[i] = sin( freq );

	cvtss2sd xmm0, DWORD PTR _freq$[ebp]
	sub	esp, 8
	movsd	QWORD PTR [esp], xmm0
	call	_sin
	add	esp, 8
	mov	eax, DWORD PTR _i$[ebp]
	mov	ecx, DWORD PTR _noise$[ebp]
	fstp	DWORD PTR [ecx+eax*4]

; 74   : 		freq += step;

	movss	xmm0, DWORD PTR _freq$[ebp]
	addss	xmm0, DWORD PTR _step$[ebp]
	movss	DWORD PTR _freq$[ebp], xmm0

; 75   : 	}

	jmp	SHORT $LN2@SineNoise
$LN3@SineNoise:

; 76   : }

	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
_SineNoise ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File D:\DevDragon\XashFE\dev\src\engine\client\gl_beams.c
;	COMDAT _FracNoise
_TEXT	SEGMENT
tv133 = -80						; size = 4
tv144 = -76						; size = 4
tv142 = -72						; size = 4
_div2$ = -4						; size = 4
_noise$ = 8						; size = 4
_divs$ = 12						; size = 4
_FracNoise PROC						; COMDAT

; 49   : {

	push	ebp
	mov	ebp, esp
	sub	esp, 80					; 00000050H
	push	ebx
	push	esi
	push	edi

; 50   : 	int	div2;
; 51   : 	
; 52   : 	div2 = divs >> 1;

	mov	eax, DWORD PTR _divs$[ebp]
	sar	eax, 1
	mov	DWORD PTR _div2$[ebp], eax

; 53   : 	if( divs < 2 ) return;

	cmp	DWORD PTR _divs$[ebp], 2
	jge	SHORT $LN2@FracNoise
	jmp	$LN3@FracNoise
$LN2@FracNoise:

; 54   : 
; 55   : 	// noise is normalized to +/- scale
; 56   : 	noise[div2] = ( noise[0] + noise[divs] ) * 0.5f + divs * COM_RandomFloat( -0.125f, 0.125f );

	mov	eax, 4
	imul	ecx, eax, 0
	mov	edx, DWORD PTR _noise$[ebp]
	mov	eax, DWORD PTR _divs$[ebp]
	mov	esi, DWORD PTR _noise$[ebp]
	movss	xmm0, DWORD PTR [edx+ecx]
	addss	xmm0, DWORD PTR [esi+eax*4]
	mulss	xmm0, DWORD PTR __real@3f000000
	cvtsi2ss xmm1, DWORD PTR _divs$[ebp]
	push	ecx
	movss	xmm2, DWORD PTR __real@3e000000
	movss	DWORD PTR [esp], xmm2
	push	ecx
	movss	xmm2, DWORD PTR __real@be000000
	movss	DWORD PTR [esp], xmm2
	movss	DWORD PTR tv142[ebp], xmm0
	movss	DWORD PTR tv144[ebp], xmm1
	call	_COM_RandomFloat
	add	esp, 8
	fstp	DWORD PTR tv133[ebp]
	movss	xmm0, DWORD PTR tv144[ebp]
	mulss	xmm0, DWORD PTR tv133[ebp]
	movss	xmm1, DWORD PTR tv142[ebp]
	addss	xmm1, xmm0
	mov	ecx, DWORD PTR _div2$[ebp]
	mov	edx, DWORD PTR _noise$[ebp]
	movss	DWORD PTR [edx+ecx*4], xmm1

; 57   : 
; 58   : 	if( div2 > 1 )

	cmp	DWORD PTR _div2$[ebp], 1
	jle	SHORT $LN3@FracNoise

; 59   : 	{
; 60   : 		FracNoise( &noise[div2], div2 );

	mov	eax, DWORD PTR _div2$[ebp]
	push	eax
	mov	ecx, DWORD PTR _div2$[ebp]
	mov	edx, DWORD PTR _noise$[ebp]
	lea	eax, DWORD PTR [edx+ecx*4]
	push	eax
	call	_FracNoise
	add	esp, 8

; 61   : 		FracNoise( noise, div2 );

	mov	eax, DWORD PTR _div2$[ebp]
	push	eax
	mov	ecx, DWORD PTR _noise$[ebp]
	push	ecx
	call	_FracNoise
	add	esp, 8
$LN3@FracNoise:

; 62   : 	}
; 63   : }

	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
_FracNoise ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File D:\DevDragon\XashFE\dev\src\engine\client\gl_beams.c
;	COMDAT _R_BeamKill
_TEXT	SEGMENT
_pDeadEntity$ = -4					; size = 4
_deadEntity$ = 8					; size = 4
_R_BeamKill PROC					; COMDAT

; 1570 : {

	push	ebp
	mov	ebp, esp
	sub	esp, 68					; 00000044H
	push	ebx
	push	esi
	push	edi

; 1571 : 	cl_entity_t	*pDeadEntity;
; 1572 : 
; 1573 : 	pDeadEntity = R_BeamGetEntity( deadEntity );

	mov	eax, DWORD PTR _deadEntity$[ebp]
	push	eax
	call	_R_BeamGetEntity
	add	esp, 4
	mov	DWORD PTR _pDeadEntity$[ebp], eax

; 1574 : 	if( !pDeadEntity ) return;

	cmp	DWORD PTR _pDeadEntity$[ebp], 0
	jne	SHORT $LN2@R_BeamKill
	jmp	SHORT $LN1@R_BeamKill
$LN2@R_BeamKill:

; 1575 : 
; 1576 : 	CL_KillDeadBeams( pDeadEntity );

	mov	eax, DWORD PTR _pDeadEntity$[ebp]
	push	eax
	call	_CL_KillDeadBeams
	add	esp, 4
$LN1@R_BeamKill:

; 1577 : }

	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
_R_BeamKill ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File D:\DevDragon\XashFE\dev\src\engine\client\gl_beams.c
;	COMDAT _R_BeamFollow
_TEXT	SEGMENT
_pbeam$ = -4						; size = 4
_startEnt$ = 8						; size = 4
_modelIndex$ = 12					; size = 4
_life$ = 16						; size = 4
_width$ = 20						; size = 4
_r$ = 24						; size = 4
_g$ = 28						; size = 4
_b$ = 32						; size = 4
_brightness$ = 36					; size = 4
_R_BeamFollow PROC					; COMDAT

; 1760 : {

	push	ebp
	mov	ebp, esp
	sub	esp, 68					; 00000044H
	push	ebx
	push	esi
	push	edi

; 1761 : 	BEAM	*pbeam = R_BeamAlloc();

	call	_R_BeamAlloc
	mov	DWORD PTR _pbeam$[ebp], eax

; 1762 : 
; 1763 : 	if( !pbeam ) return NULL;

	cmp	DWORD PTR _pbeam$[ebp], 0
	jne	SHORT $LN2@R_BeamFoll
	xor	eax, eax
	jmp	$LN1@R_BeamFoll
$LN2@R_BeamFoll:

; 1764 : 	pbeam->die = cl.time;

	cvtsd2ss xmm0, QWORD PTR _cl+2167640
	mov	eax, DWORD PTR _pbeam$[ebp]
	movss	DWORD PTR [eax+56], xmm0

; 1765 : 
; 1766 : 	if( modelIndex < 0 )

	cmp	DWORD PTR _modelIndex$[ebp], 0
	jge	SHORT $LN3@R_BeamFoll

; 1767 : 		return NULL;

	xor	eax, eax
	jmp	$LN1@R_BeamFoll
$LN3@R_BeamFoll:

; 1768 : 
; 1769 : 	R_BeamSetup( pbeam, vec3_origin, vec3_origin, modelIndex, life, width, life, brightness, 1.0f );

	push	ecx
	movss	xmm0, DWORD PTR __real@3f800000
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _brightness$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _life$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _width$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _life$[ebp]
	movss	DWORD PTR [esp], xmm0
	mov	eax, DWORD PTR _modelIndex$[ebp]
	push	eax
	push	OFFSET _vec3_origin
	push	OFFSET _vec3_origin
	mov	ecx, DWORD PTR _pbeam$[ebp]
	push	ecx
	call	_R_BeamSetup
	add	esp, 36					; 00000024H

; 1770 : 
; 1771 : 	pbeam->type = TE_BEAMFOLLOW;

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	DWORD PTR [eax+4], 22			; 00000016H

; 1772 : 	SetBits( pbeam->flags, FBEAM_STARTENTITY );

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+8]
	or	ecx, 1
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	DWORD PTR [edx+8], ecx

; 1773 : 	pbeam->startEntity = startEnt;

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR _startEnt$[ebp]
	mov	DWORD PTR [eax+100], ecx

; 1774 : 
; 1775 : 	R_BeamSetAttributes( pbeam, r, g, b, 1.0f, 0 );

	push	0
	push	ecx
	movss	xmm0, DWORD PTR __real@3f800000
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _b$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _g$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _r$[ebp]
	movss	DWORD PTR [esp], xmm0
	mov	eax, DWORD PTR _pbeam$[ebp]
	push	eax
	call	_R_BeamSetAttributes
	add	esp, 24					; 00000018H

; 1776 : 
; 1777 : 	return pbeam;

	mov	eax, DWORD PTR _pbeam$[ebp]
$LN1@R_BeamFoll:

; 1778 : }

	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
_R_BeamFollow ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File D:\DevDragon\XashFE\dev\src\engine\client\gl_beams.c
;	COMDAT _R_BeamRing
_TEXT	SEGMENT
_end$ = -12						; size = 4
_start$ = -8						; size = 4
_pbeam$ = -4						; size = 4
_startEnt$ = 8						; size = 4
_endEnt$ = 12						; size = 4
_modelIndex$ = 16					; size = 4
_life$ = 20						; size = 4
_width$ = 24						; size = 4
_amplitude$ = 28					; size = 4
_brightness$ = 32					; size = 4
_speed$ = 36						; size = 4
_startFrame$ = 40					; size = 4
_framerate$ = 44					; size = 4
_r$ = 48						; size = 4
_g$ = 52						; size = 4
_b$ = 56						; size = 4
_R_BeamRing PROC					; COMDAT

; 1725 : {

	push	ebp
	mov	ebp, esp
	sub	esp, 76					; 0000004cH
	push	ebx
	push	esi
	push	edi

; 1726 : 	BEAM		*pbeam;
; 1727 : 	cl_entity_t	*start, *end;
; 1728 : 
; 1729 : 	start = R_BeamGetEntity( startEnt );

	mov	eax, DWORD PTR _startEnt$[ebp]
	push	eax
	call	_R_BeamGetEntity
	add	esp, 4
	mov	DWORD PTR _start$[ebp], eax

; 1730 : 	end = R_BeamGetEntity( endEnt );

	mov	eax, DWORD PTR _endEnt$[ebp]
	push	eax
	call	_R_BeamGetEntity
	add	esp, 4
	mov	DWORD PTR _end$[ebp], eax

; 1731 : 
; 1732 : 	if( !start || !end )

	cmp	DWORD PTR _start$[ebp], 0
	je	SHORT $LN3@R_BeamRing
	cmp	DWORD PTR _end$[ebp], 0
	jne	SHORT $LN2@R_BeamRing
$LN3@R_BeamRing:

; 1733 : 		return NULL;

	xor	eax, eax
	jmp	$LN1@R_BeamRing
$LN2@R_BeamRing:

; 1734 : 
; 1735 : 	if( life != 0 && ( !start->model || !end->model ))

	movss	xmm0, DWORD PTR _life$[ebp]
	ucomiss	xmm0, DWORD PTR __real@00000000
	lahf
	test	ah, 68					; 00000044H
	jnp	SHORT $LN4@R_BeamRing
	mov	eax, DWORD PTR _start$[ebp]
	cmp	DWORD PTR [eax+3300], 0
	je	SHORT $LN5@R_BeamRing
	mov	eax, DWORD PTR _end$[ebp]
	cmp	DWORD PTR [eax+3300], 0
	jne	SHORT $LN4@R_BeamRing
$LN5@R_BeamRing:

; 1736 : 		return NULL;

	xor	eax, eax
	jmp	$LN1@R_BeamRing
$LN4@R_BeamRing:

; 1737 : 
; 1738 : 	pbeam = R_BeamLightning( vec3_origin, vec3_origin, modelIndex, life, width, amplitude, brightness, speed );

	push	ecx
	movss	xmm0, DWORD PTR _speed$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _brightness$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _amplitude$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _width$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _life$[ebp]
	movss	DWORD PTR [esp], xmm0
	mov	eax, DWORD PTR _modelIndex$[ebp]
	push	eax
	push	OFFSET _vec3_origin
	push	OFFSET _vec3_origin
	call	_R_BeamLightning
	add	esp, 32					; 00000020H
	mov	DWORD PTR _pbeam$[ebp], eax

; 1739 : 	if( !pbeam ) return NULL;

	cmp	DWORD PTR _pbeam$[ebp], 0
	jne	SHORT $LN6@R_BeamRing
	xor	eax, eax
	jmp	$LN1@R_BeamRing
$LN6@R_BeamRing:

; 1740 : 
; 1741 : 	pbeam->type = TE_BEAMRING;

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	DWORD PTR [eax+4], 24			; 00000018H

; 1742 : 	SetBits( pbeam->flags, FBEAM_STARTENTITY | FBEAM_ENDENTITY );

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+8]
	or	ecx, 3
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	DWORD PTR [edx+8], ecx

; 1743 : 	if( life == 0 ) SetBits( pbeam->flags, FBEAM_FOREVER );

	movss	xmm0, DWORD PTR _life$[ebp]
	ucomiss	xmm0, DWORD PTR __real@00000000
	lahf
	test	ah, 68					; 00000044H
	jp	SHORT $LN7@R_BeamRing
	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+8]
	or	ecx, -2147483648			; 80000000H
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	DWORD PTR [edx+8], ecx
$LN7@R_BeamRing:

; 1744 : 	pbeam->startEntity = startEnt;

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR _startEnt$[ebp]
	mov	DWORD PTR [eax+100], ecx

; 1745 : 	pbeam->endEntity = endEnt;

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR _endEnt$[ebp]
	mov	DWORD PTR [eax+104], ecx

; 1746 : 
; 1747 : 	R_BeamSetAttributes( pbeam, r, g, b, framerate, startFrame );

	mov	eax, DWORD PTR _startFrame$[ebp]
	push	eax
	push	ecx
	movss	xmm0, DWORD PTR _framerate$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _b$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _g$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _r$[ebp]
	movss	DWORD PTR [esp], xmm0
	mov	ecx, DWORD PTR _pbeam$[ebp]
	push	ecx
	call	_R_BeamSetAttributes
	add	esp, 24					; 00000018H

; 1748 : 
; 1749 : 	return pbeam;

	mov	eax, DWORD PTR _pbeam$[ebp]
$LN1@R_BeamRing:

; 1750 : }

	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
_R_BeamRing ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File D:\DevDragon\XashFE\dev\src\engine\client\gl_beams.c
;	COMDAT _R_BeamEntPoint
_TEXT	SEGMENT
_start$ = -8						; size = 4
_pbeam$ = -4						; size = 4
_startEnt$ = 8						; size = 4
_end$ = 12						; size = 4
_modelIndex$ = 16					; size = 4
_life$ = 20						; size = 4
_width$ = 24						; size = 4
_amplitude$ = 28					; size = 4
_brightness$ = 32					; size = 4
_speed$ = 36						; size = 4
_startFrame$ = 40					; size = 4
_framerate$ = 44					; size = 4
_r$ = 48						; size = 4
_g$ = 52						; size = 4
_b$ = 56						; size = 4
_R_BeamEntPoint PROC					; COMDAT

; 1685 : {

	push	ebp
	mov	ebp, esp
	sub	esp, 72					; 00000048H
	push	ebx
	push	esi
	push	edi

; 1686 : 	BEAM		*pbeam;
; 1687 : 	cl_entity_t	*start;
; 1688 : 
; 1689 : 	start = R_BeamGetEntity( startEnt );

	mov	eax, DWORD PTR _startEnt$[ebp]
	push	eax
	call	_R_BeamGetEntity
	add	esp, 4
	mov	DWORD PTR _start$[ebp], eax

; 1690 : 
; 1691 : 	if( !start ) return NULL;

	cmp	DWORD PTR _start$[ebp], 0
	jne	SHORT $LN2@R_BeamEntP
	xor	eax, eax
	jmp	$LN1@R_BeamEntP
$LN2@R_BeamEntP:

; 1692 : 
; 1693 : 	if( life == 0 && !start->model )

	movss	xmm0, DWORD PTR _life$[ebp]
	ucomiss	xmm0, DWORD PTR __real@00000000
	lahf
	test	ah, 68					; 00000044H
	jp	SHORT $LN3@R_BeamEntP
	mov	eax, DWORD PTR _start$[ebp]
	cmp	DWORD PTR [eax+3300], 0
	jne	SHORT $LN3@R_BeamEntP

; 1694 : 		return NULL;

	xor	eax, eax
	jmp	$LN1@R_BeamEntP
$LN3@R_BeamEntP:

; 1695 : 
; 1696 : 	pbeam = R_BeamAlloc();

	call	_R_BeamAlloc
	mov	DWORD PTR _pbeam$[ebp], eax

; 1697 : 	if ( !pbeam ) return NULL;

	cmp	DWORD PTR _pbeam$[ebp], 0
	jne	SHORT $LN4@R_BeamEntP
	xor	eax, eax
	jmp	$LN1@R_BeamEntP
$LN4@R_BeamEntP:

; 1698 : 
; 1699 : 	pbeam->die = cl.time;

	cvtsd2ss xmm0, QWORD PTR _cl+2167640
	mov	eax, DWORD PTR _pbeam$[ebp]
	movss	DWORD PTR [eax+56], xmm0

; 1700 : 	if( modelIndex < 0 )

	cmp	DWORD PTR _modelIndex$[ebp], 0
	jge	SHORT $LN5@R_BeamEntP

; 1701 : 		return NULL;

	xor	eax, eax
	jmp	$LN1@R_BeamEntP
$LN5@R_BeamEntP:

; 1702 : 
; 1703 : 	R_BeamSetup( pbeam, vec3_origin, end, modelIndex, life, width, amplitude, brightness, speed );

	push	ecx
	movss	xmm0, DWORD PTR _speed$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _brightness$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _amplitude$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _width$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _life$[ebp]
	movss	DWORD PTR [esp], xmm0
	mov	eax, DWORD PTR _modelIndex$[ebp]
	push	eax
	mov	ecx, DWORD PTR _end$[ebp]
	push	ecx
	push	OFFSET _vec3_origin
	mov	edx, DWORD PTR _pbeam$[ebp]
	push	edx
	call	_R_BeamSetup
	add	esp, 36					; 00000024H

; 1704 : 
; 1705 : 	pbeam->type = TE_BEAMPOINTS;

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	DWORD PTR [eax+4], 0

; 1706 : 	SetBits( pbeam->flags, FBEAM_STARTENTITY );

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+8]
	or	ecx, 1
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	DWORD PTR [edx+8], ecx

; 1707 : 	if( life == 0 ) SetBits( pbeam->flags, FBEAM_FOREVER );

	movss	xmm0, DWORD PTR _life$[ebp]
	ucomiss	xmm0, DWORD PTR __real@00000000
	lahf
	test	ah, 68					; 00000044H
	jp	SHORT $LN6@R_BeamEntP
	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+8]
	or	ecx, -2147483648			; 80000000H
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	DWORD PTR [edx+8], ecx
$LN6@R_BeamEntP:

; 1708 : 	pbeam->startEntity = startEnt;

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR _startEnt$[ebp]
	mov	DWORD PTR [eax+100], ecx

; 1709 : 	pbeam->endEntity = 0;

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	DWORD PTR [eax+104], 0

; 1710 : 
; 1711 : 	R_BeamSetAttributes( pbeam, r, g, b, framerate, startFrame );

	mov	eax, DWORD PTR _startFrame$[ebp]
	push	eax
	push	ecx
	movss	xmm0, DWORD PTR _framerate$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _b$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _g$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _r$[ebp]
	movss	DWORD PTR [esp], xmm0
	mov	ecx, DWORD PTR _pbeam$[ebp]
	push	ecx
	call	_R_BeamSetAttributes
	add	esp, 24					; 00000018H

; 1712 : 
; 1713 : 	return pbeam;

	mov	eax, DWORD PTR _pbeam$[ebp]
$LN1@R_BeamEntP:

; 1714 : }

	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
_R_BeamEntPoint ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File D:\DevDragon\XashFE\dev\src\engine\client\gl_beams.c
;	COMDAT _R_BeamCirclePoints
_TEXT	SEGMENT
_pbeam$ = -4						; size = 4
_type$ = 8						; size = 4
_start$ = 12						; size = 4
_end$ = 16						; size = 4
_modelIndex$ = 20					; size = 4
_life$ = 24						; size = 4
_width$ = 28						; size = 4
_amplitude$ = 32					; size = 4
_brightness$ = 36					; size = 4
_speed$ = 40						; size = 4
_startFrame$ = 44					; size = 4
_framerate$ = 48					; size = 4
_r$ = 52						; size = 4
_g$ = 56						; size = 4
_b$ = 60						; size = 4
_R_BeamCirclePoints PROC				; COMDAT

; 1664 : {

	push	ebp
	mov	ebp, esp
	sub	esp, 68					; 00000044H
	push	ebx
	push	esi
	push	edi

; 1665 : 	BEAM	*pbeam = R_BeamLightning( start, end, modelIndex, life, width, amplitude, brightness, speed );

	push	ecx
	movss	xmm0, DWORD PTR _speed$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _brightness$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _amplitude$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _width$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _life$[ebp]
	movss	DWORD PTR [esp], xmm0
	mov	eax, DWORD PTR _modelIndex$[ebp]
	push	eax
	mov	ecx, DWORD PTR _end$[ebp]
	push	ecx
	mov	edx, DWORD PTR _start$[ebp]
	push	edx
	call	_R_BeamLightning
	add	esp, 32					; 00000020H
	mov	DWORD PTR _pbeam$[ebp], eax

; 1666 : 
; 1667 : 	if( !pbeam ) return NULL;

	cmp	DWORD PTR _pbeam$[ebp], 0
	jne	SHORT $LN2@R_BeamCirc
	xor	eax, eax
	jmp	SHORT $LN1@R_BeamCirc
$LN2@R_BeamCirc:

; 1668 : 	pbeam->type = type;

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR _type$[ebp]
	mov	DWORD PTR [eax+4], ecx

; 1669 : 	if( life == 0 ) SetBits( pbeam->flags, FBEAM_FOREVER );

	movss	xmm0, DWORD PTR _life$[ebp]
	ucomiss	xmm0, DWORD PTR __real@00000000
	lahf
	test	ah, 68					; 00000044H
	jp	SHORT $LN3@R_BeamCirc
	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+8]
	or	ecx, -2147483648			; 80000000H
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	DWORD PTR [edx+8], ecx
$LN3@R_BeamCirc:

; 1670 : 	R_BeamSetAttributes( pbeam, r, g, b, framerate, startFrame );

	mov	eax, DWORD PTR _startFrame$[ebp]
	push	eax
	push	ecx
	movss	xmm0, DWORD PTR _framerate$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _b$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _g$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _r$[ebp]
	movss	DWORD PTR [esp], xmm0
	mov	ecx, DWORD PTR _pbeam$[ebp]
	push	ecx
	call	_R_BeamSetAttributes
	add	esp, 24					; 00000018H

; 1671 : 
; 1672 : 	return pbeam;

	mov	eax, DWORD PTR _pbeam$[ebp]
$LN1@R_BeamCirc:

; 1673 : }

	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
_R_BeamCirclePoints ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File D:\DevDragon\XashFE\dev\src\engine\client\gl_beams.c
;	COMDAT _R_BeamPoints
_TEXT	SEGMENT
_pbeam$ = -4						; size = 4
_start$ = 8						; size = 4
_end$ = 12						; size = 4
_modelIndex$ = 16					; size = 4
_life$ = 20						; size = 4
_width$ = 24						; size = 4
_amplitude$ = 28					; size = 4
_brightness$ = 32					; size = 4
_speed$ = 36						; size = 4
_startFrame$ = 40					; size = 4
_framerate$ = 44					; size = 4
_r$ = 48						; size = 4
_g$ = 52						; size = 4
_b$ = 56						; size = 4
_R_BeamPoints PROC					; COMDAT

; 1633 : {

	push	ebp
	mov	ebp, esp
	sub	esp, 68					; 00000044H
	push	ebx
	push	esi
	push	edi

; 1634 : 	BEAM	*pbeam;
; 1635 : 
; 1636 : 	if( life != 0 && R_BeamCull( start, end, true ))

	movss	xmm0, DWORD PTR _life$[ebp]
	ucomiss	xmm0, DWORD PTR __real@00000000
	lahf
	test	ah, 68					; 00000044H
	jnp	SHORT $LN2@R_BeamPoin
	push	1
	mov	eax, DWORD PTR _end$[ebp]
	push	eax
	mov	ecx, DWORD PTR _start$[ebp]
	push	ecx
	call	_R_BeamCull
	add	esp, 12					; 0000000cH
	test	eax, eax
	je	SHORT $LN2@R_BeamPoin

; 1637 : 		return NULL;

	xor	eax, eax
	jmp	$LN1@R_BeamPoin
$LN2@R_BeamPoin:

; 1638 : 
; 1639 : 	pbeam = R_BeamAlloc();

	call	_R_BeamAlloc
	mov	DWORD PTR _pbeam$[ebp], eax

; 1640 : 	if( !pbeam ) return NULL;

	cmp	DWORD PTR _pbeam$[ebp], 0
	jne	SHORT $LN3@R_BeamPoin
	xor	eax, eax
	jmp	$LN1@R_BeamPoin
$LN3@R_BeamPoin:

; 1641 : 
; 1642 : 	pbeam->die = cl.time;

	cvtsd2ss xmm0, QWORD PTR _cl+2167640
	mov	eax, DWORD PTR _pbeam$[ebp]
	movss	DWORD PTR [eax+56], xmm0

; 1643 : 
; 1644 : 	if( modelIndex < 0 )

	cmp	DWORD PTR _modelIndex$[ebp], 0
	jge	SHORT $LN4@R_BeamPoin

; 1645 : 		return NULL;

	xor	eax, eax
	jmp	$LN1@R_BeamPoin
$LN4@R_BeamPoin:

; 1646 : 
; 1647 : 	R_BeamSetup( pbeam, start, end, modelIndex, life, width, amplitude, brightness, speed );

	push	ecx
	movss	xmm0, DWORD PTR _speed$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _brightness$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _amplitude$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _width$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _life$[ebp]
	movss	DWORD PTR [esp], xmm0
	mov	eax, DWORD PTR _modelIndex$[ebp]
	push	eax
	mov	ecx, DWORD PTR _end$[ebp]
	push	ecx
	mov	edx, DWORD PTR _start$[ebp]
	push	edx
	mov	eax, DWORD PTR _pbeam$[ebp]
	push	eax
	call	_R_BeamSetup
	add	esp, 36					; 00000024H

; 1648 : 	if( life == 0 ) SetBits( pbeam->flags, FBEAM_FOREVER );

	movss	xmm0, DWORD PTR _life$[ebp]
	ucomiss	xmm0, DWORD PTR __real@00000000
	lahf
	test	ah, 68					; 00000044H
	jp	SHORT $LN5@R_BeamPoin
	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+8]
	or	ecx, -2147483648			; 80000000H
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	DWORD PTR [edx+8], ecx
$LN5@R_BeamPoin:

; 1649 : 
; 1650 : 	R_BeamSetAttributes( pbeam, r, g, b, framerate, startFrame );

	mov	eax, DWORD PTR _startFrame$[ebp]
	push	eax
	push	ecx
	movss	xmm0, DWORD PTR _framerate$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _b$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _g$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _r$[ebp]
	movss	DWORD PTR [esp], xmm0
	mov	ecx, DWORD PTR _pbeam$[ebp]
	push	ecx
	call	_R_BeamSetAttributes
	add	esp, 24					; 00000018H

; 1651 : 
; 1652 : 	return pbeam;

	mov	eax, DWORD PTR _pbeam$[ebp]
$LN1@R_BeamPoin:

; 1653 : }

	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
_R_BeamPoints ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File D:\DevDragon\XashFE\dev\src\engine\client\gl_beams.c
;	COMDAT _R_BeamEnts
_TEXT	SEGMENT
_mod$ = -16						; size = 4
_pbeam$ = -12						; size = 4
_end$ = -8						; size = 4
_start$ = -4						; size = 4
_startEnt$ = 8						; size = 4
_endEnt$ = 12						; size = 4
_modelIndex$ = 16					; size = 4
_life$ = 20						; size = 4
_width$ = 24						; size = 4
_amplitude$ = 28					; size = 4
_brightness$ = 32					; size = 4
_speed$ = 36						; size = 4
_startFrame$ = 40					; size = 4
_framerate$ = 44					; size = 4
_r$ = 48						; size = 4
_g$ = 52						; size = 4
_b$ = 56						; size = 4
_R_BeamEnts PROC					; COMDAT

; 1588 : {

	push	ebp
	mov	ebp, esp
	sub	esp, 80					; 00000050H
	push	ebx
	push	esi
	push	edi

; 1589 : 	cl_entity_t	*start, *end;
; 1590 : 	BEAM		*pbeam;
; 1591 : 	model_t		*mod;
; 1592 : 
; 1593 : 	mod = CL_ModelHandle( modelIndex );

	mov	eax, DWORD PTR _modelIndex$[ebp]
	push	eax
	call	_CL_ModelHandle
	add	esp, 4
	mov	DWORD PTR _mod$[ebp], eax

; 1594 : 
; 1595 : 	// need a valid model.
; 1596 : 	if( !mod || mod->type != mod_sprite )

	cmp	DWORD PTR _mod$[ebp], 0
	je	SHORT $LN3@R_BeamEnts
	mov	eax, DWORD PTR _mod$[ebp]
	cmp	DWORD PTR [eax+68], 1
	je	SHORT $LN2@R_BeamEnts
$LN3@R_BeamEnts:

; 1597 : 		return NULL;

	xor	eax, eax
	jmp	$LN1@R_BeamEnts
$LN2@R_BeamEnts:

; 1598 : 
; 1599 : 	start = R_BeamGetEntity( startEnt );

	mov	eax, DWORD PTR _startEnt$[ebp]
	push	eax
	call	_R_BeamGetEntity
	add	esp, 4
	mov	DWORD PTR _start$[ebp], eax

; 1600 : 	end = R_BeamGetEntity( endEnt );

	mov	eax, DWORD PTR _endEnt$[ebp]
	push	eax
	call	_R_BeamGetEntity
	add	esp, 4
	mov	DWORD PTR _end$[ebp], eax

; 1601 : 
; 1602 : 	if( !start || !end )

	cmp	DWORD PTR _start$[ebp], 0
	je	SHORT $LN5@R_BeamEnts
	cmp	DWORD PTR _end$[ebp], 0
	jne	SHORT $LN4@R_BeamEnts
$LN5@R_BeamEnts:

; 1603 : 		return NULL;

	xor	eax, eax
	jmp	$LN1@R_BeamEnts
$LN4@R_BeamEnts:

; 1604 : 
; 1605 : 	// don't start temporary beams out of the PVS
; 1606 : 	if( life != 0 && ( !start->model || !end->model ))

	movss	xmm0, DWORD PTR _life$[ebp]
	ucomiss	xmm0, DWORD PTR __real@00000000
	lahf
	test	ah, 68					; 00000044H
	jnp	SHORT $LN6@R_BeamEnts
	mov	eax, DWORD PTR _start$[ebp]
	cmp	DWORD PTR [eax+3300], 0
	je	SHORT $LN7@R_BeamEnts
	mov	eax, DWORD PTR _end$[ebp]
	cmp	DWORD PTR [eax+3300], 0
	jne	SHORT $LN6@R_BeamEnts
$LN7@R_BeamEnts:

; 1607 : 		return NULL;

	xor	eax, eax
	jmp	$LN1@R_BeamEnts
$LN6@R_BeamEnts:

; 1608 : 
; 1609 : 	pbeam = R_BeamLightning( vec3_origin, vec3_origin, modelIndex, life, width, amplitude, brightness, speed );

	push	ecx
	movss	xmm0, DWORD PTR _speed$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _brightness$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _amplitude$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _width$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _life$[ebp]
	movss	DWORD PTR [esp], xmm0
	mov	eax, DWORD PTR _modelIndex$[ebp]
	push	eax
	push	OFFSET _vec3_origin
	push	OFFSET _vec3_origin
	call	_R_BeamLightning
	add	esp, 32					; 00000020H
	mov	DWORD PTR _pbeam$[ebp], eax

; 1610 : 	if( !pbeam ) return NULL;

	cmp	DWORD PTR _pbeam$[ebp], 0
	jne	SHORT $LN8@R_BeamEnts
	xor	eax, eax
	jmp	$LN1@R_BeamEnts
$LN8@R_BeamEnts:

; 1611 : 
; 1612 : 	pbeam->type = TE_BEAMPOINTS;

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	DWORD PTR [eax+4], 0

; 1613 : 	SetBits( pbeam->flags, FBEAM_STARTENTITY | FBEAM_ENDENTITY );

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+8]
	or	ecx, 3
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	DWORD PTR [edx+8], ecx

; 1614 : 	if( life == 0 ) SetBits( pbeam->flags, FBEAM_FOREVER );

	movss	xmm0, DWORD PTR _life$[ebp]
	ucomiss	xmm0, DWORD PTR __real@00000000
	lahf
	test	ah, 68					; 00000044H
	jp	SHORT $LN9@R_BeamEnts
	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+8]
	or	ecx, -2147483648			; 80000000H
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	DWORD PTR [edx+8], ecx
$LN9@R_BeamEnts:

; 1615 : 
; 1616 : 	pbeam->startEntity = startEnt;

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR _startEnt$[ebp]
	mov	DWORD PTR [eax+100], ecx

; 1617 : 	pbeam->endEntity = endEnt;

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR _endEnt$[ebp]
	mov	DWORD PTR [eax+104], ecx

; 1618 : 
; 1619 : 	R_BeamSetAttributes( pbeam, r, g, b, framerate, startFrame );

	mov	eax, DWORD PTR _startFrame$[ebp]
	push	eax
	push	ecx
	movss	xmm0, DWORD PTR _framerate$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _b$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _g$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _r$[ebp]
	movss	DWORD PTR [esp], xmm0
	mov	ecx, DWORD PTR _pbeam$[ebp]
	push	ecx
	call	_R_BeamSetAttributes
	add	esp, 24					; 00000018H

; 1620 : 
; 1621 : 	return pbeam;

	mov	eax, DWORD PTR _pbeam$[ebp]
$LN1@R_BeamEnts:

; 1622 : }

	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
_R_BeamEnts ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File D:\DevDragon\XashFE\dev\src\engine\client\gl_beams.c
;	COMDAT _R_BeamLightning
_TEXT	SEGMENT
_pbeam$ = -4						; size = 4
_start$ = 8						; size = 4
_end$ = 12						; size = 4
_modelIndex$ = 16					; size = 4
_life$ = 20						; size = 4
_width$ = 24						; size = 4
_amplitude$ = 28					; size = 4
_brightness$ = 32					; size = 4
_speed$ = 36						; size = 4
_R_BeamLightning PROC					; COMDAT

; 220  : {

	push	ebp
	mov	ebp, esp
	sub	esp, 68					; 00000044H
	push	ebx
	push	esi
	push	edi

; 221  : 	BEAM	*pbeam = R_BeamAlloc();

	call	_R_BeamAlloc
	mov	DWORD PTR _pbeam$[ebp], eax

; 222  : 
; 223  : 	if( !pbeam ) return NULL;

	cmp	DWORD PTR _pbeam$[ebp], 0
	jne	SHORT $LN2@R_BeamLigh
	xor	eax, eax
	jmp	SHORT $LN1@R_BeamLigh
$LN2@R_BeamLigh:

; 224  : 	pbeam->die = cl.time;

	cvtsd2ss xmm0, QWORD PTR _cl+2167640
	mov	eax, DWORD PTR _pbeam$[ebp]
	movss	DWORD PTR [eax+56], xmm0

; 225  : 
; 226  : 	if( modelIndex < 0 )

	cmp	DWORD PTR _modelIndex$[ebp], 0
	jge	SHORT $LN3@R_BeamLigh

; 227  : 		return NULL;

	xor	eax, eax
	jmp	SHORT $LN1@R_BeamLigh
$LN3@R_BeamLigh:

; 228  : 
; 229  : 	R_BeamSetup( pbeam, start, end, modelIndex, life, width, amplitude, brightness, speed );

	push	ecx
	movss	xmm0, DWORD PTR _speed$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _brightness$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _amplitude$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _width$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _life$[ebp]
	movss	DWORD PTR [esp], xmm0
	mov	eax, DWORD PTR _modelIndex$[ebp]
	push	eax
	mov	ecx, DWORD PTR _end$[ebp]
	push	ecx
	mov	edx, DWORD PTR _start$[ebp]
	push	edx
	mov	eax, DWORD PTR _pbeam$[ebp]
	push	eax
	call	_R_BeamSetup
	add	esp, 36					; 00000024H

; 230  : 
; 231  : 	return pbeam;

	mov	eax, DWORD PTR _pbeam$[ebp]
$LN1@R_BeamLigh:

; 232  : }

	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
_R_BeamLightning ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File D:\DevDragon\XashFE\dev\src\engine\client\gl_beams.c
;	COMDAT _CL_ReadLineFile_f
_TEXT	SEGMENT
_token$ = -368						; size = 256
_model$ = -112						; size = 4
_filename$ = -108					; size = 64
_modelIndex$ = -44					; size = 4
_count$ = -40						; size = 4
_p2$ = -36						; size = 12
_p1$ = -24						; size = 12
_pfile$ = -12						; size = 4
_afile$ = -8						; size = 4
__$ArrayPad$ = -4					; size = 4
_CL_ReadLineFile_f PROC					; COMDAT

; 1958 : {

	push	ebp
	mov	ebp, esp
	sub	esp, 432				; 000001b0H
	mov	eax, DWORD PTR ___security_cookie
	xor	eax, ebp
	mov	DWORD PTR __$ArrayPad$[ebp], eax
	push	ebx
	push	esi
	push	edi

; 1959 : 	char		*afile, *pfile;
; 1960 : 	vec3_t		p1, p2;
; 1961 : 	int		count, modelIndex;
; 1962 : 	char		filename[MAX_QPATH];
; 1963 : 	model_t		*model;
; 1964 : 	string		token;
; 1965 : 
; 1966 : 	Q_snprintf( filename, sizeof( filename ), "maps/%s.lin", clgame.mapname );

	push	OFFSET _clgame+228
	push	OFFSET ??_C@_0M@BPPGBBPA@maps?1?$CFs?4lin@
	push	64					; 00000040H
	lea	eax, DWORD PTR _filename$[ebp]
	push	eax
	call	_Q_snprintf
	add	esp, 16					; 00000010H

; 1967 : 	afile = FS_LoadFile( filename, NULL, false );

	push	0
	push	0
	lea	eax, DWORD PTR _filename$[ebp]
	push	eax
	call	_FS_LoadFile
	add	esp, 12					; 0000000cH
	mov	DWORD PTR _afile$[ebp], eax

; 1968 : 
; 1969 : 	if( !afile )

	cmp	DWORD PTR _afile$[ebp], 0
	jne	SHORT $LN4@CL_ReadLin

; 1970 : 	{
; 1971 : 		Con_Printf( S_ERROR "couldn't open %s\n", filename );

	lea	eax, DWORD PTR _filename$[ebp]
	push	eax
	push	OFFSET ??_C@_0BN@JCJEHCDP@?$FO1Error?3?$FO7?5couldn?8t?5open?5?$CFs?6@
	call	_Con_Printf
	add	esp, 8

; 1972 : 		return;

	jmp	$LN18@CL_ReadLin
$LN4@CL_ReadLin:

; 1973 : 	}
; 1974 : 	
; 1975 : 	Con_Printf( "Reading %s...\n", filename );

	lea	eax, DWORD PTR _filename$[ebp]
	push	eax
	push	OFFSET ??_C@_0P@DNKMKNEK@Reading?5?$CFs?4?4?4?6@
	call	_Con_Printf
	add	esp, 8

; 1976 : 
; 1977 : 	count = 0;

	mov	DWORD PTR _count$[ebp], 0

; 1978 : 	pfile = afile;

	mov	eax, DWORD PTR _afile$[ebp]
	mov	DWORD PTR _pfile$[ebp], eax

; 1979 : 	model = CL_LoadModel( DEFAULT_LASERBEAM_PATH, &modelIndex );

	lea	eax, DWORD PTR _modelIndex$[ebp]
	push	eax
	push	OFFSET ??_C@_0BG@LKPONKLB@sprites?1laserbeam?4spr@
	call	_CL_LoadModel
	add	esp, 8
	mov	DWORD PTR _model$[ebp], eax
$LN2@CL_ReadLin:

; 1980 : 
; 1981 : 	while( 1 )

	mov	eax, 1
	test	eax, eax
	je	$LN3@CL_ReadLin

; 1982 : 	{
; 1983 : 		pfile = COM_ParseFile( pfile, token );

	lea	eax, DWORD PTR _token$[ebp]
	push	eax
	mov	ecx, DWORD PTR _pfile$[ebp]
	push	ecx
	call	_COM_ParseFile
	add	esp, 8
	mov	DWORD PTR _pfile$[ebp], eax

; 1984 : 		if( !pfile ) break;

	cmp	DWORD PTR _pfile$[ebp], 0
	jne	SHORT $LN5@CL_ReadLin
	jmp	$LN3@CL_ReadLin
$LN5@CL_ReadLin:

; 1985 : 		p1[0] = Q_atof( token );

	lea	eax, DWORD PTR _token$[ebp]
	push	eax
	call	_Q_atof
	add	esp, 4
	mov	ecx, 4
	imul	edx, ecx, 0
	fstp	DWORD PTR _p1$[ebp+edx]

; 1986 : 
; 1987 : 		pfile = COM_ParseFile( pfile, token );

	lea	eax, DWORD PTR _token$[ebp]
	push	eax
	mov	ecx, DWORD PTR _pfile$[ebp]
	push	ecx
	call	_COM_ParseFile
	add	esp, 8
	mov	DWORD PTR _pfile$[ebp], eax

; 1988 : 		if( !pfile ) break;

	cmp	DWORD PTR _pfile$[ebp], 0
	jne	SHORT $LN6@CL_ReadLin
	jmp	$LN3@CL_ReadLin
$LN6@CL_ReadLin:

; 1989 : 		p1[1] = Q_atof( token );

	lea	eax, DWORD PTR _token$[ebp]
	push	eax
	call	_Q_atof
	add	esp, 4
	mov	ecx, 4
	shl	ecx, 0
	fstp	DWORD PTR _p1$[ebp+ecx]

; 1990 : 
; 1991 : 		pfile = COM_ParseFile( pfile, token );

	lea	eax, DWORD PTR _token$[ebp]
	push	eax
	mov	ecx, DWORD PTR _pfile$[ebp]
	push	ecx
	call	_COM_ParseFile
	add	esp, 8
	mov	DWORD PTR _pfile$[ebp], eax

; 1992 : 		if( !pfile ) break;

	cmp	DWORD PTR _pfile$[ebp], 0
	jne	SHORT $LN7@CL_ReadLin
	jmp	$LN3@CL_ReadLin
$LN7@CL_ReadLin:

; 1993 : 		p1[2] = Q_atof( token );

	lea	eax, DWORD PTR _token$[ebp]
	push	eax
	call	_Q_atof
	add	esp, 4
	mov	ecx, 4
	shl	ecx, 1
	fstp	DWORD PTR _p1$[ebp+ecx]

; 1994 : 
; 1995 : 		pfile = COM_ParseFile( pfile, token );

	lea	eax, DWORD PTR _token$[ebp]
	push	eax
	mov	ecx, DWORD PTR _pfile$[ebp]
	push	ecx
	call	_COM_ParseFile
	add	esp, 8
	mov	DWORD PTR _pfile$[ebp], eax

; 1996 : 		if( !pfile ) break;

	cmp	DWORD PTR _pfile$[ebp], 0
	jne	SHORT $LN8@CL_ReadLin
	jmp	$LN3@CL_ReadLin
$LN8@CL_ReadLin:

; 1997 : 
; 1998 : 		if( token[0] != '-' )

	mov	eax, 1
	imul	ecx, eax, 0
	movsx	edx, BYTE PTR _token$[ebp+ecx]
	cmp	edx, 45					; 0000002dH
	je	SHORT $LN9@CL_ReadLin

; 1999 : 		{
; 2000 : 			Con_Printf( S_ERROR "%s is corrupted\n", filename );

	lea	eax, DWORD PTR _filename$[ebp]
	push	eax
	push	OFFSET ??_C@_0BM@DOBMGBFD@?$FO1Error?3?$FO7?5?$CFs?5is?5corrupted?6@
	call	_Con_Printf
	add	esp, 8

; 2001 : 			break;

	jmp	$LN3@CL_ReadLin
$LN9@CL_ReadLin:

; 2002 : 		}
; 2003 : 
; 2004 : 		pfile = COM_ParseFile( pfile, token );

	lea	eax, DWORD PTR _token$[ebp]
	push	eax
	mov	ecx, DWORD PTR _pfile$[ebp]
	push	ecx
	call	_COM_ParseFile
	add	esp, 8
	mov	DWORD PTR _pfile$[ebp], eax

; 2005 : 		if( !pfile ) break;

	cmp	DWORD PTR _pfile$[ebp], 0
	jne	SHORT $LN10@CL_ReadLin
	jmp	$LN3@CL_ReadLin
$LN10@CL_ReadLin:

; 2006 : 		p2[0] = Q_atof( token );

	lea	eax, DWORD PTR _token$[ebp]
	push	eax
	call	_Q_atof
	add	esp, 4
	mov	ecx, 4
	imul	edx, ecx, 0
	fstp	DWORD PTR _p2$[ebp+edx]

; 2007 : 
; 2008 : 		pfile = COM_ParseFile( pfile, token );

	lea	eax, DWORD PTR _token$[ebp]
	push	eax
	mov	ecx, DWORD PTR _pfile$[ebp]
	push	ecx
	call	_COM_ParseFile
	add	esp, 8
	mov	DWORD PTR _pfile$[ebp], eax

; 2009 : 		if( !pfile ) break;

	cmp	DWORD PTR _pfile$[ebp], 0
	jne	SHORT $LN11@CL_ReadLin
	jmp	$LN3@CL_ReadLin
$LN11@CL_ReadLin:

; 2010 : 		p2[1] = Q_atof( token );

	lea	eax, DWORD PTR _token$[ebp]
	push	eax
	call	_Q_atof
	add	esp, 4
	mov	ecx, 4
	shl	ecx, 0
	fstp	DWORD PTR _p2$[ebp+ecx]

; 2011 : 
; 2012 : 		pfile = COM_ParseFile( pfile, token );

	lea	eax, DWORD PTR _token$[ebp]
	push	eax
	mov	ecx, DWORD PTR _pfile$[ebp]
	push	ecx
	call	_COM_ParseFile
	add	esp, 8
	mov	DWORD PTR _pfile$[ebp], eax

; 2013 : 		if( !pfile ) break;

	cmp	DWORD PTR _pfile$[ebp], 0
	jne	SHORT $LN12@CL_ReadLin
	jmp	$LN3@CL_ReadLin
$LN12@CL_ReadLin:

; 2014 : 		p2[2] = Q_atof( token );

	lea	eax, DWORD PTR _token$[ebp]
	push	eax
	call	_Q_atof
	add	esp, 4
	mov	ecx, 4
	shl	ecx, 1
	fstp	DWORD PTR _p2$[ebp+ecx]

; 2015 : 
; 2016 : 		count++;

	mov	eax, DWORD PTR _count$[ebp]
	add	eax, 1
	mov	DWORD PTR _count$[ebp], eax

; 2017 : 		
; 2018 : 		if( !R_BeamPoints( p1, p2, modelIndex, 0, 2, 0, 255, 0, 0, 0, 255.0f, 0.0f, 0.0f ))

	push	ecx
	xorps	xmm0, xmm0
	movss	DWORD PTR [esp], xmm0
	push	ecx
	xorps	xmm0, xmm0
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR __real@437f0000
	movss	DWORD PTR [esp], xmm0
	push	ecx
	xorps	xmm0, xmm0
	movss	DWORD PTR [esp], xmm0
	push	0
	push	ecx
	xorps	xmm0, xmm0
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR __real@437f0000
	movss	DWORD PTR [esp], xmm0
	push	ecx
	xorps	xmm0, xmm0
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR __real@40000000
	movss	DWORD PTR [esp], xmm0
	push	ecx
	xorps	xmm0, xmm0
	movss	DWORD PTR [esp], xmm0
	mov	eax, DWORD PTR _modelIndex$[ebp]
	push	eax
	lea	ecx, DWORD PTR _p2$[ebp]
	push	ecx
	lea	edx, DWORD PTR _p1$[ebp]
	push	edx
	call	_R_BeamPoints
	add	esp, 52					; 00000034H
	test	eax, eax
	jne	SHORT $LN13@CL_ReadLin

; 2019 : 		{
; 2020 : 			if( !model || model->type != mod_sprite )

	cmp	DWORD PTR _model$[ebp], 0
	je	SHORT $LN16@CL_ReadLin
	mov	eax, DWORD PTR _model$[ebp]
	cmp	DWORD PTR [eax+68], 1
	je	SHORT $LN14@CL_ReadLin
$LN16@CL_ReadLin:

; 2021 : 				Con_Printf( S_ERROR "failed to load \"%s\"!\n", DEFAULT_LASERBEAM_PATH );

	push	OFFSET ??_C@_0BG@LKPONKLB@sprites?1laserbeam?4spr@
	push	OFFSET ??_C@_0CB@CHKJIBFJ@?$FO1Error?3?$FO7?5failed?5to?5load?5?$CC?$CFs?$CC?$CB@
	call	_Con_Printf
	add	esp, 8
	jmp	SHORT $LN15@CL_ReadLin
$LN14@CL_ReadLin:

; 2022 : 			else Con_Printf( S_ERROR "not enough free beams!\n" );

	push	OFFSET ??_C@_0CD@HADFGEIM@?$FO1Error?3?$FO7?5not?5enough?5free?5beam@
	call	_Con_Printf
	add	esp, 4
$LN15@CL_ReadLin:

; 2023 : 			break;

	jmp	SHORT $LN3@CL_ReadLin
$LN13@CL_ReadLin:

; 2024 : 		}
; 2025 : 	}

	jmp	$LN2@CL_ReadLin
$LN3@CL_ReadLin:

; 2026 : 
; 2027 : 	Mem_Free( afile );

	mov	eax, DWORD PTR ?__LINE__Var@?0??CL_ReadLineFile_f@@9@9
	add	eax, 69					; 00000045H
	push	eax
	push	OFFSET ??_C@_0DF@KGKEPMBF@D?3?2DevDragon?2XashFE?2dev?2src?2eng@
	mov	ecx, DWORD PTR _afile$[ebp]
	push	ecx
	call	__Mem_Free
	add	esp, 12					; 0000000cH

; 2028 : 
; 2029 : 	if( count ) Con_Printf( "%i lines read\n", count );

	cmp	DWORD PTR _count$[ebp], 0
	je	SHORT $LN17@CL_ReadLin
	mov	eax, DWORD PTR _count$[ebp]
	push	eax
	push	OFFSET ??_C@_0P@BBHBNOIF@?$CFi?5lines?5read?6@
	call	_Con_Printf
	add	esp, 8
	jmp	SHORT $LN18@CL_ReadLin
$LN17@CL_ReadLin:

; 2030 : 	else Con_Printf( "map %s has no leaks!\n", clgame.mapname );

	push	OFFSET _clgame+228
	push	OFFSET ??_C@_0BG@IBGKBEMO@map?5?$CFs?5has?5no?5leaks?$CB?6@
	call	_Con_Printf
	add	esp, 8
$LN18@CL_ReadLin:

; 2031 : }

	pop	edi
	pop	esi
	pop	ebx
	mov	ecx, DWORD PTR __$ArrayPad$[ebp]
	xor	ecx, ebp
	call	@__security_check_cookie@4
	mov	esp, ebp
	pop	ebp
	ret	0
_CL_ReadLineFile_f ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File D:\DevDragon\XashFE\dev\src\engine\client\gl_beams.c
;	COMDAT _CL_ParseViewBeam
_TEXT	SEGMENT
tv64 = -148						; size = 4
_a$ = -80						; size = 4
_b$ = -76						; size = 4
_g$ = -72						; size = 4
_r$ = -68						; size = 4
_speed$ = -64						; size = 4
_noise$ = -60						; size = 4
_endEnt$ = -56						; size = 4
_startEnt$ = -52					; size = 4
_width$ = -48						; size = 4
_life$ = -44						; size = 4
_frameRate$ = -40					; size = 4
_startFrame$ = -36					; size = 4
_modelIndex$ = -32					; size = 4
_end$ = -28						; size = 12
_start$ = -16						; size = 12
__$ArrayPad$ = -4					; size = 4
_msg$ = 8						; size = 4
_beamType$ = 12						; size = 4
_CL_ParseViewBeam PROC					; COMDAT

; 1802 : {

	push	ebp
	mov	ebp, esp
	sub	esp, 148				; 00000094H
	mov	eax, DWORD PTR ___security_cookie
	xor	eax, ebp
	mov	DWORD PTR __$ArrayPad$[ebp], eax
	push	ebx
	push	esi
	push	edi

; 1803 : 	vec3_t	start, end;
; 1804 : 	int	modelIndex, startFrame;
; 1805 : 	float	frameRate, life, width;
; 1806 : 	int	startEnt, endEnt;
; 1807 : 	float	noise, speed;
; 1808 : 	float	r, g, b, a;
; 1809 : 
; 1810 : 	switch( beamType )

	mov	eax, DWORD PTR _beamType$[ebp]
	mov	DWORD PTR tv64[ebp], eax
	cmp	DWORD PTR tv64[ebp], 99			; 00000063H
	ja	$LN2@CL_ParseVi
	mov	ecx, DWORD PTR tv64[ebp]
	movzx	edx, BYTE PTR $LN18@CL_ParseVi[ecx]
	jmp	DWORD PTR $LN19@CL_ParseVi[edx*4]
$LN4@CL_ParseVi:

; 1811 : 	{
; 1812 : 	case TE_BEAMPOINTS:
; 1813 : 		start[0] = MSG_ReadCoord( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadCoord
	add	esp, 4
	mov	ecx, 4
	imul	edx, ecx, 0
	fstp	DWORD PTR _start$[ebp+edx]

; 1814 : 		start[1] = MSG_ReadCoord( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadCoord
	add	esp, 4
	mov	ecx, 4
	shl	ecx, 0
	fstp	DWORD PTR _start$[ebp+ecx]

; 1815 : 		start[2] = MSG_ReadCoord( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadCoord
	add	esp, 4
	mov	ecx, 4
	shl	ecx, 1
	fstp	DWORD PTR _start$[ebp+ecx]

; 1816 : 		end[0] = MSG_ReadCoord( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadCoord
	add	esp, 4
	mov	ecx, 4
	imul	edx, ecx, 0
	fstp	DWORD PTR _end$[ebp+edx]

; 1817 : 		end[1] = MSG_ReadCoord( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadCoord
	add	esp, 4
	mov	ecx, 4
	shl	ecx, 0
	fstp	DWORD PTR _end$[ebp+ecx]

; 1818 : 		end[2] = MSG_ReadCoord( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadCoord
	add	esp, 4
	mov	ecx, 4
	shl	ecx, 1
	fstp	DWORD PTR _end$[ebp+ecx]

; 1819 : 		modelIndex = MSG_ReadShort( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadShort
	add	esp, 4
	mov	DWORD PTR _modelIndex$[ebp], eax

; 1820 : 		startFrame = MSG_ReadByte( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	mov	DWORD PTR _startFrame$[ebp], eax

; 1821 : 		frameRate = (float)MSG_ReadByte( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	movss	DWORD PTR _frameRate$[ebp], xmm0

; 1822 : 		life = (float)(MSG_ReadByte( msg ) * 0.1f);

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	mulss	xmm0, DWORD PTR __real@3dcccccd
	movss	DWORD PTR _life$[ebp], xmm0

; 1823 : 		width = (float)(MSG_ReadByte( msg ) * 0.1f);

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	mulss	xmm0, DWORD PTR __real@3dcccccd
	movss	DWORD PTR _width$[ebp], xmm0

; 1824 : 		noise = (float)(MSG_ReadByte( msg ) * 0.01f);

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	mulss	xmm0, DWORD PTR __real@3c23d70a
	movss	DWORD PTR _noise$[ebp], xmm0

; 1825 : 		r = (float)MSG_ReadByte( msg ) / 255.0f;

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	divss	xmm0, DWORD PTR __real@437f0000
	movss	DWORD PTR _r$[ebp], xmm0

; 1826 : 		g = (float)MSG_ReadByte( msg ) / 255.0f;

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	divss	xmm0, DWORD PTR __real@437f0000
	movss	DWORD PTR _g$[ebp], xmm0

; 1827 : 		b = (float)MSG_ReadByte( msg ) / 255.0f;

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	divss	xmm0, DWORD PTR __real@437f0000
	movss	DWORD PTR _b$[ebp], xmm0

; 1828 : 		a = (float)MSG_ReadByte( msg ) / 255.0f;

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	divss	xmm0, DWORD PTR __real@437f0000
	movss	DWORD PTR _a$[ebp], xmm0

; 1829 : 		speed = (float)(MSG_ReadByte( msg ) * 0.1f);

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	mulss	xmm0, DWORD PTR __real@3dcccccd
	movss	DWORD PTR _speed$[ebp], xmm0

; 1830 : 		R_BeamPoints( start, end, modelIndex, life, width, noise, a, speed, startFrame, frameRate, r, g, b );

	push	ecx
	movss	xmm0, DWORD PTR _b$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _g$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _r$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _frameRate$[ebp]
	movss	DWORD PTR [esp], xmm0
	mov	eax, DWORD PTR _startFrame$[ebp]
	push	eax
	push	ecx
	movss	xmm0, DWORD PTR _speed$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _a$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _noise$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _width$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _life$[ebp]
	movss	DWORD PTR [esp], xmm0
	mov	ecx, DWORD PTR _modelIndex$[ebp]
	push	ecx
	lea	edx, DWORD PTR _end$[ebp]
	push	edx
	lea	eax, DWORD PTR _start$[ebp]
	push	eax
	call	_R_BeamPoints
	add	esp, 52					; 00000034H

; 1831 : 		break;

	jmp	$LN2@CL_ParseVi
$LN5@CL_ParseVi:

; 1832 : 	case TE_BEAMENTPOINT:
; 1833 : 		startEnt = MSG_ReadShort( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadShort
	add	esp, 4
	mov	DWORD PTR _startEnt$[ebp], eax

; 1834 : 		end[0] = MSG_ReadCoord( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadCoord
	add	esp, 4
	mov	ecx, 4
	imul	edx, ecx, 0
	fstp	DWORD PTR _end$[ebp+edx]

; 1835 : 		end[1] = MSG_ReadCoord( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadCoord
	add	esp, 4
	mov	ecx, 4
	shl	ecx, 0
	fstp	DWORD PTR _end$[ebp+ecx]

; 1836 : 		end[2] = MSG_ReadCoord( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadCoord
	add	esp, 4
	mov	ecx, 4
	shl	ecx, 1
	fstp	DWORD PTR _end$[ebp+ecx]

; 1837 : 		modelIndex = MSG_ReadShort( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadShort
	add	esp, 4
	mov	DWORD PTR _modelIndex$[ebp], eax

; 1838 : 		startFrame = MSG_ReadByte( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	mov	DWORD PTR _startFrame$[ebp], eax

; 1839 : 		frameRate = (float)MSG_ReadByte( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	movss	DWORD PTR _frameRate$[ebp], xmm0

; 1840 : 		life = (float)(MSG_ReadByte( msg ) * 0.1f);

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	mulss	xmm0, DWORD PTR __real@3dcccccd
	movss	DWORD PTR _life$[ebp], xmm0

; 1841 : 		width = (float)(MSG_ReadByte( msg ) * 0.1f);

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	mulss	xmm0, DWORD PTR __real@3dcccccd
	movss	DWORD PTR _width$[ebp], xmm0

; 1842 : 		noise = (float)(MSG_ReadByte( msg ) * 0.01f);

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	mulss	xmm0, DWORD PTR __real@3c23d70a
	movss	DWORD PTR _noise$[ebp], xmm0

; 1843 : 		r = (float)MSG_ReadByte( msg ) / 255.0f;

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	divss	xmm0, DWORD PTR __real@437f0000
	movss	DWORD PTR _r$[ebp], xmm0

; 1844 : 		g = (float)MSG_ReadByte( msg ) / 255.0f;

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	divss	xmm0, DWORD PTR __real@437f0000
	movss	DWORD PTR _g$[ebp], xmm0

; 1845 : 		b = (float)MSG_ReadByte( msg ) / 255.0f;

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	divss	xmm0, DWORD PTR __real@437f0000
	movss	DWORD PTR _b$[ebp], xmm0

; 1846 : 		a = (float)MSG_ReadByte( msg ) / 255.0f;

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	divss	xmm0, DWORD PTR __real@437f0000
	movss	DWORD PTR _a$[ebp], xmm0

; 1847 : 		speed = (float)(MSG_ReadByte( msg ) * 0.1f);

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	mulss	xmm0, DWORD PTR __real@3dcccccd
	movss	DWORD PTR _speed$[ebp], xmm0

; 1848 : 		R_BeamEntPoint( startEnt, end, modelIndex, life, width, noise, a, speed, startFrame, frameRate, r, g, b );

	push	ecx
	movss	xmm0, DWORD PTR _b$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _g$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _r$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _frameRate$[ebp]
	movss	DWORD PTR [esp], xmm0
	mov	eax, DWORD PTR _startFrame$[ebp]
	push	eax
	push	ecx
	movss	xmm0, DWORD PTR _speed$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _a$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _noise$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _width$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _life$[ebp]
	movss	DWORD PTR [esp], xmm0
	mov	ecx, DWORD PTR _modelIndex$[ebp]
	push	ecx
	lea	edx, DWORD PTR _end$[ebp]
	push	edx
	mov	eax, DWORD PTR _startEnt$[ebp]
	push	eax
	call	_R_BeamEntPoint
	add	esp, 52					; 00000034H

; 1849 : 		break;

	jmp	$LN2@CL_ParseVi
$LN6@CL_ParseVi:

; 1850 : 	case TE_LIGHTNING:
; 1851 : 		start[0] = MSG_ReadCoord( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadCoord
	add	esp, 4
	mov	ecx, 4
	imul	edx, ecx, 0
	fstp	DWORD PTR _start$[ebp+edx]

; 1852 : 		start[1] = MSG_ReadCoord( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadCoord
	add	esp, 4
	mov	ecx, 4
	shl	ecx, 0
	fstp	DWORD PTR _start$[ebp+ecx]

; 1853 : 		start[2] = MSG_ReadCoord( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadCoord
	add	esp, 4
	mov	ecx, 4
	shl	ecx, 1
	fstp	DWORD PTR _start$[ebp+ecx]

; 1854 : 		end[0] = MSG_ReadCoord( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadCoord
	add	esp, 4
	mov	ecx, 4
	imul	edx, ecx, 0
	fstp	DWORD PTR _end$[ebp+edx]

; 1855 : 		end[1] = MSG_ReadCoord( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadCoord
	add	esp, 4
	mov	ecx, 4
	shl	ecx, 0
	fstp	DWORD PTR _end$[ebp+ecx]

; 1856 : 		end[2] = MSG_ReadCoord( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadCoord
	add	esp, 4
	mov	ecx, 4
	shl	ecx, 1
	fstp	DWORD PTR _end$[ebp+ecx]

; 1857 : 		life = (float)(MSG_ReadByte( msg ) * 0.1f);

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	mulss	xmm0, DWORD PTR __real@3dcccccd
	movss	DWORD PTR _life$[ebp], xmm0

; 1858 : 		width = (float)(MSG_ReadByte( msg ) * 0.1f);

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	mulss	xmm0, DWORD PTR __real@3dcccccd
	movss	DWORD PTR _width$[ebp], xmm0

; 1859 : 		noise = (float)(MSG_ReadByte( msg ) * 0.01f);

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	mulss	xmm0, DWORD PTR __real@3c23d70a
	movss	DWORD PTR _noise$[ebp], xmm0

; 1860 : 		modelIndex = MSG_ReadShort( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadShort
	add	esp, 4
	mov	DWORD PTR _modelIndex$[ebp], eax

; 1861 : 		R_BeamLightning( start, end, modelIndex, life, width, noise, 0.6F, 3.5f );

	push	ecx
	movss	xmm0, DWORD PTR __real@40600000
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR __real@3f19999a
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _noise$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _width$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _life$[ebp]
	movss	DWORD PTR [esp], xmm0
	mov	eax, DWORD PTR _modelIndex$[ebp]
	push	eax
	lea	ecx, DWORD PTR _end$[ebp]
	push	ecx
	lea	edx, DWORD PTR _start$[ebp]
	push	edx
	call	_R_BeamLightning
	add	esp, 32					; 00000020H

; 1862 : 		break;

	jmp	$LN2@CL_ParseVi
$LN7@CL_ParseVi:

; 1863 : 	case TE_BEAMENTS:
; 1864 : 		startEnt = MSG_ReadShort( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadShort
	add	esp, 4
	mov	DWORD PTR _startEnt$[ebp], eax

; 1865 : 		endEnt = MSG_ReadShort( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadShort
	add	esp, 4
	mov	DWORD PTR _endEnt$[ebp], eax

; 1866 : 		modelIndex = MSG_ReadShort( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadShort
	add	esp, 4
	mov	DWORD PTR _modelIndex$[ebp], eax

; 1867 : 		startFrame = MSG_ReadByte( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	mov	DWORD PTR _startFrame$[ebp], eax

; 1868 : 		frameRate = (float)(MSG_ReadByte( msg ) * 0.1f);

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	mulss	xmm0, DWORD PTR __real@3dcccccd
	movss	DWORD PTR _frameRate$[ebp], xmm0

; 1869 : 		life = (float)(MSG_ReadByte( msg ) * 0.1f);

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	mulss	xmm0, DWORD PTR __real@3dcccccd
	movss	DWORD PTR _life$[ebp], xmm0

; 1870 : 		width = (float)(MSG_ReadByte( msg ) * 0.1f);

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	mulss	xmm0, DWORD PTR __real@3dcccccd
	movss	DWORD PTR _width$[ebp], xmm0

; 1871 : 		noise = (float)(MSG_ReadByte( msg ) * 0.01f);

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	mulss	xmm0, DWORD PTR __real@3c23d70a
	movss	DWORD PTR _noise$[ebp], xmm0

; 1872 : 		r = (float)MSG_ReadByte( msg ) / 255.0f;

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	divss	xmm0, DWORD PTR __real@437f0000
	movss	DWORD PTR _r$[ebp], xmm0

; 1873 : 		g = (float)MSG_ReadByte( msg ) / 255.0f;

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	divss	xmm0, DWORD PTR __real@437f0000
	movss	DWORD PTR _g$[ebp], xmm0

; 1874 : 		b = (float)MSG_ReadByte( msg ) / 255.0f;

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	divss	xmm0, DWORD PTR __real@437f0000
	movss	DWORD PTR _b$[ebp], xmm0

; 1875 : 		a = (float)MSG_ReadByte( msg ) / 255.0f;

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	divss	xmm0, DWORD PTR __real@437f0000
	movss	DWORD PTR _a$[ebp], xmm0

; 1876 : 		speed = (float)(MSG_ReadByte( msg ) * 0.1f);

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	mulss	xmm0, DWORD PTR __real@3dcccccd
	movss	DWORD PTR _speed$[ebp], xmm0

; 1877 : 		R_BeamEnts( startEnt, endEnt, modelIndex, life, width, noise, a, speed, startFrame, frameRate, r, g, b );

	push	ecx
	movss	xmm0, DWORD PTR _b$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _g$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _r$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _frameRate$[ebp]
	movss	DWORD PTR [esp], xmm0
	mov	eax, DWORD PTR _startFrame$[ebp]
	push	eax
	push	ecx
	movss	xmm0, DWORD PTR _speed$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _a$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _noise$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _width$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _life$[ebp]
	movss	DWORD PTR [esp], xmm0
	mov	ecx, DWORD PTR _modelIndex$[ebp]
	push	ecx
	mov	edx, DWORD PTR _endEnt$[ebp]
	push	edx
	mov	eax, DWORD PTR _startEnt$[ebp]
	push	eax
	call	_R_BeamEnts
	add	esp, 52					; 00000034H

; 1878 : 		break;

	jmp	$LN2@CL_ParseVi

; 1879 : 	case TE_BEAM:
; 1880 : 		break;

	jmp	$LN2@CL_ParseVi
$LN9@CL_ParseVi:

; 1881 : 	case TE_BEAMSPRITE:
; 1882 : 		start[0] = MSG_ReadCoord( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadCoord
	add	esp, 4
	mov	ecx, 4
	imul	edx, ecx, 0
	fstp	DWORD PTR _start$[ebp+edx]

; 1883 : 		start[1] = MSG_ReadCoord( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadCoord
	add	esp, 4
	mov	ecx, 4
	shl	ecx, 0
	fstp	DWORD PTR _start$[ebp+ecx]

; 1884 : 		start[2] = MSG_ReadCoord( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadCoord
	add	esp, 4
	mov	ecx, 4
	shl	ecx, 1
	fstp	DWORD PTR _start$[ebp+ecx]

; 1885 : 		end[0] = MSG_ReadCoord( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadCoord
	add	esp, 4
	mov	ecx, 4
	imul	edx, ecx, 0
	fstp	DWORD PTR _end$[ebp+edx]

; 1886 : 		end[1] = MSG_ReadCoord( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadCoord
	add	esp, 4
	mov	ecx, 4
	shl	ecx, 0
	fstp	DWORD PTR _end$[ebp+ecx]

; 1887 : 		end[2] = MSG_ReadCoord( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadCoord
	add	esp, 4
	mov	ecx, 4
	shl	ecx, 1
	fstp	DWORD PTR _end$[ebp+ecx]

; 1888 : 		modelIndex = MSG_ReadShort( msg );	// beam model

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadShort
	add	esp, 4
	mov	DWORD PTR _modelIndex$[ebp], eax

; 1889 : 		startFrame = MSG_ReadShort( msg );	// sprite model

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadShort
	add	esp, 4
	mov	DWORD PTR _startFrame$[ebp], eax

; 1890 : 		R_BeamSprite( start, end, modelIndex, startFrame );

	mov	eax, DWORD PTR _startFrame$[ebp]
	push	eax
	mov	ecx, DWORD PTR _modelIndex$[ebp]
	push	ecx
	lea	edx, DWORD PTR _end$[ebp]
	push	edx
	lea	eax, DWORD PTR _start$[ebp]
	push	eax
	call	_R_BeamSprite
	add	esp, 16					; 00000010H

; 1891 : 		break;

	jmp	$LN2@CL_ParseVi
$LN10@CL_ParseVi:

; 1892 : 	case TE_BEAMTORUS:
; 1893 : 	case TE_BEAMDISK:
; 1894 : 	case TE_BEAMCYLINDER:
; 1895 : 		start[0] = MSG_ReadCoord( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadCoord
	add	esp, 4
	mov	ecx, 4
	imul	edx, ecx, 0
	fstp	DWORD PTR _start$[ebp+edx]

; 1896 : 		start[1] = MSG_ReadCoord( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadCoord
	add	esp, 4
	mov	ecx, 4
	shl	ecx, 0
	fstp	DWORD PTR _start$[ebp+ecx]

; 1897 : 		start[2] = MSG_ReadCoord( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadCoord
	add	esp, 4
	mov	ecx, 4
	shl	ecx, 1
	fstp	DWORD PTR _start$[ebp+ecx]

; 1898 : 		end[0] = MSG_ReadCoord( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadCoord
	add	esp, 4
	mov	ecx, 4
	imul	edx, ecx, 0
	fstp	DWORD PTR _end$[ebp+edx]

; 1899 : 		end[1] = MSG_ReadCoord( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadCoord
	add	esp, 4
	mov	ecx, 4
	shl	ecx, 0
	fstp	DWORD PTR _end$[ebp+ecx]

; 1900 : 		end[2] = MSG_ReadCoord( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadCoord
	add	esp, 4
	mov	ecx, 4
	shl	ecx, 1
	fstp	DWORD PTR _end$[ebp+ecx]

; 1901 : 		modelIndex = MSG_ReadShort( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadShort
	add	esp, 4
	mov	DWORD PTR _modelIndex$[ebp], eax

; 1902 : 		startFrame = MSG_ReadByte( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	mov	DWORD PTR _startFrame$[ebp], eax

; 1903 : 		frameRate = (float)(MSG_ReadByte( msg ));

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	movss	DWORD PTR _frameRate$[ebp], xmm0

; 1904 : 		life = (float)(MSG_ReadByte( msg ) * 0.1f);

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	mulss	xmm0, DWORD PTR __real@3dcccccd
	movss	DWORD PTR _life$[ebp], xmm0

; 1905 : 		width = (float)(MSG_ReadByte( msg ));

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	movss	DWORD PTR _width$[ebp], xmm0

; 1906 : 		noise = (float)(MSG_ReadByte( msg ) * 0.1f);

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	mulss	xmm0, DWORD PTR __real@3dcccccd
	movss	DWORD PTR _noise$[ebp], xmm0

; 1907 : 		r = (float)MSG_ReadByte( msg ) / 255.0f;

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	divss	xmm0, DWORD PTR __real@437f0000
	movss	DWORD PTR _r$[ebp], xmm0

; 1908 : 		g = (float)MSG_ReadByte( msg ) / 255.0f;

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	divss	xmm0, DWORD PTR __real@437f0000
	movss	DWORD PTR _g$[ebp], xmm0

; 1909 : 		b = (float)MSG_ReadByte( msg ) / 255.0f;

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	divss	xmm0, DWORD PTR __real@437f0000
	movss	DWORD PTR _b$[ebp], xmm0

; 1910 : 		a = (float)MSG_ReadByte( msg ) / 255.0f;

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	divss	xmm0, DWORD PTR __real@437f0000
	movss	DWORD PTR _a$[ebp], xmm0

; 1911 : 		speed = (float)(MSG_ReadByte( msg ) / 0.1f);

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	divss	xmm0, DWORD PTR __real@3dcccccd
	movss	DWORD PTR _speed$[ebp], xmm0

; 1912 : 		R_BeamCirclePoints( beamType, start, end, modelIndex, life, width, noise, a, speed, startFrame, frameRate, r, g, b );

	push	ecx
	movss	xmm0, DWORD PTR _b$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _g$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _r$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _frameRate$[ebp]
	movss	DWORD PTR [esp], xmm0
	mov	eax, DWORD PTR _startFrame$[ebp]
	push	eax
	push	ecx
	movss	xmm0, DWORD PTR _speed$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _a$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _noise$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _width$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _life$[ebp]
	movss	DWORD PTR [esp], xmm0
	mov	ecx, DWORD PTR _modelIndex$[ebp]
	push	ecx
	lea	edx, DWORD PTR _end$[ebp]
	push	edx
	lea	eax, DWORD PTR _start$[ebp]
	push	eax
	mov	ecx, DWORD PTR _beamType$[ebp]
	push	ecx
	call	_R_BeamCirclePoints
	add	esp, 56					; 00000038H

; 1913 : 		break;

	jmp	$LN2@CL_ParseVi
$LN13@CL_ParseVi:

; 1914 : 	case TE_BEAMFOLLOW:
; 1915 : 		startEnt = MSG_ReadShort( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadShort
	add	esp, 4
	mov	DWORD PTR _startEnt$[ebp], eax

; 1916 : 		modelIndex = MSG_ReadShort( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadShort
	add	esp, 4
	mov	DWORD PTR _modelIndex$[ebp], eax

; 1917 : 		life = (float)(MSG_ReadByte( msg ) * 0.1f);

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	mulss	xmm0, DWORD PTR __real@3dcccccd
	movss	DWORD PTR _life$[ebp], xmm0

; 1918 : 		width = (float)MSG_ReadByte( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	movss	DWORD PTR _width$[ebp], xmm0

; 1919 : 		r = (float)MSG_ReadByte( msg ) / 255.0f;

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	divss	xmm0, DWORD PTR __real@437f0000
	movss	DWORD PTR _r$[ebp], xmm0

; 1920 : 		g = (float)MSG_ReadByte( msg ) / 255.0f;

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	divss	xmm0, DWORD PTR __real@437f0000
	movss	DWORD PTR _g$[ebp], xmm0

; 1921 : 		b = (float)MSG_ReadByte( msg ) / 255.0f;

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	divss	xmm0, DWORD PTR __real@437f0000
	movss	DWORD PTR _b$[ebp], xmm0

; 1922 : 		a = (float)MSG_ReadByte( msg ) / 255.0f;

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	divss	xmm0, DWORD PTR __real@437f0000
	movss	DWORD PTR _a$[ebp], xmm0

; 1923 : 		R_BeamFollow( startEnt, modelIndex, life, width, r, g, b, a );

	push	ecx
	movss	xmm0, DWORD PTR _a$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _b$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _g$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _r$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _width$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _life$[ebp]
	movss	DWORD PTR [esp], xmm0
	mov	eax, DWORD PTR _modelIndex$[ebp]
	push	eax
	mov	ecx, DWORD PTR _startEnt$[ebp]
	push	ecx
	call	_R_BeamFollow
	add	esp, 32					; 00000020H

; 1924 : 		break;

	jmp	$LN2@CL_ParseVi
$LN14@CL_ParseVi:

; 1925 : 	case TE_BEAMRING:
; 1926 : 		startEnt = MSG_ReadShort( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadShort
	add	esp, 4
	mov	DWORD PTR _startEnt$[ebp], eax

; 1927 : 		endEnt = MSG_ReadShort( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadShort
	add	esp, 4
	mov	DWORD PTR _endEnt$[ebp], eax

; 1928 : 		modelIndex = MSG_ReadShort( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadShort
	add	esp, 4
	mov	DWORD PTR _modelIndex$[ebp], eax

; 1929 : 		startFrame = MSG_ReadByte( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	mov	DWORD PTR _startFrame$[ebp], eax

; 1930 : 		frameRate = (float)MSG_ReadByte( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	movss	DWORD PTR _frameRate$[ebp], xmm0

; 1931 : 		life = (float)(MSG_ReadByte( msg ) * 0.1f);

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	mulss	xmm0, DWORD PTR __real@3dcccccd
	movss	DWORD PTR _life$[ebp], xmm0

; 1932 : 		width = (float)(MSG_ReadByte( msg ) * 0.1f);

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	mulss	xmm0, DWORD PTR __real@3dcccccd
	movss	DWORD PTR _width$[ebp], xmm0

; 1933 : 		noise = (float)(MSG_ReadByte( msg ) * 0.01f);

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	mulss	xmm0, DWORD PTR __real@3c23d70a
	movss	DWORD PTR _noise$[ebp], xmm0

; 1934 : 		r = (float)MSG_ReadByte( msg ) / 255.0f;

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	divss	xmm0, DWORD PTR __real@437f0000
	movss	DWORD PTR _r$[ebp], xmm0

; 1935 : 		g = (float)MSG_ReadByte( msg ) / 255.0f;

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	divss	xmm0, DWORD PTR __real@437f0000
	movss	DWORD PTR _g$[ebp], xmm0

; 1936 : 		b = (float)MSG_ReadByte( msg ) / 255.0f;

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	divss	xmm0, DWORD PTR __real@437f0000
	movss	DWORD PTR _b$[ebp], xmm0

; 1937 : 		a = (float)MSG_ReadByte( msg ) / 255.0f;

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	divss	xmm0, DWORD PTR __real@437f0000
	movss	DWORD PTR _a$[ebp], xmm0

; 1938 : 		speed = (float)(MSG_ReadByte( msg ) * 0.1f);

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadByte
	add	esp, 4
	cvtsi2ss xmm0, eax
	mulss	xmm0, DWORD PTR __real@3dcccccd
	movss	DWORD PTR _speed$[ebp], xmm0

; 1939 : 		R_BeamRing( startEnt, endEnt, modelIndex, life, width, noise, a, speed, startFrame, frameRate, r, g, b );

	push	ecx
	movss	xmm0, DWORD PTR _b$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _g$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _r$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _frameRate$[ebp]
	movss	DWORD PTR [esp], xmm0
	mov	eax, DWORD PTR _startFrame$[ebp]
	push	eax
	push	ecx
	movss	xmm0, DWORD PTR _speed$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _a$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _noise$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _width$[ebp]
	movss	DWORD PTR [esp], xmm0
	push	ecx
	movss	xmm0, DWORD PTR _life$[ebp]
	movss	DWORD PTR [esp], xmm0
	mov	ecx, DWORD PTR _modelIndex$[ebp]
	push	ecx
	mov	edx, DWORD PTR _endEnt$[ebp]
	push	edx
	mov	eax, DWORD PTR _startEnt$[ebp]
	push	eax
	call	_R_BeamRing
	add	esp, 52					; 00000034H

; 1940 : 		break;

	jmp	SHORT $LN2@CL_ParseVi

; 1941 : 	case TE_BEAMHOSE:
; 1942 : 		break;

	jmp	SHORT $LN2@CL_ParseVi
$LN16@CL_ParseVi:

; 1943 : 	case TE_KILLBEAM:
; 1944 : 		startEnt = MSG_ReadShort( msg );

	mov	eax, DWORD PTR _msg$[ebp]
	push	eax
	call	_MSG_ReadShort
	add	esp, 4
	mov	DWORD PTR _startEnt$[ebp], eax

; 1945 : 		R_BeamKill( startEnt );

	mov	eax, DWORD PTR _startEnt$[ebp]
	push	eax
	call	_R_BeamKill
	add	esp, 4
$LN2@CL_ParseVi:

; 1946 : 		break;
; 1947 : 	}
; 1948 : }

	pop	edi
	pop	esi
	pop	ebx
	mov	ecx, DWORD PTR __$ArrayPad$[ebp]
	xor	ecx, ebp
	call	@__security_check_cookie@4
	mov	esp, ebp
	pop	ebp
	ret	0
	npad	1
$LN19@CL_ParseVi:
	DD	$LN4@CL_ParseVi
	DD	$LN5@CL_ParseVi
	DD	$LN6@CL_ParseVi
	DD	$LN7@CL_ParseVi
	DD	$LN9@CL_ParseVi
	DD	$LN10@CL_ParseVi
	DD	$LN13@CL_ParseVi
	DD	$LN14@CL_ParseVi
	DD	$LN16@CL_ParseVi
	DD	$LN2@CL_ParseVi
$LN18@CL_ParseVi:
	DB	0
	DB	1
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	2
	DB	3
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	4
	DB	5
	DB	5
	DB	5
	DB	6
	DB	9
	DB	7
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	9
	DB	8
_CL_ParseViewBeam ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File D:\DevDragon\XashFE\dev\src\engine\client\gl_beams.c
;	COMDAT _CL_KillDeadBeams
_TEXT	SEGMENT
_pHead$ = -16						; size = 4
_pnext$ = -12						; size = 4
_pnewlist$ = -8						; size = 4
_pbeam$ = -4						; size = 4
_pDeadEntity$ = 8					; size = 4
_CL_KillDeadBeams PROC					; COMDAT

; 1405 : {

	push	ebp
	mov	ebp, esp
	sub	esp, 80					; 00000050H
	push	ebx
	push	esi
	push	edi

; 1406 : 	BEAM		*pbeam;
; 1407 : 	BEAM		*pnewlist;
; 1408 : 	BEAM		*pnext;
; 1409 : 	particle_t	*pHead;	// build a new list to replace cl_active_beams.
; 1410 : 
; 1411 : 	pbeam = cl_active_beams;	// old list.

	mov	eax, DWORD PTR _cl_active_beams
	mov	DWORD PTR _pbeam$[ebp], eax

; 1412 : 	pnewlist = NULL;		// new list.

	mov	DWORD PTR _pnewlist$[ebp], 0
$LN10@CL_KillDea:

; 1413 : 	
; 1414 : 	while( pbeam )

	cmp	DWORD PTR _pbeam$[ebp], 0
	je	$LN3@CL_KillDea

; 1415 : 	{
; 1416 : 		pnext = pbeam->next;

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax]
	mov	DWORD PTR _pnext$[ebp], ecx

; 1417 : 
; 1418 : 		// link into new list.
; 1419 : 		if( R_BeamGetEntity( pbeam->startEntity ) != pDeadEntity )

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+100]
	push	ecx
	call	_R_BeamGetEntity
	add	esp, 4
	cmp	eax, DWORD PTR _pDeadEntity$[ebp]
	je	SHORT $LN6@CL_KillDea

; 1420 : 		{
; 1421 : 			pbeam->next = pnewlist;

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR _pnewlist$[ebp]
	mov	DWORD PTR [eax], ecx

; 1422 : 			pnewlist = pbeam;

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	DWORD PTR _pnewlist$[ebp], eax

; 1423 : 
; 1424 : 			pbeam = pnext;

	mov	eax, DWORD PTR _pnext$[ebp]
	mov	DWORD PTR _pbeam$[ebp], eax

; 1425 : 			continue;

	jmp	SHORT $LN10@CL_KillDea
$LN6@CL_KillDea:

; 1426 : 		}
; 1427 : 
; 1428 : 		pbeam->flags &= ~(FBEAM_STARTENTITY | FBEAM_ENDENTITY);

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+8]
	and	ecx, -4					; fffffffcH
	mov	edx, DWORD PTR _pbeam$[ebp]
	mov	DWORD PTR [edx+8], ecx

; 1429 : 
; 1430 : 		if( pbeam->type != TE_BEAMFOLLOW )

	mov	eax, DWORD PTR _pbeam$[ebp]
	cmp	DWORD PTR [eax+4], 22			; 00000016H
	je	SHORT $LN7@CL_KillDea

; 1431 : 		{
; 1432 : 			// remove beam
; 1433 : 			pbeam->die = cl.time - 0.1f;  

	movsd	xmm0, QWORD PTR _cl+2167640
	subsd	xmm0, QWORD PTR __real@3fb99999a0000000
	cvtsd2ss xmm0, xmm0
	mov	eax, DWORD PTR _pbeam$[ebp]
	movss	DWORD PTR [eax+56], xmm0

; 1434 : 
; 1435 : 			// kill off particles
; 1436 : 			pHead = pbeam->particles;

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR [eax+120]
	mov	DWORD PTR _pHead$[ebp], ecx
$LN4@CL_KillDea:

; 1437 : 			while( pHead )

	cmp	DWORD PTR _pHead$[ebp], 0
	je	SHORT $LN5@CL_KillDea

; 1438 : 			{
; 1439 : 				pHead->die = cl.time - 0.1f;

	movsd	xmm0, QWORD PTR _cl+2167640
	subsd	xmm0, QWORD PTR __real@3fb99999a0000000
	cvtsd2ss xmm0, xmm0
	mov	eax, DWORD PTR _pHead$[ebp]
	movss	DWORD PTR [eax+36], xmm0

; 1440 : 				pHead = pHead->next;

	mov	eax, DWORD PTR _pHead$[ebp]
	mov	ecx, DWORD PTR [eax+16]
	mov	DWORD PTR _pHead$[ebp], ecx

; 1441 : 			}

	jmp	SHORT $LN4@CL_KillDea
$LN5@CL_KillDea:

; 1442 : 
; 1443 : 			// free the beam
; 1444 : 			R_BeamFree( pbeam );

	mov	eax, DWORD PTR _pbeam$[ebp]
	push	eax
	call	_R_BeamFree
	add	esp, 4

; 1445 : 		}

	jmp	SHORT $LN8@CL_KillDea
$LN7@CL_KillDea:

; 1446 : 		else
; 1447 : 		{
; 1448 : 			// stay active
; 1449 : 			pbeam->next = pnewlist;

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	ecx, DWORD PTR _pnewlist$[ebp]
	mov	DWORD PTR [eax], ecx

; 1450 : 			pnewlist = pbeam;

	mov	eax, DWORD PTR _pbeam$[ebp]
	mov	DWORD PTR _pnewlist$[ebp], eax
$LN8@CL_KillDea:

; 1451 : 		}
; 1452 : 
; 1453 : 		pbeam = pnext;

	mov	eax, DWORD PTR _pnext$[ebp]
	mov	DWORD PTR _pbeam$[ebp], eax

; 1454 : 	}

	jmp	$LN10@CL_KillDea
$LN3@CL_KillDea:

; 1455 : 
; 1456 : 	// We now have a new list with the bogus stuff released.
; 1457 : 	cl_active_beams = pnewlist;

	mov	eax, DWORD PTR _pnewlist$[ebp]
	mov	DWORD PTR _cl_active_beams, eax

; 1458 : }

	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
_CL_KillDeadBeams ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File D:\DevDragon\XashFE\dev\src\engine\client\gl_beams.c
;	COMDAT _CL_AddCustomBeam
_TEXT	SEGMENT
_pEnvBeam$ = 8						; size = 4
_CL_AddCustomBeam PROC					; COMDAT

; 1383 : {

	push	ebp
	mov	ebp, esp
	sub	esp, 64					; 00000040H
	push	ebx
	push	esi
	push	edi

; 1384 : 	if( tr.draw_list->num_beam_entities >= MAX_VISIBLE_PACKET )

	mov	eax, DWORD PTR _tr+66792
	cmp	DWORD PTR [eax+24584], 2048		; 00000800H
	jb	SHORT $LN2@CL_AddCust

; 1385 : 	{
; 1386 : 		Con_Printf( S_ERROR "Too many beams %d!\n", tr.draw_list->num_beam_entities );

	mov	eax, DWORD PTR _tr+66792
	mov	ecx, DWORD PTR [eax+24584]
	push	ecx
	push	OFFSET ??_C@_0BP@BMKJIJGA@?$FO1Error?3?$FO7?5Too?5many?5beams?5?$CFd?$CB?6@
	call	_Con_Printf
	add	esp, 8

; 1387 : 		return;

	jmp	SHORT $LN1@CL_AddCust
$LN2@CL_AddCust:

; 1388 : 	}
; 1389 : 
; 1390 : 	if( pEnvBeam )

	cmp	DWORD PTR _pEnvBeam$[ebp], 0
	je	SHORT $LN1@CL_AddCust

; 1391 : 	{
; 1392 : 		tr.draw_list->beam_entities[tr.draw_list->num_beam_entities] = pEnvBeam;

	mov	eax, DWORD PTR _tr+66792
	mov	ecx, DWORD PTR [eax+24584]
	mov	edx, DWORD PTR _tr+66792
	mov	eax, DWORD PTR _pEnvBeam$[ebp]
	mov	DWORD PTR [edx+ecx*4+16384], eax

; 1393 : 		tr.draw_list->num_beam_entities++;

	mov	eax, DWORD PTR _tr+66792
	mov	ecx, DWORD PTR [eax+24584]
	add	ecx, 1
	mov	edx, DWORD PTR _tr+66792
	mov	DWORD PTR [edx+24584], ecx
$LN1@CL_AddCust:

; 1394 : 	}
; 1395 : }

	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
_CL_AddCustomBeam ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File D:\DevDragon\XashFE\dev\src\engine\client\gl_beams.c
;	COMDAT _CL_DrawBeams
_TEXT	SEGMENT
tv71 = -88						; size = 4
tv67 = -88						; size = 4
_flags$ = -20						; size = 4
_i$ = -16						; size = 4
_pPrev$ = -12						; size = 4
_pNext$ = -8						; size = 4
_pBeam$ = -4						; size = 4
_fTrans$ = 8						; size = 4
_CL_DrawBeams PROC					; COMDAT

; 1496 : {

	push	ebp
	mov	ebp, esp
	sub	esp, 88					; 00000058H
	push	ebx
	push	esi
	push	edi

; 1497 : 	BEAM	*pBeam, *pNext;
; 1498 : 	BEAM	*pPrev = NULL;

	mov	DWORD PTR _pPrev$[ebp], 0

; 1499 : 	int	i, flags;
; 1500 : 
; 1501 : 	if( !CVAR_TO_BOOL( cl_draw_beams ))

	cmp	DWORD PTR _cl_draw_beams, 0
	je	SHORT $LN17@CL_DrawBea
	mov	eax, DWORD PTR _cl_draw_beams
	movss	xmm0, DWORD PTR [eax+12]
	ucomiss	xmm0, DWORD PTR __real@00000000
	lahf
	test	ah, 68					; 00000044H
	jnp	SHORT $LN17@CL_DrawBea
	mov	DWORD PTR tv67[ebp], 1
	jmp	SHORT $LN18@CL_DrawBea
$LN17@CL_DrawBea:
	mov	DWORD PTR tv67[ebp], 0
$LN18@CL_DrawBea:
	cmp	DWORD PTR tv67[ebp], 0
	jne	SHORT $LN8@CL_DrawBea

; 1502 : 		return;

	jmp	$LN1@CL_DrawBea
$LN8@CL_DrawBea:

; 1503 : 
; 1504 : 	pglShadeModel( GL_SMOOTH );

	push	7425					; 00001d01H
	call	DWORD PTR _pglShadeModel

; 1505 : 	pglDepthMask( fTrans ? GL_FALSE : GL_TRUE );

	cmp	DWORD PTR _fTrans$[ebp], 0
	je	SHORT $LN19@CL_DrawBea
	mov	DWORD PTR tv71[ebp], 0
	jmp	SHORT $LN20@CL_DrawBea
$LN19@CL_DrawBea:
	mov	DWORD PTR tv71[ebp], 1
$LN20@CL_DrawBea:
	movzx	eax, BYTE PTR tv71[ebp]
	push	eax
	call	DWORD PTR _pglDepthMask

; 1506 : 	
; 1507 : 	// server beams don't allocate beam chains
; 1508 : 	// all params are stored in cl_entity_t
; 1509 : 	for( i = 0; i < tr.draw_list->num_beam_entities; i++ )

	mov	DWORD PTR _i$[ebp], 0
	jmp	SHORT $LN4@CL_DrawBea
$LN2@CL_DrawBea:
	mov	eax, DWORD PTR _i$[ebp]
	add	eax, 1
	mov	DWORD PTR _i$[ebp], eax
$LN4@CL_DrawBea:
	mov	eax, DWORD PTR _tr+66792
	mov	ecx, DWORD PTR _i$[ebp]
	cmp	ecx, DWORD PTR [eax+24584]
	jae	SHORT $LN3@CL_DrawBea

; 1510 : 	{
; 1511 : 		RI.currentbeam = tr.draw_list->beam_entities[i];

	mov	eax, DWORD PTR _i$[ebp]
	mov	ecx, DWORD PTR _tr+66792
	mov	edx, DWORD PTR [ecx+eax*4+16384]
	mov	DWORD PTR _RI+36, edx

; 1512 : 		flags = RI.currentbeam->curstate.rendermode & 0xF0;

	mov	eax, DWORD PTR _RI+36
	mov	ecx, DWORD PTR [eax+984]
	and	ecx, 240				; 000000f0H
	mov	DWORD PTR _flags$[ebp], ecx

; 1513 : 
; 1514 : 		if( fTrans && FBitSet( flags, FBEAM_SOLID ))

	cmp	DWORD PTR _fTrans$[ebp], 0
	je	SHORT $LN9@CL_DrawBea
	mov	eax, DWORD PTR _flags$[ebp]
	and	eax, 32					; 00000020H
	je	SHORT $LN9@CL_DrawBea

; 1515 : 			continue;

	jmp	SHORT $LN2@CL_DrawBea
$LN9@CL_DrawBea:

; 1516 : 
; 1517 : 		if( !fTrans && !FBitSet( flags, FBEAM_SOLID ))

	cmp	DWORD PTR _fTrans$[ebp], 0
	jne	SHORT $LN10@CL_DrawBea
	mov	eax, DWORD PTR _flags$[ebp]
	and	eax, 32					; 00000020H
	jne	SHORT $LN10@CL_DrawBea

; 1518 : 			continue;

	jmp	SHORT $LN2@CL_DrawBea
$LN10@CL_DrawBea:

; 1519 : 
; 1520 : 		R_BeamDrawCustomEntity( RI.currentbeam );

	mov	eax, DWORD PTR _RI+36
	push	eax
	call	_R_BeamDrawCustomEntity
	add	esp, 4

; 1521 : 		r_stats.c_view_beams_count++;

	mov	eax, DWORD PTR _r_stats+20
	add	eax, 1
	mov	DWORD PTR _r_stats+20, eax

; 1522 : 	}

	jmp	SHORT $LN2@CL_DrawBea
$LN3@CL_DrawBea:

; 1523 : 
; 1524 : 	RI.currentbeam = NULL;

	mov	DWORD PTR _RI+36, 0

; 1525 : 
; 1526 : 	// draw temporary entity beams
; 1527 : 	for( pBeam = cl_active_beams; pBeam; pBeam = pNext )

	mov	eax, DWORD PTR _cl_active_beams
	mov	DWORD PTR _pBeam$[ebp], eax
	jmp	SHORT $LN7@CL_DrawBea
$LN5@CL_DrawBea:
	mov	eax, DWORD PTR _pNext$[ebp]
	mov	DWORD PTR _pBeam$[ebp], eax
$LN7@CL_DrawBea:
	cmp	DWORD PTR _pBeam$[ebp], 0
	je	$LN6@CL_DrawBea

; 1528 : 	{
; 1529 : 		// need to store the next one since we may delete this one
; 1530 : 		pNext = pBeam->next;

	mov	eax, DWORD PTR _pBeam$[ebp]
	mov	ecx, DWORD PTR [eax]
	mov	DWORD PTR _pNext$[ebp], ecx

; 1531 : 
; 1532 : 		if( fTrans && FBitSet( pBeam->flags, FBEAM_SOLID ))

	cmp	DWORD PTR _fTrans$[ebp], 0
	je	SHORT $LN11@CL_DrawBea
	mov	eax, DWORD PTR _pBeam$[ebp]
	mov	ecx, DWORD PTR [eax+8]
	and	ecx, 32					; 00000020H
	je	SHORT $LN11@CL_DrawBea

; 1533 : 			continue;

	jmp	SHORT $LN5@CL_DrawBea
$LN11@CL_DrawBea:

; 1534 : 
; 1535 : 		if( !fTrans && !FBitSet( pBeam->flags, FBEAM_SOLID ))

	cmp	DWORD PTR _fTrans$[ebp], 0
	jne	SHORT $LN12@CL_DrawBea
	mov	eax, DWORD PTR _pBeam$[ebp]
	mov	ecx, DWORD PTR [eax+8]
	and	ecx, 32					; 00000020H
	jne	SHORT $LN12@CL_DrawBea

; 1536 : 			continue;

	jmp	SHORT $LN5@CL_DrawBea
$LN12@CL_DrawBea:

; 1537 : 
; 1538 : 		// retire old beams
; 1539 : 		if( CL_BeamAttemptToDie( pBeam ))

	mov	eax, DWORD PTR _pBeam$[ebp]
	push	eax
	call	_CL_BeamAttemptToDie
	add	esp, 4
	test	eax, eax
	je	SHORT $LN13@CL_DrawBea

; 1540 : 		{
; 1541 : 			// reset links
; 1542 : 			if( pPrev ) pPrev->next = pNext;

	cmp	DWORD PTR _pPrev$[ebp], 0
	je	SHORT $LN14@CL_DrawBea
	mov	eax, DWORD PTR _pPrev$[ebp]
	mov	ecx, DWORD PTR _pNext$[ebp]
	mov	DWORD PTR [eax], ecx
	jmp	SHORT $LN15@CL_DrawBea
$LN14@CL_DrawBea:

; 1543 : 			else cl_active_beams = pNext;

	mov	eax, DWORD PTR _pNext$[ebp]
	mov	DWORD PTR _cl_active_beams, eax
$LN15@CL_DrawBea:

; 1544 : 
; 1545 : 			// free the beam
; 1546 : 			R_BeamFree( pBeam );

	mov	eax, DWORD PTR _pBeam$[ebp]
	push	eax
	call	_R_BeamFree
	add	esp, 4

; 1547 : 
; 1548 : 			pBeam = NULL;

	mov	DWORD PTR _pBeam$[ebp], 0

; 1549 : 			continue;

	jmp	SHORT $LN5@CL_DrawBea
$LN13@CL_DrawBea:

; 1550 : 		}
; 1551 : 
; 1552 : 		R_BeamDraw( pBeam, cl.time - cl.oldtime );

	movsd	xmm0, QWORD PTR _cl+2167640
	subsd	xmm0, QWORD PTR _cl+2167648
	cvtsd2ss xmm0, xmm0
	push	ecx
	movss	DWORD PTR [esp], xmm0
	mov	eax, DWORD PTR _pBeam$[ebp]
	push	eax
	call	_R_BeamDraw
	add	esp, 8

; 1553 : 		r_stats.c_view_beams_count++;

	mov	eax, DWORD PTR _r_stats+20
	add	eax, 1
	mov	DWORD PTR _r_stats+20, eax

; 1554 : 		pPrev = pBeam;

	mov	eax, DWORD PTR _pBeam$[ebp]
	mov	DWORD PTR _pPrev$[ebp], eax

; 1555 : 	}

	jmp	$LN5@CL_DrawBea
$LN6@CL_DrawBea:

; 1556 : 
; 1557 : 	pglShadeModel( GL_FLAT );

	push	7424					; 00001d00H
	call	DWORD PTR _pglShadeModel

; 1558 : 	pglDepthMask( GL_TRUE );

	push	1
	call	DWORD PTR _pglDepthMask
$LN1@CL_DrawBea:

; 1559 : }

	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
_CL_DrawBeams ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File D:\DevDragon\XashFE\dev\src\engine\client\gl_beams.c
;	COMDAT _CL_FreeViewBeams
_TEXT	SEGMENT
_CL_FreeViewBeams PROC					; COMDAT

; 1369 : {

	push	ebp
	mov	ebp, esp
	sub	esp, 64					; 00000040H
	push	ebx
	push	esi
	push	edi

; 1370 : 	if( cl_viewbeams )

	cmp	DWORD PTR _cl_viewbeams, 0
	je	SHORT $LN2@CL_FreeVie

; 1371 : 		Mem_Free( cl_viewbeams );

	mov	eax, DWORD PTR ?__LINE__Var@?0??CL_FreeViewBeams@@9@9
	add	eax, 2
	push	eax
	push	OFFSET ??_C@_0DF@KGKEPMBF@D?3?2DevDragon?2XashFE?2dev?2src?2eng@
	mov	ecx, DWORD PTR _cl_viewbeams
	push	ecx
	call	__Mem_Free
	add	esp, 12					; 0000000cH
$LN2@CL_FreeVie:

; 1372 : 	cl_viewbeams = NULL;

	mov	DWORD PTR _cl_viewbeams, 0

; 1373 : }

	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
_CL_FreeViewBeams ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File D:\DevDragon\XashFE\dev\src\engine\client\gl_beams.c
;	COMDAT _CL_ClearViewBeams
_TEXT	SEGMENT
_i$ = -4						; size = 4
_CL_ClearViewBeams PROC					; COMDAT

; 1348 : {

	push	ebp
	mov	ebp, esp
	sub	esp, 68					; 00000044H
	push	ebx
	push	esi
	push	edi

; 1349 : 	int	i;
; 1350 : 
; 1351 : 	if( !cl_viewbeams ) return;

	cmp	DWORD PTR _cl_viewbeams, 0
	jne	SHORT $LN5@CL_ClearVi
	jmp	SHORT $LN1@CL_ClearVi
$LN5@CL_ClearVi:

; 1352 : 
; 1353 : 	// clear beams
; 1354 : 	cl_free_beams = cl_viewbeams;

	mov	eax, DWORD PTR _cl_viewbeams
	mov	DWORD PTR _cl_free_beams, eax

; 1355 : 	cl_active_beams = NULL;

	mov	DWORD PTR _cl_active_beams, 0

; 1356 : 
; 1357 : 	for( i = 0; i < GI->max_beams - 1; i++ )

	mov	DWORD PTR _i$[ebp], 0
	jmp	SHORT $LN4@CL_ClearVi
$LN2@CL_ClearVi:
	mov	eax, DWORD PTR _i$[ebp]
	add	eax, 1
	mov	DWORD PTR _i$[ebp], eax
$LN4@CL_ClearVi:
	mov	eax, DWORD PTR _SI+768
	mov	ecx, DWORD PTR [eax+1664]
	sub	ecx, 1
	cmp	DWORD PTR _i$[ebp], ecx
	jge	SHORT $LN3@CL_ClearVi

; 1358 : 		cl_viewbeams[i].next = &cl_viewbeams[i+1];

	mov	eax, DWORD PTR _i$[ebp]
	add	eax, 1
	imul	ecx, eax, 124
	add	ecx, DWORD PTR _cl_viewbeams
	imul	edx, DWORD PTR _i$[ebp], 124
	mov	eax, DWORD PTR _cl_viewbeams
	mov	DWORD PTR [eax+edx], ecx
	jmp	SHORT $LN2@CL_ClearVi
$LN3@CL_ClearVi:

; 1359 : 	cl_viewbeams[GI->max_beams - 1].next = NULL;

	mov	eax, DWORD PTR _SI+768
	mov	ecx, DWORD PTR [eax+1664]
	sub	ecx, 1
	imul	edx, ecx, 124
	mov	eax, DWORD PTR _cl_viewbeams
	mov	DWORD PTR [eax+edx], 0
$LN1@CL_ClearVi:

; 1360 : }

	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
_CL_ClearViewBeams ENDP
_TEXT	ENDS
; Function compile flags: /Odtp /ZI
; File D:\DevDragon\XashFE\dev\src\engine\client\gl_beams.c
;	COMDAT _CL_InitViewBeams
_TEXT	SEGMENT
_CL_InitViewBeams PROC					; COMDAT

; 1336 : {

	push	ebp
	mov	ebp, esp
	sub	esp, 64					; 00000040H
	push	ebx
	push	esi
	push	edi

; 1337 : 	cl_viewbeams = Mem_Calloc( cls.mempool, sizeof( BEAM ) * GI->max_beams );

	mov	eax, DWORD PTR ?__LINE__Var@?0??CL_InitViewBeams@@9@9
	add	eax, 1
	push	eax
	push	OFFSET ??_C@_0DF@KGKEPMBF@D?3?2DevDragon?2XashFE?2dev?2src?2eng@
	push	1
	mov	ecx, DWORD PTR _SI+768
	imul	edx, DWORD PTR [ecx+1664], 124
	push	edx
	mov	eax, DWORD PTR _cls+40
	push	eax
	call	__Mem_Alloc
	add	esp, 20					; 00000014H
	mov	DWORD PTR _cl_viewbeams, eax

; 1338 : 	CL_ClearViewBeams();

	call	_CL_ClearViewBeams

; 1339 : }

	pop	edi
	pop	esi
	pop	ebx
	mov	esp, ebp
	pop	ebp
	ret	0
_CL_InitViewBeams ENDP
_TEXT	ENDS
END
